"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[453,645,490],{74177:function(e,s,t){t(72791);var a=t(80184);s.Z=()=>(0,a.jsx)("div",{className:"loading-gif",children:(0,a.jsx)("img",{src:t(57837),alt:"loading gif"})})},78084:function(e,s,t){t.d(s,{Z:function(){return n}});var a=t(57689),i=t(72791);t(31243);t(55872),t(82570),t(7463);var l=t(80184);var n=e=>{let{setProfileContent:s,profileContent:t,profileDetail:n,setProfileDetail:r}=e;const o=(0,a.s0)(),[c,d]=((0,i.useRef)(null),(0,i.useState)(!1)),[h,u]=(0,i.useState)({email:"",password:"",passwordConfirmation:""}),[m,g]=(0,i.useState)("password"),[x,p]=(0,i.useState)("password"),[j,f]=(0,i.useState)(!1),[v,N]=(0,i.useState)(!1),[y,b]=(0,i.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[C,k]=(0,i.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),[S,F]=(0,i.useState)("#051885"),[_,A]=(0,i.useState)("#FFA7E5"),[E,P]=(0,i.useState)("#FFA7E5");return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("section",{className:"centered-nav-bar",style:{backgroundColor:S},children:[(0,l.jsx)("section",{className:"top-section",children:(0,l.jsx)("div",{className:"logo",children:(0,l.jsx)("h2",{style:{color:_},onClick:()=>o("/"),children:"Wittle"})})}),(0,l.jsxs)("section",{className:"nav-slider",children:[(0,l.jsx)("h4",{style:{color:E,textDecoration:"My properties"===t?`underline 3px ${E}`:"",textUnderlineOffset:"My properties"===t?"5px":""},onClick:()=>{s("My properties"),r("My properties"),o("/agents/profile")},children:"MY PROPERTIES"}),(0,l.jsx)("h4",{style:{color:E,textDecoration:"Variables"===t?`underline 3px ${E}`:"",textUnderlineOffset:"Variables"===t?"5px":""},onClick:()=>{s("Variables"),r("Variables"),o("/agents/explore")},children:"EXPLORE"}),(0,l.jsx)("h4",{style:{color:E,textDecoration:"Comparison"===t?`underline 3px ${E}`:"",textUnderlineOffset:"Comparison"===t?"5px":""},onClick:()=>{s("Comparison"),r("Comparison"),o("/agents/compare")},children:"COMPARISON"}),(0,l.jsx)("h4",{style:{color:E,textDecoration:"Account"===t?`underline 3px ${E}`:"",textUnderlineOffset:"Account"===t?"5px":""},onClick:()=>{s("Account"),r("Account")},children:"ACCOUNT"})]})]})})}},24604:function(e,s,t){t(72791);var a=t(80184);s.Z=e=>{let{setProfileContent:s,profileContent:t,profileDetail:i,setProfileDetail:l}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"mobile-selector-section",children:(0,a.jsx)("div",{className:"mobile-title-slider",children:"Search"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"pills",onClick:()=>l("Wittle search"),style:{fontWeight:"Wittle search"===i?"700":"500",backgroundColor:"Wittle search"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Wittle search"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>l("Property search"),style:{fontWeight:"Property search"===i?"700":"500",backgroundColor:"Property search"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property search"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>l("Saved properties"),style:{fontWeight:"Saved properties"===i?"700":"500",backgroundColor:"Saved properties"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved properties"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>l("Saved searches"),style:{fontWeight:"Saved searches"===i?"700":"500",backgroundColor:"Saved searches"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved searches"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>l("Property comparison"),style:{fontWeight:"Property comparison"===i?"700":"500",backgroundColor:"Property comparison"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property comparison"})]}):"Lifestyle"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"pills",onClick:()=>l("Lifestyle search"),style:{fontWeight:"Lifestyle search"===i?"700":"500",backgroundColor:"Lifestyle search"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Search"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>l("List"),style:{fontWeight:"List"===i?"700":"500",backgroundColor:"List"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved places"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>l("Lifestyle insights"),style:{fontWeight:"Lifestyle insights"===i?"700":"500",backgroundColor:"Lifestyle insights"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Insights"})]}):"Admin"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"pills",onClick:()=>l("Admin dashboard"),style:{fontWeight:"Admin dashboard"===i?"700":"500",backgroundColor:"Admin dashboard"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Dashboard"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>l("Admin opportunities"),style:{fontWeight:"Admin opportunities"===i?"700":"500",backgroundColor:"Admin opportunities"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Opportunity"})]}):""})})})}},60764:function(e,s,t){var a=t(57689),i=(t(72791),t(97165)),l=(t(55872),t(7463),t(80184));s.Z=e=>{let{navbarColour:s}=e;const t=(0,a.s0)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("section",{className:"nav-section no-print",style:{backgroundColor:s},children:[(0,l.jsx)("div",{className:"left-section",children:(0,l.jsx)("div",{className:"logo",children:(0,l.jsx)("h2",{onClick:()=>t("/"),children:"Wittle"})})}),(0,i.Hb)()?(0,l.jsx)("div",{className:"menu-container",children:(0,l.jsx)("h3",{className:"cta",onClick:e=>{localStorage.removeItem("wittle-user-token"),localStorage.removeItem("wittle-username"),window.location.reload()},children:(0,l.jsx)("a",{children:"Sign out"})})}):(0,l.jsx)("div",{className:"menu-container",children:(0,l.jsx)("h3",{className:"cta",onClick:()=>t("/login"),children:(0,l.jsx)("a",{children:"Sign in"})})})]})})}},94453:function(e,s,t){t.r(s);var a=t(72791),i=t(31243),l=t(57689),n=t(97165),r=(t(99696),t(24604),t(60764)),o=t(52094),c=t(78084),d=t(74177),h=t(80184);i.Z.defaults.xsrfCookieName="csrftoken",i.Z.defaults.xsrfHeaderName="X-CSRFToken";s.default=()=>{const e=(0,l.s0)(),[s,t]=(0,a.useState)(),[u,m]=(0,a.useState)(),[g,x]=(0,a.useState)(),[p,j]=(0,a.useState)(!1),[f,v]=(0,a.useState)("Comparison"),[N,y]=(0,a.useState)("Comparison"),[b,C]=(0,a.useState)(!1),[k,S]=(0,a.useState)(""),[F,_]=(0,a.useState)(""),[A,E]=(0,a.useState)(),[P,w]=(0,a.useState)(),[L,W]=(0,a.useState)([]),[D,Z]=(0,a.useState)([]),[R,H]=(0,a.useState)(""),[$,I]=(0,a.useState)("Efficiency"),[O,U]=(0,a.useState)([]),[T,B]=(0,a.useState)(sessionStorage.getItem("sessionName")||"");(0,a.useEffect)((()=>{(0,n.Hb)()?(async()=>{try{const{data:e}=await i.Z.get(`/api/auth/profile/${(0,n.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});console.log("user data ->",e),m(e)}catch(e){t(!0),console.log(e)}})():(e("/access-denied"),console.log("no account"))}),[]);const M=async()=>{if((0,n.Hb)()){console.log("trying to increase");try{const{data:e}=await i.Z.post("/api/usage/",{},{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});console.log(e),"success"===e.status?console.log("Usage count increased successfully"):console.error("Failed to increase usage count:",e.message)}catch(s){console.error("Error:",s)}}else e("/access-denied"),console.log("logged out")};function V(e){return O.some((s=>s.postcode===e.postcode&&s.address===e.address))}(0,a.useEffect)((()=>{(async()=>{try{const{data:e}=await i.Z.get("/api/epc_favourite/",{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});U(e)}catch(e){console.error("Error fetching favourites:",e)}})()}),[]),(0,a.useEffect)((()=>{T&&sessionStorage.setItem("sessionName",T)}),[T]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("section",{className:"agent-profile-page",children:[(0,h.jsx)("div",{className:"desktop-nav",children:(0,h.jsx)(r.Z,{navbarColour:"#FDF7F0"})}),(0,h.jsx)("div",{className:"mobile-nav",children:(0,h.jsx)(c.Z,{setProfileContent:v,profileContent:f,profileDetail:N,setProfileDetail:y})}),(0,h.jsx)(o.Z,{setProfileDetail:y,variableSide:b,setProfileContent:v,setVariableSide:C,userData:u}),(0,h.jsx)("section",{className:"main-body",children:(0,h.jsx)("section",{className:"main-body-details",children:(0,h.jsx)(h.Fragment,{children:u&&u.usage_stats[0]&&("Basic"===u.usage_stats[0].package&&u.usage_stats[0].epc_monthly_count<11||"Unlimited"===u.usage_stats[0].package||"Advanced Pilot"===u.usage_stats[0].package&&u.usage_stats[0].epc_monthly_count<101)?(0,h.jsxs)("section",{className:"property-finder",children:[(0,h.jsxs)("div",{className:"listing-options",children:[(0,h.jsx)("div",{className:"listing-buttons"}),(0,h.jsx)("div",{className:"logout-button",onClick:s=>{localStorage.removeItem("wittle-user-token"),localStorage.removeItem("wittle-username"),e("/login")},children:(0,h.jsx)("div",{className:"logout-icon"})})]}),(0,h.jsx)("hr",{className:"title-line"}),(0,h.jsxs)("div",{className:"epc-matcher",children:[(0,h.jsxs)("div",{className:"input-section",children:[(0,h.jsx)("h3",{className:"sub-title",children:"Input property details to find  details about live listings"}),g?(0,h.jsx)(d.Z,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"single-input-block",children:(0,h.jsxs)("div",{className:"input-block large",children:[(0,h.jsx)("h3",{children:"Property category"}),(0,h.jsx)("input",{type:"text",value:T,onChange:e=>B(e.target.value),placeholder:"Enter category"})]})}),(0,h.jsxs)("div",{className:"double-input-block",children:[(0,h.jsxs)("div",{className:"input-block half",children:[(0,h.jsx)("h3",{children:"Postcode"}),(0,h.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),placeholder:"Enter postcode..."})]}),(0,h.jsxs)("div",{className:"input-block half",children:[(0,h.jsx)("h3",{children:"Road name"}),(0,h.jsx)("input",{type:"text",value:F,onChange:e=>_(e.target.value)})]})]}),(0,h.jsx)("div",{className:"single-input-block",children:(0,h.jsxs)("div",{className:"input-block large",children:[(0,h.jsx)("h3",{children:"Efficiency (numbers) or Rating (letters)"}),(0,h.jsxs)("select",{onChange:e=>I(e.target.value),children:[(0,h.jsx)("option",{children:"Efficiency"}),(0,h.jsx)("option",{children:"Rating"})]})]})}),"Efficiency"===$?(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"double-input-block",children:[(0,h.jsxs)("div",{className:"input-block half",children:[(0,h.jsx)("h3",{children:"Current Energy Efficiency"}),(0,h.jsx)("input",{type:"number",value:A,onChange:e=>E(e.target.value)})]}),(0,h.jsxs)("div",{className:"input-block half",children:[(0,h.jsx)("h3",{children:"Potential Energy Efficiency"}),(0,h.jsx)("input",{type:"number",value:P,onChange:e=>w(e.target.value)})]})]})}):(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"double-input-block",children:[(0,h.jsxs)("div",{className:"input-block half",children:[(0,h.jsx)("h3",{children:"Current Energy Rating"}),(0,h.jsx)("input",{type:"text",value:A,onChange:e=>E(e.target.value)})]}),(0,h.jsxs)("div",{className:"input-block half",children:[(0,h.jsx)("h3",{children:"Potential Energy Rating"}),(0,h.jsx)("input",{type:"text",value:P,onChange:e=>w(e.target.value)})]})]})}),(0,h.jsx)("div",{className:"search-section",children:(0,h.jsx)("button",{className:"load-insights",onClick:async()=>{x(!0),j(!1);const e=k.replace(/\s+/g,"");try{const{data:s}=await i.Z.get(`/api/epc/${e}`);if(console.log("Postcode data ->",s),W(s),s&&Array.isArray(s)&&s.length>0){let e=s;"Efficiency"===$?e=e.filter((e=>(!F||e.address.toLowerCase().includes(F.toLowerCase()))&&(!A||e.current_energy_efficiency===Number(A))&&(!P||e.potential_energy_efficiency===Number(P)))):"Rating"===$&&(e=e.filter((e=>(!F||e.address.toLowerCase().includes(F.toLowerCase()))&&(!A||e.current_energy_rating===A.toUpperCase())&&(!P||e.potential_energy_rating===P.toUpperCase())))),e=e.sort(((e,s)=>new Date(s.inspection_date)-new Date(e.inspection_date))),e.length>0?(Z(e),console.log("filtered data->",e),M()):0===e.length&&Z(""),x(!1)}else console.log("No postcode data available"),x(!1)}catch(s){Z(""),t(!0),console.log(s),x(!1)}j(!0)},children:"Load Properties"})})]})]}),(0,h.jsx)("div",{className:"property-results",children:(0,h.jsx)("div",{className:"results-block",children:0!==L.length||p?p&&0===D.length?(0,h.jsx)("h3",{className:"sub-title",children:"We couldn't find anything that matched your search"}):p&&D.length>0?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("h3",{className:"sub-title",children:["You have ",D.length," matching results"]}),(0,h.jsx)("div",{className:"results-details",children:D?D.map(((s,t)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"results-content",children:[(0,h.jsx)("h5",{className:"row-value",children:t+1}),(0,h.jsxs)("div",{className:"results-items",children:[(0,h.jsxs)("div",{className:"results-line",children:[(0,h.jsx)("div",{className:"result-icon",id:"catchment"}),(0,h.jsxs)("div",{className:"results-text",children:[(0,h.jsx)("h5",{className:"text-title",children:"Address: "}),(0,h.jsx)("h5",{className:"text-result",children:s.address})]})]}),(0,h.jsxs)("div",{className:"results-line",children:[(0,h.jsx)("div",{className:"result-icon",id:"house"}),(0,h.jsxs)("div",{className:"results-text",children:[(0,h.jsx)("h5",{className:"text-title",children:"Floor area: "}),(0,h.jsxs)("h5",{className:"text-result",children:[s.floor_area," sq.m"]})]})]}),(0,h.jsxs)("div",{className:"results-line",children:[(0,h.jsx)("div",{className:"result-icon",id:"location"}),(0,h.jsxs)("div",{className:"results-text",children:[(0,h.jsx)("h5",{className:"text-title",children:"Postcode: "}),(0,h.jsx)("h5",{className:"text-result",children:s.postcode})]})]}),(0,h.jsxs)("div",{className:"results-line",children:[(0,h.jsx)("div",{className:"result-icon",id:"building"}),(0,h.jsxs)("div",{className:"results-text",children:[(0,h.jsx)("h5",{className:"text-title",children:"Floor level: "}),(0,h.jsx)("h5",{className:"text-result",children:s.final_floor_level})]})]}),(0,h.jsxs)("div",{className:"results-line",children:[(0,h.jsx)("div",{className:"result-icon",id:"search"}),(0,h.jsxs)("div",{className:"results-text",children:[(0,h.jsx)("h5",{className:"text-title",children:"last inspection: "}),(0,h.jsx)("h5",{className:"text-result",children:s.inspection_date})]})]})]}),(0,h.jsx)("div",{className:"column",id:"column5",children:V(s)?(0,h.jsx)("button",{className:"added",onClick:()=>(async s=>{if((0,n.Hb)())try{const{data:e}=await i.Z.delete("/api/epc_favourite/",{data:{postcode:s.postcode,address:s.address},headers:{Authorization:`Bearer ${(0,n.hP)()}`}});e.message&&U((e=>e.filter((e=>e.postcode!==s.postcode||e.address!==s.address))))}catch(t){console.error("Error deleting favourite:",t)}else e("/access-denied"),console.log("logged out")})(s),children:"\u2714\ufe0f"}):(0,h.jsx)("button",{className:"add",onClick:()=>(async s=>{if((0,n.Hb)())try{const{data:e}=await i.Z.post("/api/epc_favourite/",{postcode:s.postcode,address:s.address,category:T},{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});console.log("session name->",T),e.message&&!V(s)&&U((e=>[...e,{postcode:s.postcode,address:s.address,category:T}]))}catch(t){console.error("Error saving favourite:",t)}else e("/access-denied"),console.log("logged out")})(s),children:"+"})})]},t),(0,h.jsx)("hr",{className:"property-divider"})]}))):""})]}):"":(0,h.jsx)("h3",{className:"sub-title",children:"Start new search to see results"})})})]})]}):u&&"Basic"===u.usage_stats[0].package&&u.usage_stats[0].epc_monthly_count>=11?(0,h.jsxs)("section",{className:"property-finder",children:[(0,h.jsx)("h1",{children:"\ud83d\ude4f Thanks for enjoying Wittle!"}),(0,h.jsx)("h3",{className:"limit-reached",children:"You have reached the free limit of matches for this month, get in touch to unlock another 90 matches."})]}):u&&"Advanced pilot"===u.usage_stats[0].package&&u.usage_stats[0].epc_monthly_count>=101?(0,h.jsxs)("section",{className:"property-finder",children:[(0,h.jsx)("h1",{children:"\ud83d\ude4f Thanks for enjoying Wittle!"}),(0,h.jsx)("h3",{className:"limit-reached",children:"You have carried out 100 matches this month, get in touch to discuss increasing your limit."})]}):""})})})]})})}},52094:function(e,s,t){var a=t(57689),i=t(72791),l=(t(97165),t(31243),t(80184));s.Z=e=>{let{setProfileDetail:s,variableSide:t,setProfileContent:n,setVariableSide:r}=e;const o=(0,a.s0)(),[c,d]=(0,i.useState)(),[h,u]=(0,i.useState)(),[m,g]=(0,i.useState)(""),[x,p]=(0,i.useState)("Search");return(0,i.useEffect)((()=>{setTimeout((()=>{"Home"===m?o("/agents/profile"):"Saved items"===m&&o("/agents/favourites")}),100)}),[m]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("section",{className:"profile-sidebar-open no-print remove-margin",children:[(0,l.jsx)("div",{className:"logo-section",children:(0,l.jsx)("div",{className:"logo",onClick:()=>o("/")})}),(0,l.jsxs)("div",{className:"profile-buttons",children:[(0,l.jsxs)("div",{className:"profile-button-title "+("Home"===m?"active":""),onClick:()=>{g("Home"),setTimeout((()=>{s("Home"),n("Home")}),0)},children:[(0,l.jsx)("div",{className:"icon",id:"home-icon"}),(0,l.jsx)("h2",{children:"Wittle home"})]}),(0,l.jsxs)("div",{className:"profile-button-title "+("Listing generator"===m?"active":""),onClick:()=>{g("Listing generator"),s("Listing generator"),n("Listing generator"),o("/agents/listing-generator")},children:[(0,l.jsx)("div",{className:"icon",id:"listing-icon"}),(0,l.jsx)("h2",{children:"Listing generator"})]}),(0,l.jsxs)("div",{className:"profile-button-title "+("Lead generator test"===m?"active":""),onClick:()=>{g("Lead generator test"),n("Lead generator test"),s("Lead generator test"),o("/agents/lead-gen")},children:[(0,l.jsx)("div",{className:"icon",id:"finder-icon"}),(0,l.jsx)("h2",{children:"Lead generator"})]}),(0,l.jsxs)("div",{className:"profile-button-title "+("Saved items"===m?"active":""),onClick:()=>{g("Saved items"),setTimeout((()=>{s("Saved items"),n("Saved items")}),0)},children:[(0,l.jsx)("div",{className:"icon",id:"saved-icon"}),(0,l.jsx)("h2",{children:"My saved items"})]}),(0,l.jsxs)("div",{className:"profile-button-title "+("Account"===m?"active":""),onClick:()=>{g("Account"),n("Account"),s("Account"),o("/agents/account")},children:[(0,l.jsx)("div",{className:"icon",id:"account-icon"}),(0,l.jsx)("h2",{children:"Account details"})]})]})]})})}},57837:function(e,s,t){e.exports=t.p+"static/media/new-loading.a788dadda3b120785a81.gif"}}]);
//# sourceMappingURL=453.ee464577.chunk.js.map