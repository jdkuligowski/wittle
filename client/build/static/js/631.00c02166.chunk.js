"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[631,667],{55959:function(e,s,i){i(28381);var t=i(29343);s.Z=()=>(0,t.jsx)("div",{className:"loading-gif",children:(0,t.jsx)("img",{src:i(60782),alt:"loading gif"})})},37336:function(e,s,i){i.d(s,{Z:function(){return n}});var t=i(42524),l=i(28381);i(65293);i(63762),i(11535),i(31824);var r=i(29343);var n=e=>{let{setProfileContent:s,profileContent:i,profileDetail:n,setProfileDetail:a}=e;const o=(0,t.s0)(),[c,d]=((0,l.useRef)(null),(0,l.useState)(!1)),[h,p]=(0,l.useState)({email:"",password:"",passwordConfirmation:""}),[u,m]=(0,l.useState)("password"),[x,j]=(0,l.useState)("password"),[g,f]=(0,l.useState)(!1),[v,C]=(0,l.useState)(!1),[y,b]=(0,l.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[N,k]=(0,l.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),[S,F]=(0,l.useState)("#051885"),[P,A]=(0,l.useState)("#FFA7E5"),[E,w]=(0,l.useState)("#FFA7E5");return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{className:"centered-nav-bar",style:{backgroundColor:S},children:[(0,r.jsx)("section",{className:"top-section",children:(0,r.jsx)("div",{className:"logo",children:(0,r.jsx)("h2",{style:{color:P},onClick:()=>o("/"),children:"Wittle"})})}),(0,r.jsxs)("section",{className:"nav-slider",children:[(0,r.jsx)("h4",{style:{color:E,textDecoration:"My properties"===i?`underline 3px ${E}`:"",textUnderlineOffset:"My properties"===i?"5px":""},onClick:()=>{s("My properties"),a("My properties"),o("/agents/profile")},children:"MY PROPERTIES"}),(0,r.jsx)("h4",{style:{color:E,textDecoration:"Variables"===i?`underline 3px ${E}`:"",textUnderlineOffset:"Variables"===i?"5px":""},onClick:()=>{s("Variables"),a("Variables"),o("/agents/explore")},children:"EXPLORE"}),(0,r.jsx)("h4",{style:{color:E,textDecoration:"Comparison"===i?`underline 3px ${E}`:"",textUnderlineOffset:"Comparison"===i?"5px":""},onClick:()=>{s("Comparison"),a("Comparison"),o("/agents/compare")},children:"COMPARISON"}),(0,r.jsx)("h4",{style:{color:E,textDecoration:"Account"===i?`underline 3px ${E}`:"",textUnderlineOffset:"Account"===i?"5px":""},onClick:()=>{s("Account"),a("Account")},children:"ACCOUNT"})]})]})})}},48925:function(e,s,i){i(28381);var t=i(29343);s.Z=e=>{let{setProfileContent:s,profileContent:i,profileDetail:l,setProfileDetail:r}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"mobile-selector-section",children:(0,t.jsx)("div",{className:"mobile-title-slider",children:"Search"===i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"pills",onClick:()=>r("Wittle search"),style:{fontWeight:"Wittle search"===l?"700":"500",backgroundColor:"Wittle search"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Wittle search"}),(0,t.jsx)("h2",{className:"pills",onClick:()=>r("Property search"),style:{fontWeight:"Property search"===l?"700":"500",backgroundColor:"Property search"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property search"}),(0,t.jsx)("h2",{className:"pills",onClick:()=>r("Saved properties"),style:{fontWeight:"Saved properties"===l?"700":"500",backgroundColor:"Saved properties"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved properties"}),(0,t.jsx)("h2",{className:"pills",onClick:()=>r("Saved searches"),style:{fontWeight:"Saved searches"===l?"700":"500",backgroundColor:"Saved searches"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved searches"}),(0,t.jsx)("h2",{className:"pills",onClick:()=>r("Property comparison"),style:{fontWeight:"Property comparison"===l?"700":"500",backgroundColor:"Property comparison"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property comparison"})]}):"Lifestyle"===i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"pills",onClick:()=>r("Lifestyle search"),style:{fontWeight:"Lifestyle search"===l?"700":"500",backgroundColor:"Lifestyle search"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Search"}),(0,t.jsx)("h2",{className:"pills",onClick:()=>r("List"),style:{fontWeight:"List"===l?"700":"500",backgroundColor:"List"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved places"}),(0,t.jsx)("h2",{className:"pills",onClick:()=>r("Lifestyle insights"),style:{fontWeight:"Lifestyle insights"===l?"700":"500",backgroundColor:"Lifestyle insights"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Insights"})]}):"Admin"===i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"pills",onClick:()=>r("Admin dashboard"),style:{fontWeight:"Admin dashboard"===l?"700":"500",backgroundColor:"Admin dashboard"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Dashboard"}),(0,t.jsx)("h2",{className:"pills",onClick:()=>r("Admin opportunities"),style:{fontWeight:"Admin opportunities"===l?"700":"500",backgroundColor:"Admin opportunities"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Opportunity"})]}):""})})})}},8772:function(e,s,i){var t=i(42524),l=(i(28381),i(65293),i(15211)),r=(i(63762),i(31824),i(29343));s.Z=e=>{let{navbarColour:s}=e;const i=(0,t.s0)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{className:"nav-section no-print",style:{backgroundColor:s},children:[(0,r.jsx)("div",{className:"left-section",children:(0,r.jsx)("div",{className:"logo",children:(0,r.jsx)("h2",{onClick:()=>i("/"),children:"Wittle"})})}),(0,l.Hb)()?(0,r.jsx)("div",{className:"menu-container",children:(0,r.jsx)("h3",{className:"cta",onClick:e=>{localStorage.removeItem("wittle-user-token"),localStorage.removeItem("wittle-username"),window.location.reload()},children:(0,r.jsx)("a",{children:"Sign out"})})}):(0,r.jsx)("div",{className:"menu-container",children:(0,r.jsx)("h3",{className:"cta",onClick:()=>i("/login"),children:(0,r.jsx)("a",{children:"Sign in"})})})]})})}},8631:function(e,s,i){i.r(s);var t=i(28381),l=i(65293),r=i(42524),n=i(15211),a=(i(47142),i(95325),i(48925),i(8772)),o=i(59693),c=i(37336),d=i(55959),h=i(29343);s.default=()=>{const e=(0,r.s0)(),[s,i]=(0,t.useState)(),[p,u]=(0,t.useState)(),[m,x]=(0,t.useState)(),[j,g]=(0,t.useState)("Comparison"),[f,v]=(0,t.useState)("Comparison"),[C,y]=(0,t.useState)(!1),[b,N]=(0,t.useState)(""),[k,S]=(0,t.useState)(""),[F,P]=(0,t.useState)(),[A,E]=(0,t.useState)(),[w,D]=(0,t.useState)([]),[W,L]=(0,t.useState)("");(0,t.useEffect)((()=>{(0,n.Hb)()?(async()=>{try{const{data:e}=await l.ZP.get(`/api/auth/profile/${(0,n.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});console.log("user data ->",e),u(e)}catch(e){i(!0),console.log(e)}})():(e("/access-denied"),console.log("no account"))}),[]);return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("section",{className:"agent-profile-page",children:[(0,h.jsx)("div",{className:"desktop-nav",children:(0,h.jsx)(a.Z,{navbarColour:"#FDF7F0"})}),(0,h.jsx)("div",{className:"mobile-nav",children:(0,h.jsx)(c.Z,{setProfileContent:g,profileContent:j,profileDetail:f,setProfileDetail:v})}),(0,h.jsx)(o.Z,{setProfileDetail:v,variableSide:C,setProfileContent:g,setVariableSide:y}),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("section",{className:"property-finder",children:[(0,h.jsx)("h1",{children:"Find the address of listed properties"}),(0,h.jsxs)("div",{className:"epc-matcher",children:[(0,h.jsxs)("div",{className:"input-section",children:[(0,h.jsx)("h3",{className:"sub-title",children:"Add property details"}),m?(0,h.jsx)(d.Z,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"input-block",children:[(0,h.jsx)("h3",{children:"Postcode"}),(0,h.jsx)("input",{type:"text",value:b,onChange:e=>N(e.target.value),placeholder:"Enter postcode..."})]}),(0,h.jsxs)("div",{className:"input-block",children:[(0,h.jsx)("h3",{children:"Road name"}),(0,h.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value)})]}),(0,h.jsxs)("div",{className:"input-block",children:[(0,h.jsx)("h3",{children:"Current Energy Efficiency"}),(0,h.jsx)("input",{type:"number",value:F,onChange:e=>P(e.target.value)})]}),(0,h.jsxs)("div",{className:"input-block",children:[(0,h.jsx)("h3",{children:"Potential Energy Efficiency"}),(0,h.jsx)("input",{type:"number",value:A,onChange:e=>E(e.target.value)})]}),(0,h.jsx)("button",{onClick:async()=>{x(!0);try{const{data:e}=await l.ZP.get(`/api/epc/${b}`);if(console.log("Postcode data ->",e),e&&Array.isArray(e)&&e.length>0){const s=e.filter((e=>e.address.toLowerCase().includes(k.toLowerCase())&&e.current_energy_efficiency===Number(F)&&e.potential_energy_efficiency===Number(A))).sort(((e,s)=>new Date(s.inspection_date)-new Date(e.inspection_date)));D(s),console.log("filtered data->",s),x(!1)}else console.log("No postcode data available"),x(!1)}catch(e){i(!0),console.log(e),x(!1)}},children:"Load Properties"})]})]}),(0,h.jsxs)("div",{className:"property-results",children:[(0,h.jsx)("h3",{className:"sub-title",children:"Matching properties"}),(0,h.jsxs)("div",{className:"results-block",children:[(0,h.jsxs)("div",{className:"results-headers",children:[(0,h.jsx)("h5",{id:"column1",className:"column",children:"#"}),(0,h.jsx)("div",{id:"column2",className:"column",children:(0,h.jsx)("h5",{children:"Address"})}),(0,h.jsx)("div",{id:"column3",className:"column",children:(0,h.jsx)("h5",{children:"Postcode"})}),(0,h.jsx)("div",{id:"column4",className:"column",children:(0,h.jsx)("h5",{children:"Last inspection"})})]}),(0,h.jsx)("hr",{className:"property-divider"}),(0,h.jsx)("div",{className:"results-details",children:w?w.map(((e,s)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"results-content",children:[(0,h.jsx)("div",{className:"column",id:"column1",children:(0,h.jsx)("h5",{children:s+1})}),(0,h.jsx)("div",{className:"column",id:"column2",children:(0,h.jsx)("h5",{children:e.address})}),(0,h.jsx)("div",{className:"column",id:"column3",children:(0,h.jsx)("h5",{children:e.postcode})}),(0,h.jsx)("div",{className:"column",id:"column4",children:(0,h.jsx)("h5",{children:e.inspection_date})})]},s),(0,h.jsx)("hr",{className:"property-divider"})]}))):""})]})]})]})]})})]})})}},59693:function(e,s,i){var t=i(42524),l=(i(28381),i(29343));s.Z=e=>{let{setProfileDetail:s,variableSide:i,setProfileContent:r,setVariableSide:n,userData:a}=e;const o=(0,t.s0)();return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("section",{className:"profile-sidebar-open no-print remove-margin",children:[(0,l.jsx)("div",{className:"logo",children:(0,l.jsx)("h2",{onClick:()=>o("/"),children:"Wittle"})}),(0,l.jsxs)("div",{className:"profile-buttons",children:[(0,l.jsx)("div",{className:"profile-button-title",children:(0,l.jsx)("h2",{onClick:()=>{s("My properties"),r("My properties"),o("/agents/profile")},children:"\ud83e\uddd8\u200d\u2642\ufe0f My properties"})}),(0,l.jsxs)("div",{className:"profile-button-title",id:"second-title",children:[(0,l.jsx)("h2",{onClick:()=>{r("Variables"),s("Variables"),n(!i),o("/agents/explore")},children:"\ud83d\udd0e Explore"}),i?(0,l.jsx)("h4",{children:"v"}):(0,l.jsx)("h4",{children:"^"})]}),i?(0,l.jsxs)("div",{className:"profile-button-sub",children:[(0,l.jsx)("h3",{onClick:()=>s("Primary schools"),children:"\ud83c\udfeb Primary schools"}),(0,l.jsx)("h3",{onClick:()=>s("Secondary schools"),children:"\ud83d\udc68\u200d\ud83c\udfeb Secondary schools"}),(0,l.jsx)("h3",{onClick:()=>s("Restaurants"),children:"\ud83c\udf7d Restaurants "}),(0,l.jsx)("h3",{onClick:()=>s("Pubs"),children:"\ud83c\udf7a Pubs "}),(0,l.jsx)("h3",{onClick:()=>s("Fitness"),children:"\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f Fitness "}),(0,l.jsx)("h3",{onClick:()=>s("Supermarkets"),children:"\ud83d\uded2 Supermarkets "}),(0,l.jsx)("h3",{onClick:()=>s("EVs"),children:"\u26fd\ufe0f EVs "})]}):"",(0,l.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,l.jsx)("h2",{onClick:()=>{r("Property finder"),s("Property finder"),o("/agents/finder")},children:"\ud83c\udfe1 Property finder"})})]})]})})}},60782:function(e,s,i){e.exports=i.p+"static/media/loading-gif-2.1a30597dcd8d7628a1a5.gif"}}]);
//# sourceMappingURL=631.00c02166.chunk.js.map