"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[389],{74177:function(e,s,l){l(72791);var i=l(80184);s.Z=()=>(0,i.jsx)("div",{className:"loading-gif",children:(0,i.jsx)("img",{src:l(57837),alt:"loading gif"})})},19832:function(e,s,l){var i=l(72791),a=l(57689),n=l(96048),c=l.n(n),t=l(34648),o=(l(37879),l(88465),l(74177)),d=l(80184);s.Z=e=>{let{ev1:s,listType:l,setEv1:n,postcodeData:r,tableMapView:h}=e;(0,a.s0)();const[m,u]=(0,i.useState)([]),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)(null),[N,v]=(0,i.useState)(),[b,w]=(0,i.useState)(""),[k,y]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[C,_]=(0,i.useState)(!0),[f,S]=(0,i.useState)(),[L,M]=(0,i.useState)(0),F=50*L,T=F+50,I=e=>{_(!0),console.log(C),S(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,i.useEffect)((()=>{r&&y((e=>({...e,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=e=>{let l="asc";x===e&&"asc"===p&&(l="desc"),j(e),g(l);const i=[...s].sort(((s,i)=>isNaN(s[e])||isNaN(i[e])?s[e]<i[e]?"asc"===l?-1:1:s[e]>i[e]?"asc"===l?1:-1:0:"asc"===l?s[e]-i[e]:i[e]-s[e]));n(i)};return(0,i.useEffect)((()=>{var e;s&&u(""===(e=b)?[...s]:s.filter((s=>s.location.toLowerCase().includes(e.toLowerCase())||s.fast_charging.toLowerCase().includes(e.toLowerCase()))))}),[b,s]),(0,d.jsx)(d.Fragment,{children:s?(0,d.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,d.jsxs)("div",{className:"school-block",children:[(0,d.jsxs)("div",{className:"school-table-headers",children:[(0,d.jsx)("h5",{id:"column1",children:"#"}),(0,d.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>E("location"),children:[(0,d.jsx)("h5",{children:"Charger location"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,d.jsxs)("div",{id:"column3",className:"gym-group sort-section",onClick:()=>E("power"),children:[(0,d.jsx)("h5",{children:"Power"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===l?(0,d.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,d.jsx)("h5",{children:"Distance"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,d.jsx)("h5",{id:"column4"}),(0,d.jsx)("h5",{id:"column5",className:"gym-final",children:"Fast Charging"})]}),(0,d.jsx)("div",{className:"school-table-details",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"school-content",children:[(0,d.jsx)("div",{className:"column",id:"column1",children:(0,d.jsx)("h5",{children:s+1})}),(0,d.jsx)("div",{className:"column gym-name",id:"column2",children:(0,d.jsx)("h5",{children:e.location})}),(0,d.jsx)("div",{className:"column gym-group",id:"column3",children:(0,d.jsxs)("h5",{children:[e.power," kW"]})}),(0,d.jsx)("div",{className:"column",id:"column4",children:"short list"===l?(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]}):(0,d.jsx)("h5",{})}),(0,d.jsx)("div",{className:"column gym-final",id:"column5",children:(0,d.jsx)("h5",{children:e.fast_charging})})]}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,d.jsx)("div",{className:"school-block",children:(0,d.jsxs)("div",{className:"map-grid-view",children:[(0,d.jsx)("div",{className:"grid-list",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"school-content",children:(0,d.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:I,children:[(0,d.jsxs)("h5",{className:"title",children:[s+1,". ",e.location]}),(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"evs"}),(0,d.jsxs)("h5",{children:[e.power,"kW"]})]}),"short list"===l?(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"distance"}),(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,d.jsx)("div",{className:"map-section",children:(0,d.jsxs)(t.ZP,{...k,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{y(e)},center:k,onMove:e=>y(e.viewport),className:"profile-map",children:[m&&m.map(((e,s)=>(0,d.jsx)(t.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{return s=e,console.log("selectd gym ->",s),void v(s);var s},children:(0,d.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(F,T),r&&(0,d.jsx)(t.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,d.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),N?(0,d.jsx)(t.GI,{longitude:N.longitude,latitude:N.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>v(null),children:(0,d.jsx)("div",{className:"popup-content",children:(0,d.jsxs)("div",{className:"popup-border",children:[(0,d.jsx)("h5",{className:"title",children:N.location}),(0,d.jsxs)("p",{children:["\u26fd\ufe0f Power:",N.power," kW"]}),(0,d.jsxs)("p",{children:["\u26fd\ufe0f Fast charging: ",N.fast_charging]})]})})}):""]})})]})}):"",m?(0,d.jsx)(c(),{pageCount:Math.ceil(m.length/50),onPageChange:e=>{const{selected:s}=e;M(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,d.jsx)("section",{className:"loading-screen",children:(0,d.jsx)(o.Z,{})})})}},32767:function(e,s,l){var i=l(72791),a=l(57689),n=l(96048),c=l.n(n),t=l(34648),o=(l(37879),l(88465),l(74177)),d=l(80184);s.Z=e=>{let{gyms1:s,listType:l,setGyms1:n,postcodeData:r,tableMapView:h}=e;(0,a.s0)();const[m,u]=(0,i.useState)([]),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)(null),[N,v]=(0,i.useState)(),[b,w]=(0,i.useState)(""),[k,y]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[C,_]=(0,i.useState)(!0),[f,S]=(0,i.useState)(),[L,M]=(0,i.useState)(0),F=10*L,T=F+10,I=e=>{_(!0),console.log(C),S(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,i.useEffect)((()=>{r&&y((e=>({...e,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=e=>{let l="asc";x===e&&"asc"===p&&(l="desc"),j(e),g(l);const i=[...s].sort(((s,i)=>isNaN(s[e])||isNaN(i[e])?s[e]<i[e]?"asc"===l?-1:1:s[e]>i[e]?"asc"===l?1:-1:0:"asc"===l?s[e]-i[e]:i[e]-s[e]));n(i)};return(0,i.useEffect)((()=>{var e;s&&u(""===(e=b)?[...s]:s.filter((s=>s.gym_name.toLowerCase().includes(e.toLowerCase())||s.gym_group.toLowerCase().includes(e.toLowerCase())||s.class_type.toLowerCase().includes(e.toLowerCase()))))}),[b,s]),(0,d.jsx)(d.Fragment,{children:s?(0,d.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,d.jsxs)("div",{className:"school-block",children:[(0,d.jsxs)("div",{className:"school-table-headers",children:[(0,d.jsx)("h5",{id:"column1",children:"#"}),(0,d.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>E("gym_name"),children:[(0,d.jsx)("h5",{children:"Studio name"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,d.jsxs)("div",{id:"column3",className:"gym-group sort-section",onClick:()=>E("gym_group"),children:[(0,d.jsx)("h5",{children:"Studio group"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===l?(0,d.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,d.jsx)("h5",{children:"Distance"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,d.jsx)("h5",{id:"column4"}),(0,d.jsx)("h5",{id:"column5",className:"gym-final",children:"Class types"})]}),(0,d.jsx)("div",{className:"school-table-details",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"school-content",children:[(0,d.jsx)("div",{className:"column",id:"column1",children:(0,d.jsx)("h5",{children:s+1})}),(0,d.jsx)("div",{className:"column gym-name",id:"column2",children:(0,d.jsx)("h5",{children:e.gym_name})}),(0,d.jsx)("div",{className:"column gym-group",id:"column3",children:(0,d.jsx)("h5",{children:e.gym_group})}),(0,d.jsx)("div",{className:"column",id:"column4",children:"short list"===l?(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]}):(0,d.jsx)("h5",{})}),(0,d.jsx)("div",{className:"column gym-final",id:"column5",children:(0,d.jsx)("h5",{children:e.class_type})})]}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,d.jsx)("div",{className:"school-block",children:(0,d.jsxs)("div",{className:"map-grid-view",children:[(0,d.jsx)("div",{className:"grid-list",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"school-content",children:(0,d.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:I,children:[(0,d.jsxs)("h5",{className:"title",children:[s+1,". ",e.gym_name]}),(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"gyms"}),(0,d.jsx)("h5",{children:e.gym_group})]}),"short list"===l?(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"distance"}),(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,d.jsx)("div",{className:"map-section",children:(0,d.jsxs)(t.ZP,{...k,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{y(e)},center:k,onMove:e=>y(e.viewport),className:"profile-map",children:[m&&m.map(((e,s)=>(0,d.jsx)(t.Jx,{id:e.id,longitude:e.long,latitude:e.Lat,onClick:()=>{return s=e,console.log("selectd gym ->",s),void v(s);var s},children:(0,d.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(F,T),r&&(0,d.jsx)(t.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,d.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),N?(0,d.jsx)(t.GI,{longitude:N.long,latitude:N.Lat,closeOnClick:!1,className:"item-popup",onClose:()=>v(null),children:(0,d.jsx)("div",{className:"popup-content",children:(0,d.jsxs)("div",{className:"popup-border",children:[(0,d.jsx)("h5",{className:"title",children:N.gym_name}),(0,d.jsx)("p",{children:N.gym_group}),(0,d.jsx)("p",{children:N.class_type})]})})}):""]})})]})}):"",m?(0,d.jsx)(c(),{pageCount:Math.ceil(m.length/10),onPageChange:e=>{const{selected:s}=e;M(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,d.jsx)("section",{className:"loading-screen",children:(0,d.jsx)(o.Z,{})})})}},71213:function(e,s,l){var i=l(72791),a=l(57689),n=l(96048),c=l.n(n),t=l(34648),o=l(37879),d=(l(88465),l(74177)),r=l(35176),h=l(80184);s.Z=e=>{let{primaryData1:s,listType:l,setPrimaryData1:n,postcodeData:m,tableMapView:u,primaryDetail:x,setPrimaryDetail:j,setSliderSelection:p,setPropertyView:g}=e;(0,a.s0)();const[N,v]=(0,i.useState)([]),[b,w]=(0,i.useState)(""),[k,y]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[C,_]=(0,i.useState)(null),[f,S]=(0,i.useState)(null),[L,M]=(0,i.useState)(null),[F,T]=(0,i.useState)(!0),[I,E]=(0,i.useState)(),[D,J]=(0,i.useState)(0),A=10*D,G=A+10,V=e=>{T(!0),console.log(F),E(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,i.useEffect)((()=>{m&&y((e=>({...e,latitude:m[0].longitude,longitude:m[0].latitude,zoom:12.5})))}),[m]);const Z=e=>{let l="asc";f===e&&"asc"===L&&(l="desc"),S(e),M(l);const i=[...s].sort(((s,i)=>isNaN(s[e])||isNaN(i[e])?s[e]<i[e]?"asc"===l?-1:1:s[e]>i[e]?"asc"===l?1:-1:0:"asc"===l?s[e]-i[e]:i[e]-s[e]));n(i)};(0,i.useEffect)((()=>{var e;s&&v(""===(e=b)?[...s]:s.filter((s=>s.school_name.toLowerCase().includes(e.toLowerCase())||s.local_authority.toLowerCase().includes(e.toLowerCase())||s.school_type.toLowerCase().includes(e.toLowerCase())||s.ofsted_results&&s.ofsted_results.toString().toLowerCase().includes(e.toLowerCase())||s.total_pass_rate&&s.total_pass_rate.toString().toLowerCase().includes(e.toLowerCase())||s.total_top_rate&&s.total_top_rate.toString().toLowerCase().includes(e.toLowerCase())||"short list"===l&&s.within_catchment.toLowerCase().includes(e.toLowerCase())||"short list"===l&&s.walkTimeMin&&s.walkTimeMin.toString().toLowerCase().includes(e.toLowerCase())||"long list"===l&&s.max_distance&&s.max_distance.toString().toLowerCase().includes(e.toLowerCase()))))}),[b,s]);return(0,h.jsx)(h.Fragment,{children:s&&"Table"===x?(0,h.jsxs)("section",{className:"primary-details-section",children:["Table"===u?(0,h.jsxs)("div",{className:"school-block",children:[(0,h.jsxs)("div",{className:"school-table-headers",children:[(0,h.jsx)("h5",{id:"column1",children:"#"}),(0,h.jsxs)("div",{id:"column2",className:"sort-section",onClick:()=>Z("school_name"),children:[(0,h.jsx)("h5",{children:"School name"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,h.jsx)("h5",{id:"column3",children:"Local authority"}),(0,h.jsx)("h5",{id:"column4",children:"Type"}),(0,h.jsxs)("div",{id:"column5",className:"sort-section",onClick:()=>Z("ofsted_results"),children:[(0,h.jsx)("h5",{children:"Ofsted"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,h.jsxs)("div",{id:"column6",className:"sort-section",onClick:()=>Z("pupils_at_standard"),children:[(0,h.jsx)("h5",{children:"At standard"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,h.jsxs)("div",{id:"column7",className:"sort-section",onClick:()=>Z("pupils_exceeding_standard"),children:[(0,h.jsx)("h5",{children:"Exceeding standard"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===l?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h5",{id:"column8",children:"Catchment"}),(0,h.jsxs)("div",{id:"column9",className:"sort-section",onClick:()=>Z("distance_between"),children:[(0,h.jsx)("h5",{children:"Dist"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})]}):"long list"===l?(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{id:"column8",className:"sort-section",onClick:()=>Z("max_distance"),children:[(0,h.jsx)("h5",{children:"Catchment distance"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})}):""]}),(0,h.jsx)("div",{className:"school-table-details",children:N?N.map(((e,s)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"school-content",children:[(0,h.jsx)("div",{className:"column",id:"column1",children:(0,h.jsx)("h5",{children:s+1})}),(0,h.jsx)("div",{className:"column",id:"column2",children:(0,h.jsx)("h5",{onClick:()=>{return s=e.id,g("Details"),j("School"),p("Primary schools"),window.localStorage.setItem("school-id",s),void console.log(s);var s},children:e.school_name})}),(0,h.jsx)("div",{className:"column",id:"column3",children:(0,h.jsx)("h5",{children:e.local_authority})}),(0,h.jsx)("div",{className:"column",id:"column4",children:(0,h.jsx)("h5",{children:e.school_type})}),(0,h.jsx)("div",{className:"column",id:"column5",children:(0,h.jsx)("h5",{children:null===e.ofsted_results?"N/a":e.ofsted_results})}),(0,h.jsx)("div",{className:"column",id:"column6",children:"Independent school"===e.school_type?(0,h.jsx)("h5",{children:"N/a"}):(0,h.jsxs)("h5",{children:[Math.round(100*e.pupils_at_standard),"%"]})}),(0,h.jsx)("div",{className:"column",id:"column7",children:"Independent school"===e.school_type?(0,h.jsx)("h5",{children:"N/a"}):(0,h.jsxs)("h5",{children:[Math.round(100*e.pupils_exceeding_standard),"%"]})}),"short list"===l?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"column",id:"column8",children:(0,h.jsx)("h5",{children:e.within_catchment})}),(0,h.jsx)("div",{className:"column",id:"column9",children:(0,h.jsxs)("h5",{children:[e.walkTimeMin," mins"]})})]}):"long list"===l?(0,h.jsx)("div",{className:"column",id:"column8",children:null!==e.max_distance?(0,h.jsx)("h5",{children:e.max_distance}):(0,h.jsx)("h5",{children:"Not specified"})}):""]}),(0,h.jsx)("hr",{className:"dividing-line"})]}))).slice(A,G):""})]}):"Map"===u?(0,h.jsx)("div",{className:"school-block",children:(0,h.jsxs)("div",{className:"map-grid-view",children:[(0,h.jsx)("div",{className:"grid-list",children:N?N.map(((e,s)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"school-content",children:(0,h.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:V,children:[(0,h.jsxs)("h5",{className:"title",children:[s+1,". ",e.school_name]}),(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"secondaries"}),(0,h.jsx)("h5",{children:e.school_type})]}),(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"ofsted"}),(0,h.jsx)("h5",{children:null===e.ofsted_results?"N/a":e.ofsted_results})]}),"short list"===l?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"catchment"}),(0,h.jsx)("h5",{children:e.within_catchment})]}),(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"distance"}),(0,h.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]})]}):"long list"===l?(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"distance"}),(0,h.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,h.jsx)("hr",{className:"dividing-line"})]}))).slice(A,G):""}),(0,h.jsx)("div",{className:"map-section",children:(0,h.jsxs)(t.ZP,{...k,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{y(e)},center:k,onMove:e=>y(e.viewport),className:"profile-map",children:[N&&N.map(((e,s)=>(0,h.jsx)(t.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{return _(s=e),console.log(s.longitude),console.log(s.latitude),void console.log(s.max_distance);var s},children:(0,h.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(A,G),m&&(0,h.jsx)(t.Jx,{id:m[0].id,longitude:m[0].latitude,latitude:m[0].longitude,children:(0,h.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),C&&!["Does not apply","Check","Religion","On request","N/a",null].includes(C.max_distance)?(0,h.jsx)(h.Fragment,{children:"number"===typeof parseFloat(C.longitude)&&"number"===typeof parseFloat(C.latitude)&&"number"===typeof parseFloat(C.max_distance)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(t.Hw,{id:"catchment-area",type:"geojson",data:o.Xwo([parseFloat(C.longitude),parseFloat(C.latitude)],parseFloat(C.max_distance),{units:"kilometers"}),children:[(0,h.jsx)(t.mh,{id:"catchment-area-ring",type:"fill",paint:{"fill-color":"#FFA7E5","fill-opacity":.3}}),(0,h.jsx)(t.mh,{id:"catchment-area-outline",type:"line",paint:{"line-color":"#FFA7E5","line-width":2}})]}),(0,h.jsx)(t.Hw,{id:"radius-line",type:"geojson",data:o.TuJ([[parseFloat(C.longitude),parseFloat(C.latitude)],o.mY0([parseFloat(C.longitude),parseFloat(C.latitude)],parseFloat(C.max_distance),90,{units:"kilometers"}).geometry.coordinates]),children:(0,h.jsx)(t.mh,{id:"radius",type:"line",paint:{"line-color":"#051885","line-width":2,"line-dasharray":[2,1]}})}),(0,h.jsx)(t.Hw,{id:"radius-label",type:"geojson",data:o.mY0([parseFloat(C.longitude),parseFloat(C.latitude)],parseFloat(C.max_distance)/2,90,{units:"kilometers"}),children:(0,h.jsx)(t.mh,{id:"radius-label",type:"symbol",layout:{"text-field":`${C.max_distance} km`,"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12,"text-offset":[0,-1]},paint:{"text-color":"#051885"}})})]}):(0,h.jsx)("p",{children:"Invalid coordinates or distance."})}):C?(0,h.jsx)(t.GI,{longitude:parseFloat(C.longitude),latitude:parseFloat(C.latitude),closeOnClick:!1,className:"item-popup",onClose:()=>_(null),children:(0,h.jsx)("div",{className:"popup-content",children:(0,h.jsx)("div",{className:"popup-border",children:(0,h.jsx)("h5",{className:"title",children:"This school has no catchment area"})})})}):""]})})]})}):"",N?(0,h.jsx)(c(),{pageCount:Math.ceil(N.length/10),onPageChange:e=>{const{selected:s}=e;J(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):"School"===x?(0,h.jsx)(r.default,{}):(0,h.jsx)("section",{className:"loading-screen",children:(0,h.jsx)(d.Z,{})})})}},82213:function(e,s,l){var i=l(72791),a=l(57689),n=l(96048),c=l.n(n),t=l(34648),o=(l(37879),l(88465),l(74177)),d=l(80184);s.Z=e=>{let{pubs1:s,listType:l,setPubs1:n,postcodeData:r,tableMapView:h}=e;(0,a.s0)();const[m,u]=(0,i.useState)([]),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)(null),[N,v]=(0,i.useState)(),[b,w]=(0,i.useState)(""),[k,y]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[C,_]=(0,i.useState)(!0),[f,S]=(0,i.useState)(),[L,M]=(0,i.useState)(0),F=10*L,T=F+10,I=e=>{_(!0),console.log(C),S(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,i.useEffect)((()=>{r&&y((e=>({...e,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=e=>{let l="asc";x===e&&"asc"===p&&(l="desc"),j(e),g(l);const i=[...s].sort(((s,i)=>isNaN(s[e])||isNaN(i[e])?s[e]<i[e]?"asc"===l?-1:1:s[e]>i[e]?"asc"===l?1:-1:0:"asc"===l?s[e]-i[e]:i[e]-s[e]));n(i)};return(0,i.useEffect)((()=>{var e;s&&u(""===(e=b)?[...s]:s.filter((s=>s.name.toLowerCase().includes(e.toLowerCase())||s.operator.toLowerCase().includes(e.toLowerCase())||s.walkTimeMin.toLowerCase().includes(e.toLowerCase()))))}),[b,s]),(0,d.jsx)(d.Fragment,{children:s?(0,d.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,d.jsxs)("div",{className:"school-block",children:[(0,d.jsxs)("div",{className:"school-table-headers",children:[(0,d.jsx)("h5",{id:"column1",children:"#"}),(0,d.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>E("name"),children:[(0,d.jsx)("h5",{children:"Pub name"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===l?(0,d.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,d.jsx)("h5",{children:"Distance"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,d.jsx)("h5",{id:"column4"})]}),(0,d.jsx)("div",{className:"school-table-details",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"school-content",children:[(0,d.jsx)("div",{className:"column",id:"column1",children:(0,d.jsx)("h5",{children:s+1})}),(0,d.jsx)("div",{className:"column gym-name",id:"column2",children:(0,d.jsx)("h5",{children:e.name})}),(0,d.jsx)("div",{className:"column",id:"column4",children:"short list"===l?(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]}):(0,d.jsx)("h5",{})})]}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,d.jsx)("div",{className:"school-block",children:(0,d.jsxs)("div",{className:"map-grid-view",children:[(0,d.jsx)("div",{className:"grid-list",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"school-content",children:(0,d.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:I,children:[(0,d.jsxs)("h5",{className:"title",children:[s+1,". ",e.name]}),"short list"===l?(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"distance"}),(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,d.jsx)("div",{className:"map-section",children:(0,d.jsxs)(t.ZP,{...k,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{y(e)},center:k,onMove:e=>y(e.viewport),className:"profile-map",children:[m&&m.map(((e,s)=>(0,d.jsx)(t.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{return s=e,console.log("selected pub ->",s),void v(s);var s},children:(0,d.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(F,T),r&&(0,d.jsx)(t.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,d.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),N?(0,d.jsx)(t.GI,{longitude:N.longitude,latitude:N.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>v(null),children:(0,d.jsx)("div",{className:"popup-content",children:(0,d.jsxs)("div",{className:"popup-border",children:[(0,d.jsx)("h5",{className:"title",children:N.name}),(0,d.jsxs)("p",{children:["\ud83c\udf7a ",N.operator," pub group"]}),(0,d.jsxs)("p",{children:["\ud83c\udf7a Distance: ",N.walkTimeMin," mins"]})]})})}):""]})})]})}):"",m?(0,d.jsx)(c(),{pageCount:Math.ceil(m.length/10),onPageChange:e=>{const{selected:s}=e;M(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,d.jsx)("section",{className:"loading-screen",children:(0,d.jsx)(o.Z,{})})})}},20264:function(e,s,l){var i=l(72791),a=l(57689),n=l(96048),c=l.n(n),t=l(34648),o=(l(37879),l(88465),l(74177)),d=l(80184);s.Z=e=>{let{restaurants1:s,listType:l,setRestaurants1:n,postcodeData:r,tableMapView:h}=e;(0,a.s0)();const[m,u]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)([]),[N,v]=(0,i.useState)(null),[b,w]=(0,i.useState)(null),[k,y]=(0,i.useState)(""),[C,_]=(0,i.useState)(!0),[f,S]=(0,i.useState)(),[L,M]=(0,i.useState)(0),F=10*L,T=F+10,I=e=>{_(!0),console.log(C),S(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,i.useEffect)((()=>{r&&u((e=>({...e,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=e=>{let l="asc";N===e&&"asc"===b&&(l="desc"),v(e),w(l);const i=[...s].sort(((s,i)=>isNaN(s[e])||isNaN(i[e])?s[e]<i[e]?"asc"===l?-1:1:s[e]>i[e]?"asc"===l?1:-1:0:"asc"===l?s[e]-i[e]:i[e]-s[e]));n(i)};return(0,i.useEffect)((()=>{var e;s&&g(""===(e=k)?[...s]:s.filter((s=>s.restaurant_name.toLowerCase().includes(e.toLowerCase()))))}),[k,s]),(0,d.jsx)(d.Fragment,{children:s?(0,d.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,d.jsxs)("div",{className:"school-block",children:[(0,d.jsxs)("div",{className:"school-table-headers",children:[(0,d.jsx)("h5",{id:"column1",children:"#"}),(0,d.jsxs)("div",{id:"column2",className:"sort-section",onClick:()=>E("restaurant_name"),children:[(0,d.jsx)("h5",{children:"Restaurant name"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,d.jsxs)("div",{id:"column3",className:"sort-section",onClick:()=>E("rating"),children:[(0,d.jsx)("h5",{children:"Rating"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===l?(0,d.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,d.jsx)("h5",{children:"Distance"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,d.jsx)("h5",{id:"column4"}),(0,d.jsx)("h5",{id:"column5",children:"Website"})]}),(0,d.jsx)("div",{className:"school-table-details",children:p?p.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"school-content",children:[(0,d.jsx)("div",{className:"column",id:"column1",children:(0,d.jsx)("h5",{children:s+1})}),(0,d.jsx)("div",{className:"column",id:"column2",children:(0,d.jsx)("h5",{children:e.restaurant_name})}),(0,d.jsx)("div",{className:"column",id:"column3",children:(0,d.jsx)("h5",{children:e.rating>4.8?"Excellent":e.rating>4.5?"Very good":e.rating>4.2?"Good":e.rating>3.9?"Average":e.rating>0?"Poor":"N/a"})}),(0,d.jsx)("div",{className:"column",id:"column4",children:"short list"===l?(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins "]}):(0,d.jsx)("h5",{})}),(0,d.jsx)("div",{className:"column",id:"column5",children:(0,d.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.url,children:"Visit website"})})]}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,d.jsx)("div",{className:"school-block",children:(0,d.jsxs)("div",{className:"map-grid-view",children:[(0,d.jsx)("div",{className:"grid-list",children:p?p.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"school-content",children:(0,d.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:I,children:[(0,d.jsxs)("h5",{className:"title",children:[s+1,". ",e.restaurant_name]}),(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"catchment"}),(0,d.jsx)("h5",{children:e.rating>4.8?"Excellent":e.rating>4.5?"Very good":e.rating>4.2?"Good":e.rating>3.9?"Average":e.rating>0?"Poor":"N/a"})]}),"short list"===l?(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"distance"}),(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,d.jsx)("div",{className:"map-section",children:(0,d.jsxs)(t.ZP,{...m,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{u(e)},center:m,onMove:e=>u(e.viewport),className:"profile-map",children:[p&&p.map(((e,s)=>(0,d.jsx)(t.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{return s=e,console.log("selectd restaurant ->",s),void j(s);var s},children:(0,d.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(F,T),r&&(0,d.jsx)(t.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,d.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),x?(0,d.jsx)(t.GI,{longitude:x.longitude,latitude:x.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>j(null),children:(0,d.jsx)("div",{className:"popup-content",children:(0,d.jsxs)("div",{className:"popup-border",children:[(0,d.jsx)("h5",{className:"title",children:x.restaurant_name}),(0,d.jsx)("p",{children:x.master_cuisine})]})})}):""]})})]})}):"",p?(0,d.jsx)(c(),{pageCount:Math.ceil(p.length/10),onPageChange:e=>{const{selected:s}=e;M(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,d.jsx)("section",{className:"loading-screen",children:(0,d.jsx)(o.Z,{})})})}},39577:function(e,s,l){var i=l(72791),a=l(57689),n=l(96048),c=l.n(n),t=l(34648),o=l(37879),d=(l(88465),l(74177)),r=l(37107),h=l(80184);s.Z=e=>{let{propertyData:s,secondaryData1:l,listType:n,setSecondaryData1:m,postcodeData:u,tableMapView:x,secondaryDetail:j,setSecondaryDetail:p,setSliderSelection:g,setPropertyView:N}=e;(0,a.s0)();const[v,b]=(0,i.useState)([]),[w,k]=(0,i.useState)(null),[y,C]=(0,i.useState)(null),[_,f]=(0,i.useState)(null),[S,L]=(0,i.useState)(""),[M,F]=(0,i.useState)(!0),[T,I]=(0,i.useState)(),[E,D]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[J,A]=(0,i.useState)(0),G=10*J,V=G+10,Z=e=>{F(!0),console.log(M),I(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,i.useEffect)((()=>{u&&D((e=>({...e,latitude:u[0].longitude,longitude:u[0].latitude,zoom:12.5})))}),[u]);const z=e=>{let s="asc";y===e&&"asc"===_&&(s="desc"),C(e),f(s);const i=[...l].sort(((l,i)=>isNaN(l[e])||isNaN(i[e])?l[e]<i[e]?"asc"===s?-1:1:l[e]>i[e]?"asc"===s?1:-1:0:"asc"===s?l[e]-i[e]:i[e]-l[e]));m(i)};(0,i.useEffect)((()=>{var e;l&&b(""===(e=S)?[...l]:l.filter((s=>s.school_name.toLowerCase().includes(e.toLowerCase())||s.local_authority.toLowerCase().includes(e.toLowerCase())||s.school_type.toLowerCase().includes(e.toLowerCase())||s.ofsted_results&&s.ofsted_results.toString().toLowerCase().includes(e.toLowerCase())||s.total_pass_rate&&s.total_pass_rate.toString().toLowerCase().includes(e.toLowerCase())||s.total_top_rate&&s.total_top_rate.toString().toLowerCase().includes(e.toLowerCase())||"short list"===n&&s.within_catchment.toLowerCase().includes(e.toLowerCase())||"short list"===n&&s.walkTimeMin&&s.walkTimeMin.toString().toLowerCase().includes(e.toLowerCase())||"long list"===n&&s.max_distance&&s.max_distance.toString().toLowerCase().includes(e.toLowerCase()))))}),[S,l]);return(0,h.jsx)(h.Fragment,{children:l&&"Table"===j?(0,h.jsxs)("section",{className:"primary-details-section",children:["Table"===x?(0,h.jsxs)("div",{className:"school-block",children:[(0,h.jsxs)("div",{className:"school-table-headers",children:[(0,h.jsx)("h5",{id:"column1",children:"#"}),(0,h.jsxs)("div",{id:"column2",className:"sort-section",onClick:()=>z("school_name"),children:[(0,h.jsx)("h5",{children:"School name"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,h.jsx)("h5",{id:"column3",children:"Local authority"}),(0,h.jsx)("h5",{id:"column4",children:"Type"}),(0,h.jsxs)("div",{id:"column5",className:"sort-section",onClick:()=>z("ofsted_results"),children:[(0,h.jsx)("h5",{children:"Ofsted"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,h.jsxs)("div",{id:"column6",className:"sort-section",onClick:()=>z("total_pass_rate"),children:[(0,h.jsx)("h5",{children:"GCSE pass rate"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,h.jsxs)("div",{id:"column7",className:"sort-section",onClick:()=>z("total_top_rate"),children:[(0,h.jsx)("h5",{children:"GCSE A/A*"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h5",{id:"column8",children:"Catchment"}),(0,h.jsxs)("div",{id:"column9",className:"sort-section",onClick:()=>z("distance_between"),children:[(0,h.jsx)("h5",{children:"Dist"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})]}):"long list"===n?(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{id:"column8",className:"sort-section",onClick:()=>z("max_distance"),children:[(0,h.jsx)("h5",{children:"Catchment distance"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})}):""]}),(0,h.jsx)("div",{className:"school-table-details",children:v?v.map(((e,s)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"school-content",children:[(0,h.jsx)("div",{className:"column",id:"column1",children:(0,h.jsx)("h5",{children:s+1})}),(0,h.jsx)("div",{className:"column",id:"column2",children:(0,h.jsx)("h5",{onClick:()=>{return s=e.id,N("Details"),p("School"),g("Secondary schools"),window.localStorage.setItem("school-id",s),void console.log(s);var s},children:e.school_name})}),(0,h.jsx)("div",{className:"column",id:"column3",children:(0,h.jsx)("h5",{children:e.local_authority})}),(0,h.jsx)("div",{className:"column",id:"column4",children:(0,h.jsx)("h5",{children:e.school_type})}),(0,h.jsx)("div",{className:"column",id:"column5",children:(0,h.jsx)("h5",{children:null===e.ofsted_results?"N/a":e.ofsted_results})}),(0,h.jsx)("div",{className:"column",id:"column6",children:(0,h.jsx)("h5",{children:null===e.total_pass_rate?"N/a":e.total_pass_rate})}),(0,h.jsx)("div",{className:"column",id:"column7",children:(0,h.jsx)("h5",{children:null===e.total_top_rate?"N/a":e.total_top_rate})}),"short list"===n?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"column",id:"column8",children:(0,h.jsx)("h5",{children:e.within_catchment})}),(0,h.jsx)("div",{className:"column",id:"column9",children:(0,h.jsxs)("h5",{children:[e.walkTimeMin," mins"]})})]}):"long list"===n?(0,h.jsx)("div",{className:"column",id:"column8",children:(0,h.jsx)("h5",{children:"Independent school"===e.school_type?"N/a":e.max_distance})}):""]}),(0,h.jsx)("hr",{className:"dividing-line"})]}))).slice(G,V):""})]}):"Map"===x?(0,h.jsx)("div",{className:"school-block",children:(0,h.jsxs)("div",{className:"map-grid-view",children:[(0,h.jsx)("div",{className:"grid-list",children:v?v.map(((e,s)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"school-content",children:(0,h.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:Z,children:[(0,h.jsxs)("h5",{className:"title",children:[s+1,". ",e.school_name]}),(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"secondaries"}),(0,h.jsx)("h5",{children:e.school_type})]}),(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"ofsted"}),(0,h.jsx)("h5",{children:e.ofsted_results})]}),(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"catchment"}),(0,h.jsx)("h5",{children:e.within_catchment})]}),(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"distance"}),(0,h.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]})]})}),(0,h.jsx)("hr",{className:"dividing-line"})]}))).slice(G,V):""}),(0,h.jsx)("div",{className:"map-section",children:(0,h.jsxs)(t.ZP,{...E,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{D(e)},center:E,onMove:e=>D(e.viewport),className:"profile-map",children:[v&&v.map(((e,s)=>(0,h.jsx)(t.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{k(e)},children:(0,h.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(G,V),u&&(0,h.jsx)(t.Jx,{id:u[0].id,longitude:u[0].latitude,latitude:u[0].longitude,children:(0,h.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),w&&!["Does not apply","Check","Religion",null].includes(w.max_distance)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(t.Hw,{id:"catchment-area",type:"geojson",data:o.Xwo([w.longitude,w.latitude],w.max_distance,{units:"kilometers"}),children:[(0,h.jsx)(t.mh,{id:"catchment-area-ring",type:"fill",paint:{"fill-color":"#FFA7E5","fill-opacity":.3}}),(0,h.jsx)(t.mh,{id:"catchment-area-outline",type:"line",paint:{"line-color":"#FFA7E5","line-width":2}})]}),(0,h.jsx)(t.Hw,{id:"radius-line",type:"geojson",data:o.TuJ([[w.longitude,w.latitude],o.mY0([w.longitude,w.latitude],w.max_distance,90,{units:"kilometers"}).geometry.coordinates]),children:(0,h.jsx)(t.mh,{id:"radius",type:"line",paint:{"line-color":"#051885","line-width":2,"line-dasharray":[2,1]}})}),(0,h.jsx)(t.Hw,{id:"radius-label",type:"geojson",data:o.mY0([w.longitude,w.latitude],w.max_distance/2,90,{units:"kilometers"}),children:(0,h.jsx)(t.mh,{id:"radius-label",type:"symbol",layout:{"text-field":`${w.max_distance} km`,"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12,"text-offset":[0,-1]},paint:{"text-color":"#051885"}})})]}):w?(0,h.jsx)(t.GI,{longitude:w.longitude,latitude:w.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>k(null),children:(0,h.jsx)("div",{className:"popup-content",children:(0,h.jsx)("div",{className:"popup-border",children:(0,h.jsx)("h5",{className:"title",children:"This school has no catchment area"})})})}):""]})})]})}):"",v?(0,h.jsx)(c(),{pageCount:Math.ceil(v.length/10),onPageChange:e=>{const{selected:s}=e;A(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):"School"===j?(0,h.jsx)(r.default,{}):(0,h.jsx)("section",{className:"loading-screen",children:(0,h.jsx)(d.Z,{})})})}},92514:function(e,s,l){var i=l(72791),a=l(57689),n=l(96048),c=l.n(n),t=l(34648),o=(l(37879),l(88465),l(74177)),d=l(80184);s.Z=e=>{let{propertyData:s,supermarkets1:l,listType:n,setSupermarkets1:r,postcodeData:h,tableMapView:m}=e;(0,a.s0)();const[u,x]=(0,i.useState)([]),[j,p]=(0,i.useState)(),[g,N]=(0,i.useState)(null),[v,b]=(0,i.useState)(null),[w,k]=(0,i.useState)(""),[y,C]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[_,f]=(0,i.useState)(!0),[S,L]=(0,i.useState)(),[M,F]=(0,i.useState)(0),T=10*M,I=T+10,E=e=>{f(!0),console.log(_),L(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,i.useEffect)((()=>{h&&C((e=>({...e,latitude:h[0].longitude,longitude:h[0].latitude,zoom:12.5})))}),[h]);const D=e=>{let s="asc";g===e&&"asc"===v&&(s="desc"),N(e),b(s);const i=[...l].sort(((l,i)=>isNaN(l[e])||isNaN(i[e])?l[e]<i[e]?"asc"===s?-1:1:l[e]>i[e]?"asc"===s?1:-1:0:"asc"===s?l[e]-i[e]:i[e]-l[e]));r(i)};return(0,i.useEffect)((()=>{var e;l&&x(""===(e=w)?[...l]:l.filter((s=>s.cleansed_name.toLowerCase().includes(e.toLowerCase())||s.segment.toLowerCase().includes(e.toLowerCase())||s.size.toLowerCase().includes(e.toLowerCase()))))}),[w,l]),(0,d.jsx)(d.Fragment,{children:l?(0,d.jsxs)("section",{className:"primary-details-section",children:["Table"===m?(0,d.jsxs)("div",{className:"school-block",children:[(0,d.jsxs)("div",{className:"school-table-headers",children:[(0,d.jsx)("h5",{id:"column1",children:"#"}),(0,d.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>D("supermarket_store_name"),children:[(0,d.jsx)("h5",{children:"Supermarket name"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,d.jsxs)("div",{id:"column3",className:"sort-section supermarket",onClick:()=>D("segment"),children:[(0,d.jsx)("h5",{children:"Segment"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,d.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>D("store_size"),children:[(0,d.jsx)("h5",{children:"Size"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===n?(0,d.jsxs)("div",{id:"column5",className:"sort-section",onClick:()=>D("walkTimeMin"),children:[(0,d.jsx)("h5",{children:"Distance"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,d.jsx)("h5",{id:"column5"})]}),(0,d.jsx)("div",{className:"school-table-details",children:u?u.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"school-content",children:[(0,d.jsx)("div",{className:"column",id:"column1",children:(0,d.jsx)("h5",{children:s+1})}),(0,d.jsx)("div",{className:"column gym-name",id:"column2",children:(0,d.jsx)("h5",{children:e.supermarket_store_name})}),(0,d.jsx)("div",{className:"column supermarket",id:"column3",children:(0,d.jsx)("h5",{children:e.segment})}),(0,d.jsx)("div",{className:"column",id:"column4",children:(0,d.jsx)("h5",{children:e.store_size})}),(0,d.jsx)("div",{className:"column",id:"column5",children:"short list"===n?(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]}):(0,d.jsx)("h5",{})})]}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(T,I):""})]}):"Map"===m?(0,d.jsx)("div",{className:"school-block",children:(0,d.jsxs)("div",{className:"map-grid-view",children:[(0,d.jsx)("div",{className:"grid-list",children:u?u.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"school-content",children:(0,d.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:E,children:[(0,d.jsxs)("h5",{className:"title",children:[s+1,". ",e.supermarket_store_name]}),(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"supermarkets"}),(0,d.jsx)("h5",{children:e.store_size})]}),"short list"===n?(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"distance"}),(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(T,I):""}),(0,d.jsx)("div",{className:"map-section",children:(0,d.jsxs)(t.ZP,{...y,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{C(e)},center:y,onMove:e=>C(e.viewport),className:"profile-map",children:[u&&u.map(((e,s)=>(0,d.jsx)(t.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{return s=e,console.log("selectd supermarket ->",s),void p(s);var s},children:(0,d.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(T,I),h&&(0,d.jsx)(t.Jx,{id:h[0].id,longitude:h[0].latitude,latitude:h[0].longitude,children:(0,d.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),j?(0,d.jsx)(t.GI,{longitude:j.longitude,latitude:j.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>p(null),children:(0,d.jsx)("div",{className:"popup-content",children:(0,d.jsxs)("div",{className:"popup-border",children:[(0,d.jsx)("h5",{className:"title",children:j.supermarket_store_name}),(0,d.jsx)("p",{children:j.store_size})]})})}):""]})})]})}):"",u?(0,d.jsx)(c(),{pageCount:Math.ceil(u.length/10),onPageChange:e=>{const{selected:s}=e;F(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,d.jsx)("section",{className:"loading-screen",children:(0,d.jsx)(o.Z,{})})})}},37107:function(e,s,l){l.r(s);var i=l(72791),a=l(31243),n=l(57689),c=(l(99696),l(88465),l(52094),l(60764),l(78084),l(80184));s.default=()=>{const[e,s]=(0,i.useState)(),[l,t]=((0,n.s0)(),(0,i.useState)());return(0,i.useEffect)((()=>{(async()=>{try{const e=JSON.parse(localStorage.getItem("school-id")),{data:s}=await a.Z.get(`/api/secondaries/${e}`);console.log("secondaries data ->",s),t(s)}catch(e){s(!0),console.log(e)}})()}),[]),(0,c.jsx)(c.Fragment,{children:l?(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("section",{className:"single-school-profile",children:[(0,c.jsxs)("div",{className:"school-core-info",children:[(0,c.jsxs)("div",{className:"info-left",children:[(0,c.jsx)("h1",{children:l[0].school_name}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83d\udcc8 Ofsted: ",l[0].ofsted_results]}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83c\udf93 ",l[0].students," students per year"]}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83d\udc68\u200d\ud83d\udc67 Gender: ",l[0].gender]}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83d\ude4f Faith: ",null===l[0].religion?"All":l[0].religion]}),(0,c.jsxs)("a",{href:l[0].school_url,target:"_blank",className:"website",rel:"noreferrer",children:["\ud83d\udcbb ",l[0].school_url]})]}),(0,c.jsx)("div",{className:"info-right",children:(0,c.jsx)("div",{className:"school-image",id:"secondary",style:{backgroundImage:null===l[0].image_url?void 0:`url(${l[0].image_url})`}})})]}),(0,c.jsxs)("div",{className:"school-academic-highlights",children:[(0,c.jsx)("h1",{children:"Academic highlights"}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"item",children:[(0,c.jsx)("div",{className:"circle",children:(0,c.jsxs)("h1",{children:[Math.round(100*(1-l[0].percentile))+1,"%"]})}),(0,c.jsxs)("p",{children:["In the top ",Math.round(100*(1-l[0].percentile))+1,"% of schools in London"]})]}),(0,c.jsxs)("div",{className:"item",children:[(0,c.jsx)("div",{className:"circle",children:(0,c.jsxs)("h1",{children:[Math.round(100*(1-l[0].borough_percentile))+1,"%"]})}),(0,c.jsxs)("p",{children:["In the top ",Math.round(100*(1-l[0].borough_percentile))+1,"% of schools in ",l[0].local_authority]})]}),(0,c.jsxs)("div",{className:"item",children:[(0,c.jsx)("div",{className:"circle",children:(0,c.jsx)("h1",{children:l[0].results.length})}),(0,c.jsxs)("p",{children:["Good curriculum with ",l[0].results.length," subjects"]})]})]})]}),(0,c.jsxs)("div",{className:"school-results",children:[(0,c.jsx)("h1",{children:"GCSE Results"}),(0,c.jsxs)("div",{className:"school-table-headers",children:[(0,c.jsx)("h5",{id:"column1",children:"#"}),(0,c.jsx)("h5",{id:"column2",children:"Subject"}),(0,c.jsx)("h5",{id:"column3",children:"Pass rate (%)"}),(0,c.jsx)("h5",{id:"column4",children:"A/ A* (%)"})]}),(0,c.jsx)("div",{className:"school-table-details",children:l[0].results.map(((e,s)=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"school-content",children:[(0,c.jsx)("div",{className:"column",id:"column1",children:(0,c.jsx)("h5",{children:s+1})}),(0,c.jsx)("div",{className:"column",id:"column2",children:(0,c.jsx)("h5",{children:e.subject})}),(0,c.jsx)("div",{className:"column",id:"column3",children:(0,c.jsx)("h5",{children:Math.round(e.pass_rate)})}),(0,c.jsx)("div",{className:"column",id:"column4",children:(0,c.jsx)("h5",{children:Math.round(e.top_rate)})})]}),(0,c.jsx)("hr",{className:"dividing-line"})]})))})]})]})}):""})}},57837:function(e,s,l){e.exports=l.p+"static/media/new-loading.a788dadda3b120785a81.gif"}}]);
//# sourceMappingURL=389.e2039f0f.chunk.js.399ad23541fc.map