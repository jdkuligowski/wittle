(self.webpackChunkclient=self.webpackChunkclient||[]).push([[620,177],{74177:function(e,s,a){"use strict";a(72791);var r=a(80184);s.Z=()=>(0,r.jsx)("div",{className:"loading-gif",children:(0,r.jsx)("img",{src:a(57837),alt:"loading gif"})})},24604:function(e,s,a){"use strict";a(72791);var r=a(80184);s.Z=e=>{let{setProfileContent:s,profileContent:a,profileDetail:l,setProfileDetail:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"mobile-selector-section",children:(0,r.jsx)("div",{className:"mobile-title-slider",children:"Search"===a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"pills",onClick:()=>t("Wittle search"),style:{fontWeight:"Wittle search"===l?"700":"500",backgroundColor:"Wittle search"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Wittle search"}),(0,r.jsx)("h2",{className:"pills",onClick:()=>t("Property search"),style:{fontWeight:"Property search"===l?"700":"500",backgroundColor:"Property search"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property search"}),(0,r.jsx)("h2",{className:"pills",onClick:()=>t("Saved properties"),style:{fontWeight:"Saved properties"===l?"700":"500",backgroundColor:"Saved properties"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved properties"}),(0,r.jsx)("h2",{className:"pills",onClick:()=>t("Saved searches"),style:{fontWeight:"Saved searches"===l?"700":"500",backgroundColor:"Saved searches"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved searches"}),(0,r.jsx)("h2",{className:"pills",onClick:()=>t("Property comparison"),style:{fontWeight:"Property comparison"===l?"700":"500",backgroundColor:"Property comparison"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property comparison"})]}):"Lifestyle"===a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"pills",onClick:()=>t("Lifestyle search"),style:{fontWeight:"Lifestyle search"===l?"700":"500",backgroundColor:"Lifestyle search"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Search"}),(0,r.jsx)("h2",{className:"pills",onClick:()=>t("List"),style:{fontWeight:"List"===l?"700":"500",backgroundColor:"List"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved places"}),(0,r.jsx)("h2",{className:"pills",onClick:()=>t("Lifestyle insights"),style:{fontWeight:"Lifestyle insights"===l?"700":"500",backgroundColor:"Lifestyle insights"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Insights"})]}):"Admin"===a?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"pills",onClick:()=>t("Admin dashboard"),style:{fontWeight:"Admin dashboard"===l?"700":"500",backgroundColor:"Admin dashboard"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Dashboard"}),(0,r.jsx)("h2",{className:"pills",onClick:()=>t("Admin opportunities"),style:{fontWeight:"Admin opportunities"===l?"700":"500",backgroundColor:"Admin opportunities"===l?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Opportunity"})]}):""})})})}},87620:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return v}});var r=a(72791),l=a(31243),t=a(57689),n=a(97165),i=a(30948),o=(a(99696),a(24604),a(60764)),c=a(52094),d=a(78084),h=a(74177),u=a(98472),p=a(25994),m=a(80184);var x=e=>{let{savedActionShow:s,handleSavedActionClose:a,setLeadGenSection:r,latestFavourites:l}=e;return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(p.Z,{show:s,onHide:a,backdrop:"static",className:"saved-action-modal",children:(0,m.jsx)(p.Z.Body,{children:(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"inner-wrapper",children:[(0,m.jsx)("div",{className:"header-section",children:(0,m.jsx)("h1",{onClick:a,children:"X"})}),(0,m.jsx)("div",{className:"core-body",children:(0,m.jsxs)("h3",{className:"message",children:["We've added ",1===l?`${l} property`:`${l} properties`," to your saved list!"]})}),(0,m.jsxs)("div",{className:"cta-section",children:[(0,m.jsx)("button",{className:"saved",onClick:()=>{r("Saved properties"),a()},children:"Go to saved"}),(0,m.jsx)("button",{className:"stay",onClick:a,children:"Stay here"})]})]})})})})})};l.Z.defaults.xsrfCookieName="csrftoken",l.Z.defaults.xsrfHeaderName="X-CSRFToken";var v=()=>{const e=(0,t.s0)(),[s,a]=(0,r.useState)(),[p,v]=(0,r.useState)(),[j,g]=(0,r.useState)(),[f,y]=(0,r.useState)(),[_,N]=(0,r.useState)(!1),[b,k]=(0,r.useState)("Comparison"),[C,S]=(0,r.useState)("Comparison"),[w,F]=(0,r.useState)(!1),[A,P]=(0,r.useState)(""),[E,O]=(0,r.useState)(""),[L,B]=(0,r.useState)(),[$,T]=(0,r.useState)(),[U,D]=(0,r.useState)([]),[R,W]=(0,r.useState)([]),[Z,I]=(0,r.useState)(""),[H,z]=(0,r.useState)("Efficiency"),[M,V]=(0,r.useState)([]),[Y,G]=(0,r.useState)(),[X,q]=(0,r.useState)(),[J,K]=(0,r.useState)(sessionStorage.getItem("sessionName")||""),[Q,ee]=(0,r.useState)(["SW8"]),[se,ae]=(0,r.useState)(),[re,le]=(0,r.useState)("Home"),[te,ne]=(0,r.useState)([]),[ie,oe]=(0,r.useState)([]),[ce,de]=(0,r.useState)([]),[he,ue]=(0,r.useState)([]),[pe,me]=(0,r.useState)([]),[xe,ve]=(0,r.useState)([]),[je,ge]=(0,r.useState)("Lettings"),[fe,ye]=(0,r.useState)(!1),[_e,Ne]=(0,r.useState)({postcode:"",bathrooms_min:null,bathrooms_max:null,bedrooms_min:null,bedrooms_max:null,rental_price_min:null,rental_price_max:null,sales_price_min:null,sales_price_max:null,channel:"",rental_additional:""}),[be,ke]=(0,r.useState)([]),[Ce,Se]=(0,r.useState)([]),[we,Fe]=(0,r.useState)(),[Ae,Pe]=(0,r.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[Ee,Oe]=(0,r.useState)([]),[Le,Be]=(0,r.useState)(ie.map((()=>!1))),[$e,Te]=(0,r.useState)(pe.map((()=>!1))),[Ue,De]=(0,r.useState)("2days"),[Re,We]=(0,r.useState)([]),[Ze,Ie]=(0,r.useState)([]),[He,ze]=(0,r.useState)([]),[Me,Ve]=(0,r.useState)("asc"),[Ye,Ge]=(0,r.useState)("asc"),[Xe,qe]=(0,r.useState)(),Je=()=>{if((0,n.Hb)()){(async()=>{try{const{data:e}=await l.Z.get(`/api/auth/profile/${(0,n.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});if(console.log("user data ->",e),v(e),e.lead_gen_details.length>0){Ne(e.lead_gen_details[0]);const s=e.epc_favourites.filter((e=>null!==e.rightmove_id&&"Saved"===e.action)),a=e.epc_favourites.filter((e=>null!==e.rightmove_id&&"Extracted"===e.action)),r=[...s,...a].map((e=>e.rightmove_id));We(r);const l=es(e.epc_favourites);"Lettings"===e.lead_gen_details[0].channel?ss(e,r,Ue):"Sales"===e.lead_gen_details[0].channel?as(e,r,Ue):"Both"===e.lead_gen_details[0].channel&&(as(e,r,Ue),ss(e,r,Ue)),G(s),q(a),Fe(l),console.log("existing dtails ->",e.lead_gen_details[0])}else{const s=[];ss(e,s,Ue),as(e,s,Ue),console.log("date -> ",Ue)}}catch(e){a(!0),console.log(e)}})()}else e("/access-denied"),console.log("no account")};(0,r.useEffect)((()=>{Je()}),[]);const Ke=()=>{Be(Ze.map((()=>!1))),ke([])},Qe=()=>{Te(He.map((()=>!1))),Se([])},es=e=>e.filter((e=>null!==e.rightmove_id&&"Saved"===e.action)).map(((e,s)=>({item:s+1,url:e.url,address:e.address,postcode:e.postcode,addedOn:e.added_revised,property_type:e.property_type,price:e.price,bedrooms:e.bedrooms,bathrooms:e.bathrooms,let_available_date:e.let_available_date,date_added:e.date_added_db,agent:e.agent,channel:e.channel}))),ss=async(e,s,a)=>{g(!0);const r=e.lead_gen_details[0].postcode,t=e.lead_gen_details[0].bedrooms_min,i=e.lead_gen_details[0].bedrooms_max,o=e.lead_gen_details[0].rental_price_min,c=e.lead_gen_details[0].rental_price_max,d=e.lead_gen_details[0].rental_additional;try{let e=`/api/epc_properties_rental/combined-epc-results/?postcode=${r}&min_bedrooms=${t}&max_bedrooms=${i}&min_price=${o}&max_price=${c}&rental_additional=${d}`;a&&(e+=`&date_filter=${a}`),s&&s.length>0&&(e+=`&exclude_ids=${s.join(",")}`);const{data:h}=await l.Z.get(e,{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});console.log("combined data ->",h);const u=h.filter((e=>0===e.epc_data_list.length)),p=h.filter((e=>1===e.epc_data_list.length)),m=h.filter((e=>e.epc_data_list.length>1));console.log("sngle matches ->",p),ne(u),oe(p),de(m),g(!1)}catch(h){console.error("can't access combined data ->",h)}},as=async(e,s,a)=>{y(!0);const r=e.lead_gen_details[0].postcode,t=e.lead_gen_details[0].bedrooms_min,i=e.lead_gen_details[0].bedrooms_max,o=e.lead_gen_details[0].sales_price_min,c=e.lead_gen_details[0].sales_price_max;try{let e=`/api/epc_properties/combined-epc-results/?postcode=${r}&min_bedrooms=${t}&max_bedrooms=${i}&min_price=${o}&max_price=${c}`;a&&(e+=`&date_filter=${a}`),s&&s.length>0&&(e+=`&exclude_ids=${s.join(",")}`);const{data:d}=await l.Z.get(e,{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});console.log("combined data ->",d);const h=d.filter((e=>0===e.epc_data_list.length)),u=d.filter((e=>1===e.epc_data_list.length)),p=d.filter((e=>e.epc_data_list.length>1));console.log("sales single matches ->",u),console.log("sales no matches ->",h),console.log("sales multiple matches ->",p),ue(h),me(u),ve(p),y(!1)}catch(d){console.error("can't access combined data ->",d)}},rs=e=>{window.open(e,"_blank","width=1200,height=800,resizable=yes,scrollbars=yes,status=yes")},ls=["200000","300000","400000","500000","600000","700000","800000","900000","1000000","1250000","1500000","1750000","2000000","2250000","2500000","2750000","3000000","3500000","4000000","5000000","7500000","10000000","12500000","15000000","20000000","30000000","40000000","50000000"],ts=["500","600","700","800","900","1000","1100","1200","1300","1400","1500","1600","1700","1800","1900","2000","2250","2500","2750","3000","3250","3500","4000","4500","5000","5500","6000","7000","8000","9000","10000","12500","15000","20000","25000","30000","40000","50000","60000"],ns=(e,s)=>{if(!s||"all"===s)return e;const a="2days"===s?2:"7days"===s?7:"1month"===s?30:"1to3months"===s?90:"3to6months"===s?180:0;return e.filter((e=>{const s=is(e.property_data.added_revised),r=is(e.property_data.reduced_revised);let l;if(l=s&&r?s>r?s:r:s||r,!l)return!1;return os(l,a)}))};(0,r.useEffect)((()=>{const e=ns(ie,Ue);Ie(e)}),[ie,Ue]),(0,r.useEffect)((()=>{const e=ns(pe,Ue);ze(e)}),[pe,Ue]);const is=e=>{if(!e)return null;const[s,a,r]=e.split("/");return new Date(r,a-1,s)},os=(e,s)=>{const a=new Date,r=new Date;return r.setDate(a.getDate()-s),e>=r},cs=()=>{const e=[...Ze].sort(((e,s)=>{const a=parseInt(e.property_data.price.replace(/[^\d.]/g,"")),r=parseInt(s.property_data.price.replace(/[^\d.]/g,""));return"asc"===Me?a-r:r-a})),s=[...He].sort(((e,s)=>{const a=parseInt(e.property_data.price.replace(/[^\d.]/g,"")),r=parseInt(s.property_data.price.replace(/[^\d.]/g,""));return"asc"===Me?a-r:r-a}));Ie(e),ze(s),Ve("asc"===Me?"desc":"asc")},ds=()=>{const e=[...Ze].sort(((e,s)=>"asc"===Ye?e.property_data.postcode.localeCompare(s.property_data.postcode):s.property_data.postcode.localeCompare(e.property_data.postcode))),s=[...He].sort(((e,s)=>"asc"===Ye?e.property_data.postcode.localeCompare(s.property_data.postcode):s.property_data.postcode.localeCompare(e.property_data.postcode)));Ie(e),ze(s),Ge("asc"===Ye?"desc":"asc")},[hs,us]=(0,r.useState)(!1),ps=e=>{us(!0),ke([])};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("section",{className:"agent-profile-page",children:[(0,m.jsx)("div",{className:"desktop-nav",children:(0,m.jsx)(o.Z,{navbarColour:"#FDF7F0"})}),(0,m.jsx)("div",{className:"mobile-nav",children:(0,m.jsx)(d.Z,{setProfileContent:k,profileContent:b,profileDetail:C,setProfileDetail:S})}),(0,m.jsx)(c.Z,{setProfileDetail:S,variableSide:w,setProfileContent:k,setVariableSide:F,userData:p}),(0,m.jsx)("section",{className:"main-body",children:(0,m.jsx)("section",{className:"main-body-details",children:(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("section",{className:"property-finder",children:[(0,m.jsxs)("div",{className:"listing-options",children:[(0,m.jsxs)("div",{className:"listing-buttons",children:[(0,m.jsx)("h5",{className:"no-print",onClick:()=>le("Home"),style:{borderBottom:"Home"===re?"3px solid #ED6B86":"none",textUnderlineOffset:"Home"===re?"0.5em":"initial",fontWeight:"Home"===re?"700":"400"},children:"Home"}),(0,m.jsx)("h5",{className:"no-print",onClick:()=>le("Explore properties"),style:{borderBottom:"Explore properties"===re?"3px solid #ED6B86":"none",textUnderlineOffset:"Explore properties"===re?"0.5em":"initial",fontWeight:"Explore properties"===re?"700":"400"},children:"Explore properties"}),(0,m.jsx)("h5",{className:"no-print",onClick:()=>le("Saved properties"),style:{borderBottom:"Saved properties"===re?"3px solid #ED6B86":"none",textUnderlineOffset:"Saved properties"===re?"0.5em":"initial",fontWeight:"Saved properties"===re?"700":"400"},children:"Saved properties"}),(0,m.jsx)("h5",{className:"no-print",onClick:()=>le("Archived properties"),style:{borderBottom:"Archived properties"===re?"3px solid #ED6B86":"none",textUnderlineOffset:"Archived properties"===re?"0.5em":"initial",fontWeight:"Archived properties"===re?"700":"400"},children:"Archived properties"})]}),(0,m.jsx)("div",{className:"logout-button",onClick:s=>{localStorage.removeItem("wittle-user-token"),localStorage.removeItem("wittle-username"),e("/login")},children:(0,m.jsx)("div",{className:"logout-icon"})})]}),(0,m.jsx)("hr",{className:"title-line"}),(0,m.jsx)("div",{className:"lead-generator",children:(0,m.jsx)("div",{className:"property-results",children:"Home"===re?(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"lead-gen-inputs",children:[(0,m.jsx)("h3",{className:"sub-title",children:"Set your search criteria"}),(0,m.jsx)("div",{className:"single-input-block",children:(0,m.jsxs)("div",{className:"input-block large",children:[(0,m.jsx)("h3",{children:"Postcode(s)"}),(0,m.jsx)("p",{children:"Add multiple postcodes by separating with a comma, and include any part of the postcode, e.g. \u201cSW4,SW5\u201d"}),(0,m.jsx)("input",{type:"text",value:_e.postcode,onChange:e=>{P(e.target.value.toUpperCase().replace(/\s+/g,"")),Ne((s=>({...s,postcode:e.target.value.toUpperCase().replace(/\s+/g,"")})))},placeholder:"Enter postcode..."})]})}),(0,m.jsx)("div",{className:"single-input-block",children:(0,m.jsxs)("div",{className:"input-block large",children:[(0,m.jsx)("h3",{children:"Channel"}),(0,m.jsxs)("select",{className:"dropdown",value:_e.channel||"Lettings",onChange:e=>Ne((s=>({...s,channel:e.target.value}))),children:[(0,m.jsx)("option",{children:"Lettings"}),(0,m.jsx)("option",{children:"Sales"}),(0,m.jsx)("option",{children:"Both"})]})]})}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("div",{className:"see-more-section",onClick:()=>ye(!fe),children:[(0,m.jsx)("h3",{className:"sub-title",children:"Add some more detail"}),fe?(0,m.jsx)("h3",{className:"sub-title",children:"^"}):(0,m.jsx)("h3",{className:"sub-title",children:"v"})]}),fe?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"single-title-double",children:[(0,m.jsx)("h3",{children:"Bedrooms"}),(0,m.jsxs)("div",{className:"double-dropdowns",children:[(0,m.jsxs)("select",{className:"dropdown",value:_e.bedrooms_min||"",onChange:e=>Ne((s=>({...s,bedrooms_min:""===e.target.value?null:e.target.value}))),children:[(0,m.jsx)("option",{value:"",children:"No min"}),(0,m.jsx)("option",{value:"1",children:"1"}),(0,m.jsx)("option",{value:"2",children:"2"}),(0,m.jsx)("option",{value:"3",children:"3"}),(0,m.jsx)("option",{value:"4",children:"4"}),(0,m.jsx)("option",{value:"5",children:"5"}),(0,m.jsx)("option",{value:"6",children:"6"})]}),(0,m.jsxs)("select",{className:"dropdown",value:_e.bedrooms_max||"",onChange:e=>Ne((s=>({...s,bedrooms_max:""===e.target.value?null:e.target.value}))),children:[(0,m.jsx)("option",{value:"",children:"No max"}),(0,m.jsx)("option",{value:"1",children:"1"}),(0,m.jsx)("option",{value:"2",children:"2"}),(0,m.jsx)("option",{value:"3",children:"3"}),(0,m.jsx)("option",{value:"4",children:"4"}),(0,m.jsx)("option",{value:"5",children:"5"}),(0,m.jsx)("option",{value:"6",children:"6"}),(0,m.jsx)("option",{value:"7",children:"7"})]})]})]}),"Sales"===_e.channel?(0,m.jsxs)("div",{className:"single-title-double",children:[(0,m.jsx)("h3",{children:"Price"}),(0,m.jsxs)("div",{className:"double-dropdowns",children:[(0,m.jsxs)("select",{className:"dropdown",value:_e.price_min||null,onChange:e=>Ne((s=>({...s,price_min:e.target.value}))),children:[(0,m.jsx)("option",{value:null,children:"No min"}),ls.map(((e,s)=>(0,m.jsx)("option",{value:e,children:(0,m.jsx)(i.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]}),(0,m.jsxs)("select",{className:"dropdown",value:_e.price_max||null,onChange:e=>Ne((s=>({...s,price_max:e.target.value}))),children:[(0,m.jsx)("option",{value:null,children:"No max"}),ls.map(((e,s)=>(0,m.jsx)("option",{value:e,children:(0,m.jsx)(i.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]})]})]}):"Lettings"===_e.channel?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"single-title-double",children:[(0,m.jsx)("h3",{children:"Price"}),(0,m.jsxs)("div",{className:"double-dropdowns",children:[(0,m.jsxs)("select",{className:"dropdown",value:_e.rental_price_min||"",onChange:e=>Ne((s=>({...s,rental_price_min:e.target.value}))),children:[(0,m.jsx)("option",{value:0,children:"No min"}),ts.map(((e,s)=>(0,m.jsx)("option",{value:e,children:(0,m.jsx)(i.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]}),(0,m.jsxs)("select",{className:"dropdown",value:_e.rental_price_max||"",onChange:e=>Ne((s=>({...s,rental_price_max:e.target.value}))),children:[(0,m.jsx)("option",{value:1e7,children:"No max"}),ts.map(((e,s)=>(0,m.jsx)("option",{value:e,children:(0,m.jsx)(i.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]})]})]}),(0,m.jsx)("div",{className:"single-input-block",children:(0,m.jsxs)("div",{className:"input-block large",children:[(0,m.jsx)("h3",{children:"Furnishing status"}),(0,m.jsxs)("select",{className:"dropdown",value:_e.rental_additional||"Either furnished or unfurnished",onChange:e=>Ne((s=>({...s,rental_additional:e.target.value}))),children:[(0,m.jsx)("option",{children:"Either furnished or unfurnished"}),(0,m.jsx)("option",{children:"Furnished"}),(0,m.jsx)("option",{children:"Unfurnished"})]})]})})]}):"Sales"===_e.channel?(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"single-title-double",children:[(0,m.jsx)("h3",{children:"Price"}),(0,m.jsxs)("div",{className:"double-dropdowns",children:[(0,m.jsxs)("select",{className:"dropdown",value:_e.sales_price_min||"",onChange:e=>Ne((s=>({...s,sales_price_min:e.target.value}))),children:[(0,m.jsx)("option",{value:0,children:"No min"}),ls.map(((e,s)=>(0,m.jsx)("option",{value:e,children:(0,m.jsx)(i.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]}),(0,m.jsxs)("select",{className:"dropdown",value:_e.sales_price_max||"",onChange:e=>Ne((s=>({...s,sales_price_max:e.target.value}))),children:[(0,m.jsx)("option",{value:1e7,children:"No max"}),ls.map(((e,s)=>(0,m.jsx)("option",{value:e,children:(0,m.jsx)(i.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]})]})]})}):"Both"===_e.channel?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"single-title-double",children:[(0,m.jsx)("h3",{children:"Rental price"}),(0,m.jsxs)("div",{className:"double-dropdowns",children:[(0,m.jsxs)("select",{className:"dropdown",value:_e.rental_price_min||"",onChange:e=>Ne((s=>({...s,rental_price_min:e.target.value}))),children:[(0,m.jsx)("option",{value:0,children:"No min"}),ts.map(((e,s)=>(0,m.jsx)("option",{value:e,children:(0,m.jsx)(i.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]}),(0,m.jsxs)("select",{className:"dropdown",value:_e.rental_price_max||"",onChange:e=>Ne((s=>({...s,rental_price_max:e.target.value}))),children:[(0,m.jsx)("option",{value:1e7,children:"No max"}),ts.map(((e,s)=>(0,m.jsx)("option",{value:e,children:(0,m.jsx)(i.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]})]})]}),(0,m.jsx)("div",{className:"single-input-block",children:(0,m.jsxs)("div",{className:"input-block large",children:[(0,m.jsx)("h3",{children:"Rental furnishing status"}),(0,m.jsxs)("select",{className:"dropdown",value:_e.rental_additional||"Either furnished or unfurnished",onChange:e=>Ne((s=>({...s,rental_additional:e.target.value}))),children:[(0,m.jsx)("option",{children:"Either furnished or unfurnished"}),(0,m.jsx)("option",{children:"Furnished"}),(0,m.jsx)("option",{children:"Unfurnished"})]})]})}),(0,m.jsxs)("div",{className:"single-title-double",children:[(0,m.jsx)("h3",{children:"Sales price"}),(0,m.jsxs)("div",{className:"double-dropdowns",children:[(0,m.jsxs)("select",{className:"dropdown",value:_e.sales_price_min||"",onChange:e=>Ne((s=>({...s,sales_price_min:e.target.value}))),children:[(0,m.jsx)("option",{value:0,children:"No min"}),ls.map(((e,s)=>(0,m.jsx)("option",{value:e,children:(0,m.jsx)(i.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]}),(0,m.jsxs)("select",{className:"dropdown",value:_e.sales_price_max||"",onChange:e=>Ne((s=>({...s,sales_price_max:e.target.value}))),children:[(0,m.jsx)("option",{value:1e7,children:"No max"}),ls.map(((e,s)=>(0,m.jsx)("option",{value:e,children:(0,m.jsx)(i.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]})]})]})]}):""]}):""]}),(0,m.jsx)("div",{className:"lead-gen-save",children:(0,m.jsx)("button",{className:"save-details",onClick:async()=>{let e;p&&p.lead_gen_details&&p.lead_gen_details.length>0?(e=await l.Z.put(`/api/lead_gen_details/${p.id}/`,_e,{headers:{Authorization:`Bearer ${(0,n.hP)()}`}}),le("Explore properties")):(e=await l.Z.post("/api/lead_gen_details/",_e,{headers:{Authorization:`Bearer ${(0,n.hP)()}`}}),le("Explore properties")),Je()},children:"Save details"})})]})}):"Explore properties"!==re||j?"Explore properties"===re&&j?(0,m.jsx)("div",{className:"property-table-loading",children:(0,m.jsx)(h.Z,{})}):"Saved properties"===re?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"results-block",children:Y&&Y.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"title-section",children:[(0,m.jsxs)("h3",{className:"sub-title",children:["You have ",Y.length," properties ready to be extracted"]}),p&&p.epc_favourites&&(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(u.CSVLink,{data:we,className:"export",filename:`Wittle Lead Generator Extract - ${(()=>{const e=new Date,s=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0");return`${String(e.getDate()).padStart(2,"0")}-${a}-${s}`})()}.csv`,style:{textDecoration:"none"},children:(0,m.jsx)("div",{className:"header-cta",onClick:()=>(async s=>{if((0,n.Hb)())try{const e=await l.Z.put("/api/epc_favourite/update_favourites/",{favourite_ids:s},{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});console.log("Response:",e.data),Je()}catch(a){console.error("Error updating favorite:",a)}else e("/access-denied"),console.log("logged out")})(p.epc_favourites.map((e=>e.rightmove_id))),children:(0,m.jsxs)("div",{className:"copy-button",children:[(0,m.jsx)("div",{className:"export-icon"}),(0,m.jsx)("h3",{style:{textDecoration:"none"},children:"Export"})]})})})})]}),(0,m.jsxs)("div",{className:"results-headers",children:[(0,m.jsx)("h5",{id:"column1",className:"column",children:"#"}),(0,m.jsx)("div",{id:"column2",className:"column",children:(0,m.jsx)("h5",{children:"Address"})}),(0,m.jsx)("div",{id:"column3",className:"column",children:(0,m.jsx)("h5",{children:"Postcode"})}),(0,m.jsx)("div",{id:"column4",className:"column",children:(0,m.jsx)("h5",{children:"Added"})}),(0,m.jsx)("div",{id:"column5",className:"column",children:(0,m.jsx)("h5",{children:"Reduced"})}),(0,m.jsx)("div",{id:"column6",className:"column",children:(0,m.jsx)("h5",{children:"Channel"})}),(0,m.jsx)("div",{id:"column7",className:"column",children:(0,m.jsx)("h5",{children:"Price"})}),(0,m.jsx)("div",{id:"column8",className:"column",children:(0,m.jsx)("h5",{children:"Bedrooms"})}),(0,m.jsx)("div",{id:"column9",className:"column",children:(0,m.jsx)("h5",{children:"Agent"})}),(0,m.jsx)("div",{id:"column10",className:"column",children:(0,m.jsx)("h5",{})})]}),(0,m.jsx)("hr",{className:"property-divider"}),(0,m.jsx)("div",{className:"saved-properties",children:(0,m.jsx)("div",{className:"results-details",children:Y?Y.map(((s,a)=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"results-content",children:[(0,m.jsx)("div",{className:"column",id:"column1",onClick:()=>rs(s.property_data.url),children:(0,m.jsx)("h5",{children:a+1})}),(0,m.jsx)("div",{className:"column",id:"column2",onClick:()=>rs(s.property_data.url),children:(0,m.jsx)("h5",{children:s.address})}),(0,m.jsx)("div",{className:"column",id:"column3",onClick:()=>rs(s.property_data.url),children:(0,m.jsx)("h5",{children:s.postcode})}),(0,m.jsx)("div",{className:"column",id:"column4",onClick:()=>rs(s.property_data.url),children:(0,m.jsx)("h5",{children:null===s.added_revised?"N/a":s.added_revised})}),(0,m.jsx)("div",{className:"column",id:"column5",onClick:()=>rs(s.property_data.url),children:(0,m.jsx)("h5",{children:null===s.reduced_revised?"N/a":s.reduced_revised})}),(0,m.jsx)("div",{className:"column",id:"column6",onClick:()=>rs(s.property_data.url),children:(0,m.jsx)("h5",{children:s.channel})}),(0,m.jsx)("div",{className:"column",id:"column7",onClick:()=>rs(s.property_data.url),children:(0,m.jsx)("h5",{children:s.price})}),(0,m.jsx)("div",{className:"column",id:"column8",onClick:()=>rs(s.property_data.url),children:(0,m.jsx)("h5",{children:s.bedrooms})}),(0,m.jsx)("div",{className:"column",id:"column9",onClick:()=>rs(s.property_data.url),children:(0,m.jsx)("h5",{children:s.agent})}),(0,m.jsx)("div",{className:"column",id:"column10",children:(0,m.jsx)("button",{className:"minus",onClick:()=>(async s=>{if((0,n.Hb)())try{await l.Z.delete("/api/epc_favourite/delete_favourite/",{headers:{Authorization:`Bearer ${(0,n.hP)()}`},data:{rightmove_id:s}}),Je()}catch(a){console.error("Error updating favourite:",a)}else e("/access-denied"),console.log("logged out")})(s.rightmove_id),children:"-"})})]}),(0,m.jsx)("hr",{className:"property-divider"})]}))):" "})})]}):(0,m.jsx)("h3",{className:"sub-title",children:"You haven't saved any properties yet! Once you've saved some properties, you'll be able to extract them."})})}):"Archived properties"===re?(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"results-block",children:X&&X.length>0?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"title-section",children:(0,m.jsxs)("h3",{className:"sub-title",children:["You have archived ",X.length," properties"]})}),(0,m.jsxs)("div",{className:"results-headers",children:[(0,m.jsx)("h5",{id:"column1",className:"column",children:"#"}),(0,m.jsx)("div",{id:"column2",className:"column",children:(0,m.jsx)("h5",{children:"Address"})}),(0,m.jsx)("div",{id:"column3",className:"column",children:(0,m.jsx)("h5",{children:"Postcode"})}),(0,m.jsx)("div",{id:"column4",className:"column",children:(0,m.jsx)("h5",{children:"Added"})}),(0,m.jsx)("div",{id:"column5",className:"column",children:(0,m.jsx)("h5",{children:"Reduced"})}),(0,m.jsx)("div",{id:"column6",className:"column",children:(0,m.jsx)("h5",{children:"Property type"})}),(0,m.jsx)("div",{id:"column7",className:"column",children:(0,m.jsx)("h5",{children:"Price"})}),(0,m.jsx)("div",{id:"column8",className:"column",children:(0,m.jsx)("h5",{children:"Bedrooms"})}),(0,m.jsx)("div",{id:"column9",className:"column",children:(0,m.jsx)("h5",{children:"Agent"})}),(0,m.jsx)("div",{id:"column10",className:"column",children:(0,m.jsx)("h5",{children:"Channel"})})]}),(0,m.jsx)("hr",{className:"property-divider"}),(0,m.jsx)("div",{className:"results-details",children:X?X.map(((e,s)=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"results-content",children:[(0,m.jsx)("div",{className:"column",id:"column1",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:s+1})}),(0,m.jsx)("div",{className:"column",id:"column2",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.address})}),(0,m.jsx)("div",{className:"column",id:"column3",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.postcode})}),(0,m.jsx)("div",{className:"column",id:"column4",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.added_revised})}),(0,m.jsx)("div",{className:"column",id:"column5",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.reduced_revised})}),(0,m.jsx)("div",{className:"column",id:"column6",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.property_type})}),(0,m.jsx)("div",{className:"column",id:"column7",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.price})}),(0,m.jsx)("div",{className:"column",id:"column8",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.bedrooms})}),(0,m.jsx)("div",{className:"column",id:"column9",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.agent})}),(0,m.jsx)("div",{className:"column",id:"column10",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.channel})})]}),(0,m.jsx)("hr",{className:"property-divider"})]}))):" "})]}):(0,m.jsx)("h3",{className:"sub-title",children:"You haven't archived any properties yet! Once you've extracted properties to your files, you&apo;ll see them here."})})}):"":(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:"results-block",children:[(0,m.jsxs)("div",{className:"property-insight-nav",children:[(0,m.jsxs)("div",{className:"property-insight-buttons",children:[(0,m.jsx)("h3",{className:"insight-button "+("Lettings"===je?"active":"inactive"),id:"left",onClick:()=>ge("Lettings"),children:"Lettings"}),(0,m.jsx)("h3",{className:"insight-button "+("Sales"===je?"active":"inactive"),id:"right",onClick:()=>ge("Sales"),children:"Sales"})]}),(0,m.jsxs)("div",{className:"save-section",children:[(0,m.jsx)("div",{className:"print-icon"}),(0,m.jsx)("h3",{onClick:async()=>{if((0,n.Hb)()){const e=new Set(p.epc_favourites.map((e=>e.rightmove_id))),a=[...be,...Ce].filter((s=>!e.has(s.rightmove_id)));if(console.log(a),0===a.length)return void console.log("No new favourites to add");try{const e=await l.Z.post("/api/epc_favourite/",a,{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});console.log("Response:",e.data),qe(a.length),Je(),ps(),ke([]),Se([]),Be(ie.map((()=>!1))),Te(pe.map((()=>!1)))}catch(s){console.error("Error saving favourite:",s)}}else e("/access-denied"),console.log("logged out")},children:"Save selection"})]})]}),"Lettings"===je?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"filter-section",children:[(0,m.jsx)("h3",{children:"Filter properties"}),(0,m.jsxs)("select",{className:"dropdown",value:Ue,onChange:e=>De(e.target.value),children:[(0,m.jsx)("option",{value:"2days",children:"Updated in the last 2 days"}),(0,m.jsx)("option",{value:"7days",children:"Updated in the last 7 days"}),(0,m.jsx)("option",{value:"1month",children:"Updated in the last month"}),(0,m.jsx)("option",{value:"1to3months",children:"On the market for 3 months"}),(0,m.jsx)("option",{value:"3to6months",children:"On the market for 6 months"}),(0,m.jsx)("option",{value:"all",children:"All matching properties"})]})]}),j?(0,m.jsx)("div",{className:"property-table-loading",children:(0,m.jsx)(h.Z,{})}):j?"":(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"title-section",children:[(0,m.jsxs)("h3",{className:"sub-title",children:["There are ",Ze.length," rental properties that match your criteria"]}),(0,m.jsxs)("div",{className:"select-all-box",children:[(0,m.jsx)("h5",{children:"Select all"}),(0,m.jsxs)("div",{className:"custom-checkbox",children:[(0,m.jsx)("input",{className:"checkbox",type:"checkbox",checked:Le.length>0&&Le.every(Boolean),onChange:e=>{e.target.checked?(()=>{const e=new Set(p.epc_favourites.map((e=>e.rightmove_id))),s=Ze.map((e=>({...e.property_data,address:e.epc_data_list[0].address}))).filter((s=>!e.has(s.rightmove_id)));Be(Ze.map((()=>!0))),ke(s)})():Ke()}}),(0,m.jsx)("label",{className:"label"})]})]})]}),(0,m.jsxs)("div",{className:"results-headers",children:[(0,m.jsx)("h5",{id:"column1",className:"column",children:"#"}),(0,m.jsx)("div",{id:"column2",className:"column",children:(0,m.jsx)("h5",{children:"Address"})}),(0,m.jsxs)("div",{id:"column3",className:"column",onClick:ds,children:[(0,m.jsx)("h5",{children:"Postcode"}),(0,m.jsx)("h5",{children:"\u2b07\ufe0f"})]}),(0,m.jsx)("div",{id:"column4",className:"column",children:(0,m.jsx)("h5",{children:"Added"})}),(0,m.jsx)("div",{id:"column5",className:"column",children:(0,m.jsx)("h5",{children:"Reduced"})}),(0,m.jsx)("div",{id:"column6",className:"column",children:(0,m.jsx)("h5",{children:"Property type"})}),(0,m.jsxs)("div",{id:"column7",className:"column",onClick:cs,children:[(0,m.jsx)("h5",{children:"Price"}),(0,m.jsx)("h5",{children:"\u2b07\ufe0f"})]}),(0,m.jsx)("div",{id:"column8",className:"column",children:(0,m.jsx)("h5",{children:"Bedrooms"})}),(0,m.jsx)("div",{id:"column9",className:"column",children:(0,m.jsx)("h5",{children:"Agent"})}),(0,m.jsx)("div",{id:"column10",className:"column",children:(0,m.jsx)("h5",{children:"Select"})})]}),(0,m.jsx)("hr",{className:"property-divider"}),(0,m.jsx)("div",{className:"results-details",children:Ze?Ze.map(((e,s)=>{const a=be.some((s=>s.rightmove_id===e.property_data.rightmove_id));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"results-content "+(a?"highlighted-row":""),children:[(0,m.jsx)("div",{className:"column",id:"column1",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:s+1})}),(0,m.jsx)("div",{className:"column",id:"column2",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.epc_data_list[0].address})}),(0,m.jsx)("div",{className:"column",id:"column3",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.property_data.postcode})}),(0,m.jsx)("div",{className:"column",id:"column4",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:null===e.property_data.added_revised?"N/a":e.property_data.added_revised})}),(0,m.jsx)("div",{className:"column",id:"column5",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:null===e.property_data.reduced_revised?"N/a":e.property_data.reduced_revised})}),(0,m.jsx)("div",{className:"column",id:"column6",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.property_data.propertyType})}),(0,m.jsx)("div",{className:"column",id:"column7",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.property_data.price})}),(0,m.jsx)("div",{className:"column",id:"column8",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.property_data.bedrooms})}),(0,m.jsx)("div",{className:"column",id:"column9",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.property_data.agent})}),(0,m.jsx)("div",{className:"column",id:"column10",children:(0,m.jsxs)("div",{className:"custom-checkbox",children:[(0,m.jsx)("input",{className:"checkbox",type:"checkbox",checked:Le[s],onChange:e=>((e,s)=>{const a=[...Le];a[s]=e.target.checked,Be(a);const r={...Ze[s].property_data,address:Ze[s].epc_data_list[0].address};console.log(r),e.target.checked?ke((e=>[...e,r])):ke((e=>e.filter((e=>e.rightmove_id!==r.rightmove_id))))})(e,s)}),(0,m.jsx)("label",{className:"label"})]})})]}),(0,m.jsx)("hr",{className:"property-divider"})]})})):" "})]})]}):"Sales"===je?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"filter-section",children:[(0,m.jsx)("h3",{children:"Filter properties"}),(0,m.jsxs)("select",{className:"dropdown",value:Ue,onChange:e=>De(e.target.value),children:[(0,m.jsx)("option",{value:"2days",children:"Updated in the last 2 days"}),(0,m.jsx)("option",{value:"7days",children:"Updated in the last 7 days"}),(0,m.jsx)("option",{value:"1month",children:"Updated in the last month"}),(0,m.jsx)("option",{value:"1to3months",children:"On the market for 3 months"}),(0,m.jsx)("option",{value:"3to6months",children:"On the market for 6 months"}),(0,m.jsx)("option",{value:"all",children:"All matching properties"})]})]}),f?(0,m.jsx)("div",{className:"property-table-loading",children:(0,m.jsx)(h.Z,{})}):f?"":(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"title-section",children:[(0,m.jsxs)("h3",{className:"sub-title",children:["There are ",He.length," properties for sale that match your criteria"]}),(0,m.jsxs)("div",{className:"select-all-box",children:[(0,m.jsx)("h5",{children:"Select all"}),(0,m.jsxs)("div",{className:"custom-checkbox",children:[(0,m.jsx)("input",{className:"checkbox",type:"checkbox",checked:$e.length>0&&$e.every(Boolean),onChange:e=>{e.target.checked?(()=>{const e=new Set(p.epc_favourites.map((e=>e.rightmove_id))),s=He.map((e=>({...e.property_data,address:e.epc_data_list[0].address}))).filter((s=>!e.has(s.rightmove_id)));Te(He.map((()=>!0))),Se(s)})():Qe()}}),(0,m.jsx)("label",{className:"label"})]})]})]}),(0,m.jsxs)("div",{className:"results-headers",children:[(0,m.jsx)("h5",{id:"column1",className:"column",children:"#"}),(0,m.jsx)("div",{id:"column2",className:"column",children:(0,m.jsx)("h5",{children:"Address"})}),(0,m.jsxs)("div",{id:"column3",className:"column",onClick:ds,children:[(0,m.jsx)("h5",{children:"Postcode"}),(0,m.jsx)("h5",{children:"\u2b07\ufe0f"})]}),(0,m.jsx)("div",{id:"column4",className:"column",children:(0,m.jsx)("h5",{children:"Added"})}),(0,m.jsx)("div",{id:"column5",className:"column",children:(0,m.jsx)("h5",{children:"Reduced"})}),(0,m.jsx)("div",{id:"column6",className:"column",children:(0,m.jsx)("h5",{children:"Property type"})}),(0,m.jsxs)("div",{id:"column7",className:"column",onClick:cs,children:[(0,m.jsx)("h5",{children:"Price"}),(0,m.jsx)("h5",{children:"\u2b07\ufe0f"})]}),(0,m.jsx)("div",{id:"column8",className:"column",children:(0,m.jsx)("h5",{children:"Bedrooms"})}),(0,m.jsx)("div",{id:"column9",className:"column",children:(0,m.jsx)("h5",{children:"Agent"})}),(0,m.jsx)("div",{id:"column10",className:"column",children:(0,m.jsx)("h5",{children:"Select"})})]}),(0,m.jsx)("hr",{className:"property-divider"}),(0,m.jsx)("div",{className:"results-details",children:He?He.map(((e,s)=>{const a=Ce.some((s=>s.rightmove_id===e.property_data.rightmove_id));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"results-content "+(a?"highlighted-row":""),children:[(0,m.jsx)("div",{className:"column",id:"column1",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:s+1})}),(0,m.jsx)("div",{className:"column",id:"column2",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.epc_data_list[0].address})}),(0,m.jsx)("div",{className:"column",id:"column3",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.property_data.postcode})}),(0,m.jsx)("div",{className:"column",id:"column4",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:null===e.property_data.added_revised?"N/a":e.property_data.added_revised})}),(0,m.jsx)("div",{className:"column",id:"column5",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:null===e.property_data.reduced_revised?"N/a":e.property_data.reduced_revised})}),(0,m.jsx)("div",{className:"column",id:"column6",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.property_data.propertyType})}),(0,m.jsx)("div",{className:"column",id:"column7",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.property_data.price})}),(0,m.jsx)("div",{className:"column",id:"column8",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.property_data.bedrooms})}),(0,m.jsx)("div",{className:"column",id:"column9",onClick:()=>rs(e.property_data.url),children:(0,m.jsx)("h5",{children:e.property_data.agent})}),(0,m.jsx)("div",{className:"column",id:"column10",children:(0,m.jsxs)("div",{className:"custom-checkbox",children:[(0,m.jsx)("input",{className:"checkbox",type:"checkbox",checked:$e[s],onChange:e=>((e,s)=>{const a=[...$e];a[s]=e.target.checked,Te(a);const r={...He[s].property_data,address:He[s].epc_data_list[0].address};console.log(r),e.target.checked?Se((e=>[...e,r])):Se((e=>e.filter((e=>e.rightmove_id!==r.rightmove_id))))})(e,s)}),(0,m.jsx)("label",{className:"label"})]})})]}),(0,m.jsx)("hr",{className:"property-divider"})]})})):" "})]})]}):""]})})})})]})})})})]}),(0,m.jsx)(x,{savedActionShow:hs,handleSavedActionClose:()=>{us(!1)},setLeadGenSection:le,latestFavourites:Xe})]})}},98472:function(e,s,a){e.exports=a(23561)},98015:function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r,l=function(){function e(e,s){for(var a=0;a<s.length;a++){var r=s[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(s,a,r){return a&&e(s.prototype,a),r&&e(s,r),s}}(),t=a(72791),n=(r=t)&&r.__esModule?r:{default:r},i=a(51509),o=a(58333);var c=function(e){function s(e){!function(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s);var a=function(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!==typeof s&&"function"!==typeof s?e:s}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return a.state={},a}return function(e,s){if("function"!==typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}(s,e),l(s,[{key:"buildURI",value:function(){return i.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,s=e.data,a=e.headers,r=e.separator,l=e.enclosingCharacter,t=e.uFEFF,n=e.target,i=e.specs,o=e.replace;this.state.page=window.open(this.buildURI(s,t,a,r,l),n,i,o)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),s}(n.default.Component);c.defaultProps=Object.assign(o.defaultProps,{target:"_blank"}),c.propTypes=o.propTypes,s.default=c},39088:function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var r,l=Object.assign||function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},t=function(){function e(e,s){for(var a=0;a<s.length;a++){var r=s[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(s,a,r){return a&&e(s.prototype,a),r&&e(s,r),s}}(),n=a(72791),i=(r=n)&&r.__esModule?r:{default:r},o=a(51509),c=a(58333);var d=function(e){function s(e){!function(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s);var a=function(e,s){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!==typeof s&&"function"!==typeof s?e:s}(this,(s.__proto__||Object.getPrototypeOf(s)).call(this,e));return a.buildURI=a.buildURI.bind(a),a}return function(e,s){if("function"!==typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);e.prototype=Object.create(s&&s.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(e,s):e.__proto__=s)}(s,e),t(s,[{key:"buildURI",value:function(){return o.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var a=this.props,r=a.data,l=a.headers,t=a.separator,n=a.filename,i=a.enclosingCharacter,c=a.uFEFF,d=s&&"function"===typeof r?r():r,h=new Blob([c?"\ufeff":"",(0,o.toCSV)(d,l,t,i)]);return window.navigator.msSaveBlob(h,n),!1}}},{key:"handleAsyncClick",value:function(e){var s=this;this.props.onClick(e,(function(a){!1!==a?s.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(s){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(s):e.handleSyncClick(s);e.handleLegacy(s)}}},{key:"render",value:function(){var e=this,s=this.props,a=s.data,r=s.headers,t=s.separator,n=s.filename,o=s.uFEFF,c=s.children,d=(s.onClick,s.asyncOnClick,s.enclosingCharacter),h=function(e,s){var a={};for(var r in e)s.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}(s,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),u="undefined"===typeof window?"":this.buildURI(a,o,r,t,d);return i.default.createElement("a",l({download:n},h,{ref:function(s){return e.link=s},target:"_self",href:u,onClick:this.handleClick()}),c)}}]),s}(i.default.Component);d.defaultProps=c.defaultProps,d.propTypes=c.propTypes,s.default=d},51509:function(e,s){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(Array.isArray(e)){for(var s=0,a=Array(e.length);s<e.length;s++)a[s]=e[s];return a}return Array.from(e)}var l=s.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},t=s.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===("undefined"===typeof e?"undefined":a(e))&&!(e instanceof Array)}))},n=s.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},i=s.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,s){return new Set([].concat(r(e),r(s)))}),[]))},o=s.jsons2arrays=function(e,s){var a=s=s||i(e),l=s;t(s)&&(a=s.map((function(e){return e.label})),l=s.map((function(e){return e.key})));var n=e.map((function(e){return l.map((function(s){return c(s,e)}))}));return[a].concat(r(n))},c=s.getHeaderValue=function(e,s){var a=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,s,a,r){var l=e[s];if(void 0!==l&&null!==l)return l;r.splice(1)}),s);return void 0===a?e in s?s[e]:"":a},d=s.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},h=s.joiner=function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return d(e)})).map((function(e){return""+a+e+a})).join(s)})).join("\n")},u=s.arrays2csv=function(e,s,a,l){return h(s?[s].concat(r(e)):e,a,l)},p=s.jsons2csv=function(e,s,a,r){return h(o(e,s),a,r)},m=s.string2csv=function(e,s,a,r){return s?s.join(a)+"\n"+e:e.replace(/"/g,'""')},x=s.toCSV=function(e,s,a,r){if(t(e))return p(e,s,a,r);if(n(e))return u(e,s,a,r);if("string"===typeof e)return m(e,s,a);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};s.buildURI=function(e,s,a,r,t){var n=x(e,a,r,t),i=l()?"application/csv":"text/csv",o=new Blob([s?"\ufeff":"",n],{type:i}),c="data:"+i+";charset=utf-8,"+(s?"\ufeff":"")+n,d=window.URL||window.webkitURL;return"undefined"===typeof d.createObjectURL?c:d.createObjectURL(o)}},23561:function(e,s,a){"use strict";s.CSVLink=void 0;var r=t(a(98015)),l=t(a(39088));function t(e){return e&&e.__esModule?e:{default:e}}r.default,s.CSVLink=l.default},58333:function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.PropsNotForwarded=s.defaultProps=s.propTypes=void 0;var r,l=a(72791),t=((r=l)&&r.__esModule,a(52007));s.propTypes={data:(0,t.oneOfType)([t.string,t.array,t.func]).isRequired,headers:t.array,target:t.string,separator:t.string,filename:t.string,uFEFF:t.bool,onClick:t.func,asyncOnClick:t.bool,enclosingCharacter:t.string},s.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},s.PropsNotForwarded=["data","headers"]},57837:function(e,s,a){"use strict";e.exports=a.p+"static/media/new-loading.a788dadda3b120785a81.gif"}}]);
//# sourceMappingURL=620.e0996076.chunk.js.69ac1e02125b.map