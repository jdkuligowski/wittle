{"version":3,"file":"static/js/74.a3eac52c.chunk.js","mappings":"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","sources":["components/tools/Footer.js","components/whiteLabel/propertyDetails/variableDetails/SinglePrimarySchool.js"],"sourcesContent":["\n\n\nconst Footer = ({ textColour, pageType }) => {\n\n\n\n  return (\n    <>\n      <section className='website-footer no-print' id={pageType}>\n        <p style={{ color: textColour }}>Wittle Technology Limited is a registered company in England and Wales with corporation number 14326945.</p>\n        <p style={{ color: textColour }}>Copyright ¬© Wittle Technology Limited. All rights reserved.</p>\n      </section>\n    </>\n  )\n}\n\nexport default Footer","import React, { useState, useEffect, useInsertionEffect } from 'react'\nimport axios from 'axios'\nimport { useNavigate, useParams } from 'react-router-dom'\nimport NavBar from '../../../tools/NavBar'\nimport { isUserAuth, getUserToken , getAccessToken } from '../../../auth/Auth'\nimport { NumericFormat } from 'react-number-format'\nimport Footer from '../../../tools/Footer'\nimport WhiteSidebar from '../../WhiteSidebar'\nimport WhiteNavbar from '../../../tools/WhiteNavbar'\nimport NavBarRevised from '../../../tools/NavBarRevised'\n\n\n\n\n\nconst SinglePrimarySchool = () => {\n\n  // state for errors\n  const [errors, setErrors] = useState()\n\n  // state for navigateion\n  const navigate = useNavigate()\n\n  // state for school information\n  const [primaryData, setPrimaryData] = useState()\n\n  // set state for user data\n  const [userData, setUserData] = useState()\n\n  // set state for company data\n  const [company, setCompany] = useState()\n\n  // id for searching for property\n  const { id } = useParams()\n\n  // state for determining what content shows\n  const [profileContent, setProfileContent] = useState('My properties')\n  const [profileDetail, setProfileDetail] = useState('My properties')  \n\n  // states for pop outs on the side\n  const [variableSide, setVariableSide] = useState(false)\n\n  // load in specfic secondary school\n  const loadPrimaryData = () => {\n    const getPrimaries = async () => {\n      try {\n        const { data } = await axios.get(`/api/primaries/${id}`)\n        console.log('single primary data ->', data)\n        setPrimaryData(data)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    }\n    getPrimaries()\n  }\n\n  // carry out calculation\n  useEffect(() =>{\n    loadPrimaryData()\n  }, [])\n\n\n  // user data\n  const loadUserData = () => {\n    // Assuming th user is authorised, we want to load their profile information and set states based on relevant sections of this\n    if (isUserAuth()) {\n      try {\n        const getUser = async () => {\n          const { data } = await axios.get(`/api/auth/profile/${getUserToken()}/`, {\n            headers: {\n              Authorization: `Bearer ${getAccessToken()}`,\n            },\n          })\n          console.log('user data ->', data)\n          setUserData(data)\n          setCompany(data.company)\n        }\n        getUser()\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    } else {\n      navigate('/access-denied')\n      console.log('no account')\n    }\n  }\n\n  // carry out calculation to load user data\n  useEffect(() => {\n    loadUserData()\n  }, [])\n\n  return (\n\n    <>\n      <section className='agent-specific-property'>\n        <div className='desktop-nav'>\n          <WhiteNavbar\n            navbarColour='#FDF7F0'\n          />\n        </div>\n        <div className='mobile-nav'>\n          <NavBarRevised\n            setProfileContent={setProfileContent}\n            profileContent={profileContent}\n            profileDetail={profileDetail}\n            setProfileDetail={setProfileDetail}\n          />\n        </div>\n        <div className='go-back-button'>\n          <h5 onClick={() =>  navigate('/agents/profile')}>&lt;- back to profile</h5>\n        </div>\n        <WhiteSidebar\n          setProfileDetail={setProfileDetail}\n          variableSide={variableSide} \n          setProfileContent={setProfileContent} \n          setVariableSide={setVariableSide}\n          userData={userData}\n\n        />\n        {primaryData ? \n          <>\n            <section className=\"single-school-profile\">\n              <div className=\"school-core-info\">\n                <div className=\"info-left\">\n                  <h1>{primaryData[0].school_name}</h1>\n                  <h3 className='normal'>üìà Ofsted: {primaryData[0].ofsted_results === null ? 'N/a' : primaryData[0].ofsted_results}</h3>\n                  <h3 className='normal'>üéì {primaryData[0].students} students per year</h3>\n                  <h3 className='normal'>üë®‚Äçüëß Gender: {primaryData[0].gender}</h3>\n                  <h3 className='normal'>üôè Faith: {primaryData[0].religion === null ? 'All' : primaryData[0].religion}</h3>\n                  {/* <h3 className='website'>üíª {primaryData[0].school_url}</h3> */}\n                  <a href={primaryData[0].school_url} target='_blank' className='website' rel=\"noreferrer\">üíª {primaryData[0].school_url}</a>\n\n                </div>\n                <div className=\"info-right\">\n                  <div className='school-image' id='primary' style={{ backgroundImage: primaryData[0].image_url === null ? undefined : `url(${primaryData[0].image_url})` }}></div>\n                </div>\n              </div>\n              <div className='school-academic-highlights'>\n                <h1>Academic highlights</h1>\n                <div className='row'>\n                  <div className='item'>\n                    <div className='circle'>\n                      <h1>{primaryData[0].percentile === null ? 'N/a' : Math.round(primaryData[0].percentile * 100) + 1}%</h1>\n                    </div>\n                    {primaryData[0].percentile !== null ? <p>In the top {Math.round(primaryData[0].percentile * 100) + 1}% of primary schools in London</p> : <p>No performance data available for this school</p>}\n                  </div>\n                  <div className='item'>\n                    <div className='circle'>\n                      <h1>{primaryData[0].borough_percentile === null ? 'N/a' : Math.round(primaryData[0].borough_percentile * 100) + 1}%</h1>\n                    </div>\n                    {primaryData[0].borough_percentile !== null ? <p>In the top {Math.round(primaryData[0].borough_percentile * 100) + 1}% of primary schools in {primaryData[0].local_authority}</p> : <p>No performance data available for this school</p>}\n                  </div>\n                </div>\n              </div>\n              <div className='school-results'>\n                <h1>KS2 Results</h1>\n\n                {primaryData && primaryData[0].school_type === 'Independent school' ? \n                  <h5 className='no-results'>No KS2 results for Independent schools</h5>\n                  : primaryData ?\n                    <>\n                      <div className='school-table-headers'>\n                        <h5 id='column1'>#</h5>\n                        <h5 id='column2'>Subject</h5>\n                        <h5 id='column3'>At standard (%)</h5>\n                        <h5 id='column4'>Exceeding standard (%)</h5>\n                      </div><div className='school-table-details'>\n\n                        <div className='school-content'>\n                          <div className='column' id='column1'>\n                            <h5>{1}</h5>\n                          </div>\n                          <div className='column' id='column2'>\n                            <h5>Reading</h5>\n                          </div>\n                          <div className='column' id='column3'>\n                            {primaryData[0].at_standard_reading !== null ? <h5>{primaryData[0].at_standard_reading}</h5> : <h5>No reading data avilable for this school</h5>}\n                          </div>\n                          <div className='column' id='column4'>\n                            {primaryData[0].exceeding_standard_reading !== null ? <h5>{primaryData[0].exceeding_standard_reading}</h5> : ''}\n                          </div>\n                        </div>\n                        <hr className='dividing-line' />\n\n                      </div><div className='school-table-details'>\n\n                        <div className='school-content'>\n                          <div className='column' id='column1'>\n                            <h5>{2}</h5>\n                          </div>\n                          <div className='column' id='column2'>\n                            <h5>Writing</h5>\n                          </div>\n                          <div className='column' id='column3'>\n                            {primaryData[0].at_standard_writing !== null ? <h5>{primaryData[0].at_standard_writing}</h5> : <h5>No writing data avilable for this school</h5>}\n                          </div>\n                          <div className='column' id='column4'>\n                            {primaryData[0].exceeding_standard_writing !== null ? <h5>{primaryData[0].exceeding_standard_writing}</h5> : ''}\n                          </div>\n                        </div>\n                        <hr className='dividing-line' />\n\n                      </div><div className='school-table-details'>\n\n                        <div className='school-content'>\n                          <div className='column' id='column1'>\n                            <h5>{3}</h5>\n                          </div>\n                          <div className='column' id='column2'>\n                            <h5>Maths</h5>\n                          </div>\n                          <div className='column' id='column3'>\n                            {primaryData[0].at_standard_maths !== null ? <h5>{primaryData[0].at_standard_maths}</h5> : <h5>No maths data avilable for this school</h5>}\n                          </div>\n                          <div className='column' id='column4'>\n                            {primaryData[0].at_standard_maths !== null ? <h5>{primaryData[0].at_standard_maths}</h5> : ''}\n                          </div>\n                        </div>\n                        <hr className='dividing-line' />\n\n                      </div><div className='school-table-details'>\n\n                        <div className='school-content'>\n                          <div className='column' id='column1'>\n                            <h5>{4}</h5>\n                          </div>\n                          <div className='column' id='column2'>\n                            <h5>Grammar, punctuation and spelling</h5>\n                          </div>\n                          <div className='column' id='column3'>\n                            {primaryData[0].at_standard_gps !== null ? <h5>{primaryData[0].at_standard_gps}</h5> : <h5>No GPS data avilable for this school</h5>}\n                          </div>\n                          <div className='column' id='column4'>\n                            {primaryData[0].at_standard_gps !== null ? <h5>{primaryData[0].at_standard_gps}</h5> : ''}\n                          </div>\n                        </div>\n                        <hr className='dividing-line' />\n\n                      </div><div className='school-table-details'>\n\n                        <div className='school-content'>\n                          <div className='column' id='column1'>\n                            <h5>{5}</h5>\n                          </div>\n                          <div className='column' id='column2'>\n                            <h5>Science</h5>\n                          </div>\n                          <div className='column' id='column3'>\n                            {primaryData[0].at_standard_science !== null ? <h5>{primaryData[0].at_standard_science}</h5> : <h5>No science data avilable for this school</h5>}\n                          </div>\n                          <div className='column' id='column4'>\n                            {primaryData[0].at_standard_science !== null ? <h5>{primaryData[0].at_standard_science}</h5> : ''}\n                          </div>\n                        </div>\n                        <hr className='dividing-line' />\n\n                      </div>\n                    </>\n                    : '' }\n              </div>\n\n            </section>\n          </>\n          : '' }\n      </section> \n\n    \n    </>\n  )\n}\n\nexport default SinglePrimarySchool"],"names":["textColour","pageType","className","id","style","color","errors","setErrors","useState","navigate","useNavigate","primaryData","setPrimaryData","userData","setUserData","company","setCompany","useParams","profileContent","setProfileContent","profileDetail","setProfileDetail","variableSide","setVariableSide","useEffect","async","data","axios","console","log","error","getPrimaries","isUserAuth","getUserToken","headers","Authorization","getAccessToken","getUser","loadUserData","navbarColour","onClick","school_name","ofsted_results","students","gender","religion","href","school_url","target","rel","backgroundImage","image_url","undefined","percentile","Math","round","borough_percentile","local_authority","school_type","at_standard_reading","exceeding_standard_reading","at_standard_writing","exceeding_standard_writing","at_standard_maths","at_standard_gps","at_standard_science"],"sourceRoot":""}