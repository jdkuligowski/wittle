"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[649],{91649:function(s,e,a){a.r(e);var t=a(28381),n=a(65293),o=a(42524),r=a(47174),i=a(11535),l=a(95325),c=a(29343);e.default=()=>{const s=(0,o.s0)(),[e,a]=(0,t.useState)({email:"",password:"",account:""}),m=s=>{const{name:t,value:n}=s.target;let o="";"email"!==t||(0,i.isEmail)(n)?"password"===t&&(o=S(n)):o="Invalid email address",j({...x,[t]:n}),a({...e,[t]:o})},[d,u]=(0,t.useState)("password"),[h,p]=(0,t.useState)(!1),[w,g]=(0,t.useState)(!1),[x,j]=(0,t.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[N,f]=(0,t.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),S=s=>{const e=(0,i.matches)(s,/[A-Z]/),a=(0,i.matches)(s,/[a-z]/),t=(0,i.matches)(s,/\d/),n=(0,i.matches)(s,/[^A-Za-z0-9]/);return(0,i.isLength)(s,{min:8})?e?a?t?n?"":"Password must contain at least one special character":"Password must contain at least one digit":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password must be at least 8 characters long"};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.Z,{navbarColour:"#051885"}),(0,c.jsx)("section",{className:"login-page",children:(0,c.jsxs)("section",{className:"login-content",children:[(0,c.jsx)("section",{className:"form-section",children:(0,c.jsxs)("form",{className:"form-detail",onSubmit:async t=>{var o;if(t.preventDefault(),!e.email&&!e.password)try{const{data:e}=await n.ZP.post("/api/auth/login/",x);o=e.token,window.localStorage.setItem("wittle-user-token",o),window.localStorage.setItem("wittle-username",e.username),s("/agents/profile")}catch(r){const s=r.response.data.detail;s&&"Invalid credentials"===s&&a({...e,account:"Account not found"})}},children:[(0,c.jsx)("h1",{children:"Sign in to Wittle"}),(0,c.jsx)("p",{children:"Email address"}),(0,c.jsx)("input",{type:"email",name:"email",className:"input",value:x.email,onChange:m}),e.email&&(0,c.jsxs)("p",{className:"error",children:["* ",e.email]}),(0,c.jsx)("p",{children:"Password"}),(0,c.jsxs)("div",{className:"login-input",children:[(0,c.jsx)("input",{type:d,name:"password",className:"password-input",value:x.password,onChange:m}),(0,c.jsx)("div",{className:"password-icon-container",onClick:()=>{u("password"===d?"text":"password")},children:(0,c.jsx)("div",{className:"password-icon"})})]}),e.password&&(0,c.jsxs)("p",{className:"error",children:["* ",e.password]}),(0,c.jsx)("button",{className:"sign-up",type:"submit",children:"Sign in"}),e.account&&(0,c.jsxs)("p",{className:"error",id:"account",children:["* ",e.account]})]})}),(0,c.jsxs)("h5",{children:["Forgotten your login details? ",(0,c.jsx)(r.rU,{to:"/password-reset-request/",children:(0,c.jsx)("span",{children:"Request reset"})})," "]})]})})]})}},95325:function(s,e,a){var t=a(42524),n=a(28381),o=(a(65293),a(63762),a(11535),a(31824)),r=a(29343);e.Z=s=>{let{navbarColour:e}=s;const a=(0,t.s0)(),[i,l]=((0,n.useRef)(null),(0,n.useState)(!1)),[c,m]=(0,n.useState)({email:"",password:"",passwordConfirmation:""}),[d,u]=(0,n.useState)("password"),[h,p]=(0,n.useState)("password"),[w,g]=(0,n.useState)(!1),[x,j]=(0,n.useState)(!1),[N,f]=(0,n.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[S,v]=(0,n.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("section",{className:"nav-section",style:{backgroundColor:e},children:[(0,r.jsxs)("div",{className:"left-section",children:[(0,r.jsx)("div",{className:"logo",children:(0,r.jsx)("h2",{onClick:()=>a("/"),children:"Wittle"})}),(0,r.jsx)("h4",{onClick:()=>a("/agents"),className:"agent-button",children:"For agents"}),(0,r.jsx)("h4",{onClick:()=>a("/blogs/school-search-simplified"),className:"agent-button",children:"Insights"})]}),(0,r.jsx)("div",{className:"menu-container",onClick:()=>{g(!0)},children:(0,r.jsx)("div",{className:"menu-trigger",children:(0,r.jsx)("span",{children:(0,r.jsxs)("div",{className:"burger-icon",children:[(0,r.jsx)("hr",{className:"burger-icon-line"}),(0,r.jsx)("hr",{className:"burger-icon-line"}),(0,r.jsx)("hr",{className:"burger-icon-line"})]})})})}),(0,r.jsx)("button",{onClick:()=>a("/login"),className:"agent-login",children:"Agent login"})]}),(0,r.jsx)(o.Z,{menuShow:w,setMenuShow:g,handleMenuClose:()=>{g(!1)},removeItemFromStorage:s=>{localStorage.removeItem("wittle-user-token"),localStorage.removeItem("wittle-username"),window.location.reload(),l(!1)}})]})}}}]);
//# sourceMappingURL=649.423c1032.chunk.js.f331dcaae0fb.map