"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[345],{63345:function(s,e,a){a.r(e);var t=a(72791),n=a(31243),i=a(57689),r=a(11087),l=a(82570),o=(a(99696),a(80184));e.default=()=>{const s=(0,i.s0)(),[e,a]=(0,t.useState)({email:"",password:"",account:""}),c=s=>{const{name:t,value:n}=s.target;let i="";"email"!==t||(0,l.isEmail)(n)?"password"===t&&(i=f(n)):i="Invalid email address",j({...g,[t]:n}),a({...e,[t]:i})},[d,m]=(0,t.useState)("password"),[u,p]=(0,t.useState)(!1),[h,w]=(0,t.useState)(!1),[g,j]=(0,t.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[x,v]=(0,t.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),f=s=>{const e=(0,l.matches)(s,/[A-Z]/),a=(0,l.matches)(s,/[a-z]/),t=(0,l.matches)(s,/\d/),n=(0,l.matches)(s,/[^A-Za-z0-9]/);return(0,l.isLength)(s,{min:8})?e?a?t?n?"":"Password must contain at least one special character":"Password must contain at least one digit":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password must be at least 8 characters long"};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("section",{className:"login-page",children:(0,o.jsxs)("section",{className:"login-content",children:[(0,o.jsx)("div",{className:"logo-section",children:(0,o.jsx)("div",{className:"wittle-logo"})}),(0,o.jsx)("h1",{children:"Sign in"}),(0,o.jsxs)("div",{className:"input-section",children:[(0,o.jsxs)("div",{className:"login-input",children:[(0,o.jsx)("h3",{children:"Email address"}),(0,o.jsx)("input",{placeholder:"Enter email address",type:"email",name:"email",className:"input",value:g.email,onChange:c}),e.email&&(0,o.jsxs)("p",{className:"error",children:["* ",e.email]})]}),(0,o.jsxs)("div",{className:"login-input",children:[(0,o.jsx)("h3",{children:"Password"}),(0,o.jsx)("input",{placeholder:"Enter password",type:d,name:"password",className:"password-input",value:g.password,onChange:c}),e.password&&(0,o.jsxs)("p",{className:"error",children:["* ",e.password]})]})]}),(0,o.jsx)("button",{onClick:async t=>{var i;if(t.preventDefault(),!e.email&&!e.password)try{const{data:e}=await n.Z.post("/api/auth/login/",g);i=e.token,window.localStorage.setItem("wittle-user-token",i),window.localStorage.setItem("wittle-username",e.username),s("/agents/profile")}catch(r){const s=r.response.data.detail;s&&"Invalid credentials"===s&&a({...e,account:"Account not found"})}},type:"submit",children:"Sign in"}),e.account&&(0,o.jsxs)("p",{className:"error",id:"account",children:["* ",e.account]}),(0,o.jsxs)("p",{children:["Forgotten your login details? ",(0,o.jsx)(r.rU,{to:"/password-reset-request/",children:(0,o.jsx)("span",{children:"Request reset"})})]})]})})})}}}]);
//# sourceMappingURL=345.71de38f9.chunk.js.2cc2e12665b4.map