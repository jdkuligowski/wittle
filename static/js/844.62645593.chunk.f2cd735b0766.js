"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[844,667],{37336:function(e,t,s){s.d(t,{Z:function(){return o}});var i=s(42524),n=s(28381);s(65293);s(63762),s(11535),s(31824);var a=s(29343);var o=e=>{let{setProfileContent:t,profileContent:s,profileDetail:o,setProfileDetail:l}=e;const r=(0,i.s0)(),[c,h]=((0,n.useRef)(null),(0,n.useState)(!1)),[d,u]=(0,n.useState)({email:"",password:"",passwordConfirmation:""}),[p,m]=(0,n.useState)("password"),[g,x]=(0,n.useState)("password"),[f,j]=(0,n.useState)(!1),[b,k]=(0,n.useState)(!1),[y,v]=(0,n.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[w,C]=(0,n.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),[_,M]=(0,n.useState)("#051885"),[N,S]=(0,n.useState)("#FFA7E5"),[F,E]=(0,n.useState)("#FFA7E5");return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("section",{className:"centered-nav-bar",style:{backgroundColor:_},children:[(0,a.jsx)("section",{className:"top-section",children:(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)("h2",{style:{color:N},onClick:()=>r("/"),children:"Wittle"})})}),(0,a.jsxs)("section",{className:"nav-slider",children:[(0,a.jsx)("h4",{style:{color:F,textDecoration:"My properties"===s?`underline 3px ${F}`:"",textUnderlineOffset:"My properties"===s?"5px":""},onClick:()=>{t("My properties"),l("My properties"),r("/agents/profile")},children:"MY PROPERTIES"}),(0,a.jsx)("h4",{style:{color:F,textDecoration:"Variables"===s?`underline 3px ${F}`:"",textUnderlineOffset:"Variables"===s?"5px":""},onClick:()=>{t("Variables"),l("Variables"),r("/agents/explore")},children:"EXPLORE"}),(0,a.jsx)("h4",{style:{color:F,textDecoration:"Comparison"===s?`underline 3px ${F}`:"",textUnderlineOffset:"Comparison"===s?"5px":""},onClick:()=>{t("Comparison"),l("Comparison"),r("/agents/compare")},children:"COMPARISON"}),(0,a.jsx)("h4",{style:{color:F,textDecoration:"Account"===s?`underline 3px ${F}`:"",textUnderlineOffset:"Account"===s?"5px":""},onClick:()=>{t("Account"),l("Account")},children:"ACCOUNT"})]})]})})}},48925:function(e,t,s){s(28381);var i=s(29343);t.Z=e=>{let{setProfileContent:t,profileContent:s,profileDetail:n,setProfileDetail:a}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"mobile-selector-section",children:(0,i.jsx)("div",{className:"mobile-title-slider",children:"Search"===s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Wittle search"),style:{fontWeight:"Wittle search"===n?"700":"500",backgroundColor:"Wittle search"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Wittle search"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Property search"),style:{fontWeight:"Property search"===n?"700":"500",backgroundColor:"Property search"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property search"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Saved properties"),style:{fontWeight:"Saved properties"===n?"700":"500",backgroundColor:"Saved properties"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved properties"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Saved searches"),style:{fontWeight:"Saved searches"===n?"700":"500",backgroundColor:"Saved searches"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved searches"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Property comparison"),style:{fontWeight:"Property comparison"===n?"700":"500",backgroundColor:"Property comparison"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property comparison"})]}):"Lifestyle"===s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Lifestyle search"),style:{fontWeight:"Lifestyle search"===n?"700":"500",backgroundColor:"Lifestyle search"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Search"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("List"),style:{fontWeight:"List"===n?"700":"500",backgroundColor:"List"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved places"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Lifestyle insights"),style:{fontWeight:"Lifestyle insights"===n?"700":"500",backgroundColor:"Lifestyle insights"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Insights"})]}):"Admin"===s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Admin dashboard"),style:{fontWeight:"Admin dashboard"===n?"700":"500",backgroundColor:"Admin dashboard"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Dashboard"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Admin opportunities"),style:{fontWeight:"Admin opportunities"===n?"700":"500",backgroundColor:"Admin opportunities"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Opportunity"})]}):""})})})}},8772:function(e,t,s){var i=s(42524),n=(s(28381),s(65293),s(15211)),a=(s(63762),s(31824),s(29343));t.Z=e=>{let{navbarColour:t}=e;const s=(0,i.s0)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("section",{className:"nav-section no-print",style:{backgroundColor:t},children:[(0,a.jsx)("div",{className:"left-section",children:(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)("h2",{onClick:()=>s("/"),children:"Wittle"})})}),(0,n.Hb)()?(0,a.jsx)("div",{className:"menu-container",children:(0,a.jsx)("h3",{className:"cta",onClick:e=>{localStorage.removeItem("wittle-user-token"),localStorage.removeItem("wittle-username"),window.location.reload()},children:(0,a.jsx)("a",{children:"Sign out"})})}):(0,a.jsx)("div",{className:"menu-container",children:(0,a.jsx)("h3",{className:"cta",onClick:()=>s("/login"),children:(0,a.jsx)("a",{children:"Sign in"})})})]})})}},59693:function(e,t,s){var i=s(42524),n=s(28381),a=s(15211),o=s(65293),l=s(29343);t.Z=e=>{let{setProfileDetail:t,variableSide:s,setProfileContent:r,setVariableSide:c}=e;const h=(0,i.s0)(),[d,u]=(0,n.useState)(),[p,m]=(0,n.useState)();return(0,n.useEffect)((()=>{(0,a.Hb)()?(async()=>{try{const{data:e}=await o.ZP.get(`/api/auth/profile/${(0,a.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,a.hP)()}`}});console.log("user data ->",e),u(e)}catch(e){m(!0),console.log(e)}})():(h("/access-denied"),console.log("no account"))}),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("section",{className:"profile-sidebar-open no-print remove-margin",children:[(0,l.jsx)("div",{className:"logo",children:(0,l.jsx)("h2",{onClick:()=>h("/"),children:"Wittle"})}),(0,l.jsxs)("div",{className:"profile-buttons",children:[(0,l.jsx)("div",{className:"profile-button-title",children:(0,l.jsx)("h2",{onClick:()=>{t("Home"),r("Home"),h("/agents/profile")},children:"\ud83e\uddd8\u200d\u2642\ufe0f Wittle home"})}),(0,l.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,l.jsx)("h2",{onClick:()=>{t("Saved items"),r("Saved items"),h("/agents/favourites")},children:"\ud83c\udfe1 Saved items"})}),(0,l.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,l.jsx)("h2",{onClick:()=>{t("Listing generator"),r("Listing generator"),h("/agents/listing-generator")},children:"\ud83e\udde0 Listing generator"})}),!d||1!==d.id&&55!==d.id?"":(0,l.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,l.jsx)("h2",{onClick:()=>{t("AI listing generator"),r("AI listing generator"),h("/agents/ai-listing-generator")},children:"\ud83e\udde0 AI Listing generator"})}),(0,l.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,l.jsx)("h2",{onClick:()=>{r("Property finder"),t("Property finder"),h("/agents/finder")},children:"\ud83d\udd0e Property finder"})}),(0,l.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,l.jsx)("h2",{onClick:()=>{r("Account"),t("Account"),h("/agents/account")},children:"\ud83d\udda5 Account details"})})]})]})})}},97844:function(e,t,s){s.r(t);var i=s(28381),n=s(65293),a=s(42524),o=s(15211),l=(s(47142),s(95325),s(48925),s(8772)),r=s(59693),c=s(37336),h=s(50964),d=s(29343);n.ZP.defaults.xsrfCookieName="csrftoken",n.ZP.defaults.xsrfHeaderName="X-CSRFToken";t.default=()=>{const e=(0,a.s0)(),[t,s]=(0,i.useState)(),[u,p]=(0,i.useState)(),[m,g]=(0,i.useState)(),x=(0,i.useRef)(null),[f,j]=(0,i.useState)(!1),[b,k]=(0,i.useState)("Listing generator"),[y,v]=(0,i.useState)("Listing generator"),[w,C]=(0,i.useState)("Property insights"),[_,M]=(0,i.useState)(""),[N,S]=(0,i.useState)(""),[F,E]=(0,i.useState)({postcode:"",address:"",description:"",channel:"",bedrooms:"",bathrooms:"",property_type:"",tenure:"",size:"",on_road_parking:"",off_road_parking:"",balcony:"",primary_schools:0,secondary_schools:0,tubes:0,trains:0,restaurants:0,pubs:0,supermarkets:0,gyms:0,parks:0,evs:0,crime:0}),[P,D]=(0,i.useState)({location:"",size:"",property_type:"",bedrooms:"",bathrooms:"",en_suites:"",amenities:[],channel:"",additional_info:"",price:"",restaurants:"",pubs:"",supermarkets:"",tube:"",trains:"",parks:"",evs:"",primary_schools:"",secondary_schools:"",gyms:""}),[T,L]=(0,i.useState)(),[A,Z]=(0,i.useState)(),[B,W]=(0,i.useState)(),[R,I]=(0,i.useState)(),[O,U]=(0,i.useState)(),[$,q]=(0,i.useState)(),[H,z]=(0,i.useState)(),[V,X]=(0,i.useState)(),[Y,G]=(0,i.useState)(),[J,K]=(0,i.useState)(),[Q,ee]=(0,i.useState)(),[te,se]=(0,i.useState)(),[ie,ne]=(0,i.useState)(),[ae,oe]=(0,i.useState)(),[le,re]=(0,i.useState)(),[ce,he]=(0,i.useState)(),[de,ue]=(0,i.useState)(),[pe,me]=(0,i.useState)(),[ge,xe]=(0,i.useState)([]),[fe,je]=(0,i.useState)([]),[be,ke]=(0,i.useState)([]),[ye,ve]=(0,i.useState)([]),[we,Ce]=(0,i.useState)(),[_e,Me]=(0,i.useState)(),[Ne,Se]=(0,i.useState)(),[Fe,Ee]=(0,i.useState)(),[Pe,De]=(0,i.useState)(),[Te,Le]=(0,i.useState)(!1),[Ae,Ze]=(0,i.useState)(!1),Be=async t=>{try{"listing_ai_total"===t&&Le(!1);const{data:s}=await n.ZP.post("/api/postcodes/",{postcode:_});if(console.log("postcode data ->",s),L(s),He(t),"listing_ai_total"===t&&Ze(!0),"listing_insight_total"===t){const t={...F,postcode:_,request_type:"Insights"};await n.ZP.post("/api/listing_favourites/",t,{headers:{Authorization:`Bearer ${(0,o.hP)()}`}});We(),e("/agents/property")}if("listing_normal_total"===t){const e={...F,postcode:_,request_type:"Listing"};await n.ZP.post("/api/listing_favourites/",e,{headers:{Authorization:`Bearer ${(0,o.hP)()}`}})}}catch(i){s(!0),console.log(i)}},We=e=>{window.localStorage.setItem("listing-postcode",JSON.stringify(_))};(0,i.useEffect)((()=>{T&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/primaries/");Z(e)})()}catch(e){s(!0),console.log(e)}})()}),[T]);const Re=20/60*5,Ie=6371,Oe=e=>e*Math.PI/180,Ue=5/60;(0,i.useEffect)((()=>{A&&(()=>{const e=A.filter((e=>{const t=Oe(parseFloat(e.latitude)-parseFloat(T[0].longitude)),s=Oe(parseFloat(e.longitude)-parseFloat(T[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Oe(parseFloat(T[0].longitude)))*Math.cos(Oe(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Ie*n;e.distance_between=a,e.walkTimeMin=Math.round(a/Ue);const o=a/e.max_distance;return"Independent school"===e.school_type||"Special school"===e.school_type||"On request"===e.max_distance?e.within_catchment="N/a":"Based on map"===e.additional_status?e.within_catchment="Check catchment map":"Religion"===e.max_distance&e.distance_between<.6?e.within_catchment="Very likely if religious critera met":"Religion"===e.max_distance&e.distance_between<.8?e.within_catchment="Likely if religious critera met":"Religion"===e.max_distance&e.distance_between<1?e.within_catchment="Probably if religious critera met":"Religion"===e.max_distance&e.distance_between<1.5?e.within_catchment="Unlikely, even if religious critera met":"Religion"===e.max_distance&e.distance_between>1.5?e.within_catchment="Very unlikely, even if religious critera met":"Not specified"===e.max_distance&e.distance_between<.4?e.within_catchment="Very likely but no distance specified":"Not specified"===e.max_distance&e.distance_between<.7?e.within_catchment="Likely but no distance specified":"Not specified"===e.max_distance&e.distance_between<1?e.within_catchment="Probably but no distance specified":"Not specified"===e.max_distance&e.distance_between>1?e.within_catchment="Unlikely, but no distance specified":null===e.max_distance&e.distance_between<.6?e.within_catchment="Very likely, but no distance data available":null===e.max_distance&e.distance_between<.8?e.within_catchment="Likely, but no distance data available":null===e.max_distance&e.distance_between<1?e.within_catchment="Probably, but no distance data available":null===e.max_distance&e.distance_between<1.5?e.within_catchment="Unlikely, but no distance data available":null===e.max_distance&e.distance_between>1.5?e.within_catchment="Very unlikely, but no distance data available":o<=.6?e.within_catchment="Yes":o<=.8?e.within_catchment="Very likely":o<=1?e.within_catchment="Probably":o<=1.2?e.within_catchment="Probably not":"Does not apply"===e.max_distance?e.within_catchment="Yes":e.within_catchment="No",a<=Re})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,8);q(t),W(e),console.log("nearby primaries ->",e)})()}),[A]);(0,i.useEffect)((()=>{T&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/secondaries/");I(e)})()}catch(e){s(!0),console.log(e)}})()}),[T]);(0,i.useEffect)((()=>{R&&(()=>{const e=R.filter((e=>{const t=Oe(parseFloat(e.latitude)-parseFloat(T[0].longitude)),s=Oe(parseFloat(e.longitude)-parseFloat(T[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Oe(parseFloat(T[0].longitude)))*Math.cos(Oe(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Ie*n;e.distance_between=a,e.walkTimeMin=Math.round(a/Ue);const o=a/e.max_distance,l=a/e.min_distance;return e.school_type.includes("independent")||e.school_type.includes("special")?e.within_catchment="N/a":"Exam"===e.max_distance||"Test score"===e.max_distance?e.within_catchment="Dependent on test results":"Random"===e.max_distance?e.within_catchment="Random selection based on performance":"Catchment score"===e.max_distance?e.within_catchment="School uses catchment score - check":"Based on map"===e.max_distance?e.within_catchment="Check catchment map":"Religion"===e.max_distance&e.distance_between<.7?e.within_catchment="Very likely if religious critera met":"Religion"===e.max_distance&e.distance_between<.9?e.within_catchment="Likely if religious critera met":"Religion"===e.max_distance&e.distance_between<1.5?e.within_catchment="Probably if religious critera met":"Religion"===e.max_distance&e.distance_between>1.5?e.within_catchment="Unlikely, even if religious critera met":"Does not apply"===e.max_distance||null!==e.min_distance&l<=1?e.within_catchment="Yes":null!==e.min_distance&o<=.5?e.within_catchment="Very likely":null!==e.min_distance&o<=.7?e.within_catchment="Probably":e.within_catchment=o<=.6?"Yes":o<=.8?"Very likely":o<=1?"Probably":o<=1.2?"Probably not":"No",a<=2.5})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,8);z(t),U(e),console.log("nearby secondaries ->",e)})()}),[R]);(0,i.useEffect)((()=>{T&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/restaurants/");X(e)})()}catch(e){s(!0),console.log(e)}})()}),[T]);const $e=1.25;(0,i.useEffect)((()=>{V&&(()=>{const e=V.filter((e=>{const t=Oe(parseFloat(e.latitude)-parseFloat(T[0].longitude)),s=Oe(parseFloat(e.longitude)-parseFloat(T[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Oe(parseFloat(T[0].longitude)))*Math.cos(Oe(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Ie*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ue),a<=$e})).sort(((e,t)=>t.rating-e.rating)),t=e.filter((e=>"No Cuisine Data"!==e.cuisine)).slice(0,3).map((e=>e.restaurant_name));me((e=>new Set(e.map((e=>e.cuisine))).size)(e)),ne(e),xe(t),console.log("Nearby restaurants ->",e),1===F.restaurants&&D((t=>({...t,restaurants:`${e.length} restaurants within 15 min walk, with more than ${pe} cuisines available`})))})()}),[V]);(0,i.useEffect)((()=>{T&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/gyms/");console.log("gyms data ->",e),G(e)})()}catch(e){s(!0),console.log(e)}})()}),[T]);(0,i.useEffect)((()=>{Y&&(()=>{const e=["third space","pure gym","1 rebel","virgin","barry's","the gym group"],t=new Set,s=Y.filter((e=>{const t=Oe(parseFloat(e.Lat)-parseFloat(T[0].longitude)),s=Oe(parseFloat(e.long)-parseFloat(T[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Oe(parseFloat(T[0].longitude)))*Math.cos(Oe(parseFloat(e.Lat)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Ie*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ue),a<=$e})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),i=[];for(let n=0;n<s.length;n++){const a=s[n];if(a.gym_group&&e.includes(a.gym_group.toLowerCase())&&!t.has(a.gym_group)&&(i.push(a.gym_group),t.add(a.gym_group),3===i.length))break}oe(s),ke(i),1===F.gyms&&D((e=>({...e,gyms:`${s.length} gyms within 15 min walk, including ${i[0]} and  ${i[1]}`})))})()}),[Y]);(0,i.useEffect)((()=>{T&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/supermarkets/");ee(e)})()}catch(e){s(!0),console.log(e)}})()}),[T]);(0,i.useEffect)((()=>{Q&&(()=>{const e=["m&s","waitrose","aldi","lidl","sainsburys","tesco","asda"],t=new Set,s=Q.map((e=>{const t=Oe(parseFloat(e.latitude)-parseFloat(T[0].longitude)),s=Oe(parseFloat(e.longitude)-parseFloat(T[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Oe(parseFloat(T[0].longitude)))*Math.cos(Oe(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Ie*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ue),{...e,distance:a}})).filter((e=>e.distance<=$e)),i=[];for(let n=0;n<s.length;n++){const a=s[n];if(e.includes(a.supermarket_brand.toLowerCase())&&!t.has(a.supermarket_store_name)&&(i.push(a.supermarket_store_name),t.add(a.supermarket_store_name),3===i.length))break}he(s),ve(i),console.log("Nearby supermarkets ->",s),1===F.supermarkets&&D((e=>({...e,supermarkets:`${s.length} supermarkets within 15 min walk, including ${i[0]} and ${i[1]}`})))})()}),[Q]);(0,i.useEffect)((()=>{T&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/tubes/");Ce(e)})()}catch(e){s(!0),console.log(e)}})()}),[T]);(0,i.useEffect)((()=>{we&&(()=>{const e=we.filter((e=>{const t=Oe(parseFloat(e.lat)-parseFloat(T[0].longitude)),s=Oe(parseFloat(e.long)-parseFloat(T[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Oe(parseFloat(T[0].longitude)))*Math.cos(Oe(parseFloat(e.lat)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Ie*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ue),a<=Re})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));Se(e),console.log("Nearby tubes ->",e),1===F.tubes&&D((t=>({...t,tubes:`${e.length} within 15 min walk, including ${e[0].station_name} and ${e[1].station_name}`})))})()}),[we]);(0,i.useEffect)((()=>{T&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/evs/");console.log("ev data ->",e),se(e)})()}catch(e){s(!0),console.log(e)}})()}),[T]);(0,i.useEffect)((()=>{te&&(()=>{const e=te.filter((e=>{const t=Oe(parseFloat(e.latitude)-parseFloat(T[0].longitude)),s=Oe(parseFloat(e.longitude)-parseFloat(T[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Oe(parseFloat(T[0].longitude)))*Math.cos(Oe(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Ie*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ue),a<=.8333333333333333})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));ue(e)})()}),[te]);(0,i.useEffect)((()=>{T&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/pubs/");console.log("pub data ->",e),K(e)})()}catch(e){s(!0),console.log(e)}})()}),[T]);(0,i.useEffect)((()=>{J&&(()=>{const e=J.filter((e=>{const t=Oe(parseFloat(e.latitude)-parseFloat(T[0].longitude)),s=Oe(parseFloat(e.longitude)-parseFloat(T[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Oe(parseFloat(T[0].longitude)))*Math.cos(Oe(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Ie*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ue),a<=$e})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,3).map((e=>e.name));re(e),je(t),console.log("Nearby pubs ->",e)})()}),[J]);(0,i.useEffect)((()=>{T&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/trains/");console.log("trains data ->",e),Me(e)})()}catch(e){s(!0),console.log(e)}})()}),[T]);(0,i.useEffect)((()=>{_e&&(()=>{const e=_e.filter((e=>{const t=Oe(parseFloat(e.latitude)-parseFloat(T[0].longitude)),s=Oe(parseFloat(e.longitude)-parseFloat(T[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Oe(parseFloat(T[0].longitude)))*Math.cos(Oe(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Ie*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ue),a<=Re})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));Ee(e),console.log("Nearby trains ->",e)})()}),[_e]);const qe=e=>{E((t=>({...t,[e]:1===t[e]?0:1})))},He=async e=>{console.log("trying to increase");try{const{data:t}=await n.ZP.post("/api/usage/listing/",{column:e},{headers:{Authorization:`Bearer ${(0,o.hP)()}`}});console.log(t),"success"===t.status?console.log("Usage count increased successfully"):console.error("Failed to increase usage count:",t.message)}catch(t){console.error("Error:",t)}};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("section",{className:"agent-profile-page",children:[(0,d.jsx)("div",{className:"desktop-nav",children:(0,d.jsx)(l.Z,{navbarColour:"#FDF7F0"})}),(0,d.jsx)("div",{className:"mobile-nav",children:(0,d.jsx)(c.Z,{setProfileContent:k,profileContent:b,profileDetail:y,setProfileDetail:v})}),(0,d.jsx)(r.Z,{setProfileDetail:v,setProfileContent:k,userData:u}),(0,d.jsxs)("section",{className:"listing-generator",children:[(0,d.jsxs)("div",{className:"listing-options",children:[(0,d.jsx)("h5",{className:"no-print",onClick:()=>C("Property insights"),style:{textDecoration:"Property insights"===w?"underline 3px #ED6B86":"none",textUnderlineOffset:"Property insights"===w?"0.5em":"initial",fontWeight:"Property insights"===w?"700":"400"},children:"Property insights"}),(0,d.jsx)("h5",{className:"no-print",onClick:()=>C("Listing generator"),style:{textDecoration:"Listing generator"===w?"underline 3px #ED6B86":"none",textUnderlineOffset:"Listing generator"===w?"0.5em":"initial",fontWeight:"Listing generator"===w?"700":"400"},children:"Listing generator"})]}),(0,d.jsxs)("div",{className:"listing-wrapper",children:[(0,d.jsx)("div",{className:"insight-inputs",children:"Property insights"===w?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:"Insert full postcode to extract details about property"}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udccd Postcode"}),(0,d.jsx)("input",{type:"text",value:_,onChange:e=>M(e.target.value.toUpperCase().replace(/\s+/g,"")),placeholder:"Enter postcode..."})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udccd Address"}),(0,d.jsx)("input",{type:"text",value:N,onChange:e=>{const t=e.target.value;S(t),E((e=>({...e,address:t})))},placeholder:"Enter address..."})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udff7 Channel"}),(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>E((t=>({...t,channel:e.target.value}))),children:[(0,d.jsx)("option",{children:"--- Select ---"}),(0,d.jsx)("option",{children:"Sales"}),(0,d.jsx)("option",{children:"Rental"})]})]}),(0,d.jsx)("button",{onClick:()=>{Be("listing_insight_total"),E((e=>({...e,request_type:"insights"})))},children:"See insights"})]}):"Listing generator"===w?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:"Input details and select features you want to include your listing"}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udccd Postcode"}),(0,d.jsx)("input",{type:"text",value:_,onChange:e=>M(e.target.value.toUpperCase().replace(/\s+/g,"")),placeholder:"Enter postcode..."})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udccd Address"}),(0,d.jsx)("input",{type:"text",value:N,onChange:e=>{const t=e.target.value;S(t),E((e=>({...e,address:t})))},placeholder:"Enter address..."})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udff7 Channel"}),(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>E((t=>({...t,channel:e.target.value}))),children:[(0,d.jsx)("option",{children:"--- Select ---"}),(0,d.jsx)("option",{children:"Sales"}),(0,d.jsx)("option",{children:"Rental"})]})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\u270d\ud83c\udffc Description"}),(0,d.jsx)("textarea",{id:"description",value:F.description,rows:"5",placeholder:"Enter your description here...",onChange:e=>E((t=>({...t,description:e.target.value})))})]}),(0,d.jsx)("h3",{className:"lifestyle-indicator",children:"Lifestyle elements to include"}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udc76 Primary schools"}),(0,d.jsx)(h.Z,{checked:1===F.primary_schools,onChange:()=>qe("primary_schools"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf93 Secondary schools"}),(0,d.jsx)(h.Z,{checked:1===F.secondary_schools,onChange:()=>qe("secondary_schools"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\ude87 Tubes"}),(0,d.jsx)(h.Z,{checked:1===F.tubes,onChange:()=>qe("tubes"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\ude88 Trains"}),(0,d.jsx)(h.Z,{checked:1===F.trains,onChange:()=>qe("trains"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\u26fd\ufe0f Electric vehicles"}),(0,d.jsx)(h.Z,{checked:1===F.evs,onChange:()=>qe("evs"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf7d Restaurants"}),(0,d.jsx)(h.Z,{checked:1===F.restaurants,onChange:()=>qe("restaurants"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf7a Pubs"}),(0,d.jsx)(h.Z,{checked:1===F.pubs,onChange:()=>qe("pubs"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf33 Parks"}),(0,d.jsx)(h.Z,{checked:1===F.parks,onChange:()=>qe("parks"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f Gyms"}),(0,d.jsx)(h.Z,{checked:1===F.gyms,onChange:()=>qe("gyms"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\uded2 Supermarkets"}),(0,d.jsx)(h.Z,{checked:1===F.supermarkets,onChange:()=>qe("supermarkets"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\ude94 Crime"}),(0,d.jsx)(h.Z,{checked:1===F.crime,onChange:()=>qe("crime"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsx)("button",{onClick:()=>Be("listing_normal_total"),children:"Load description"})]}):"AI listing generator"===w?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:"Input details and select features you want to include your listing"}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udccd Postcode"}),(0,d.jsx)("input",{type:"text",value:_,onChange:e=>M(e.target.value.toUpperCase().replace(/\s+/g,"")),placeholder:"Enter postcode..."})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udccd Location"}),(0,d.jsx)("input",{type:"text",value:P.location,onChange:e=>D((t=>({...t,location:e.target.value})))})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf0d Size"}),(0,d.jsx)("input",{type:"number",value:P.size,onChange:e=>D((t=>({...t,size:e.target.value})))})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udecc Bedrooms"}),(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>D((t=>({...t,bedrooms:e.target.value}))),children:[(0,d.jsx)("option",{value:0,children:"Studio"}),(0,d.jsx)("option",{children:"1"}),(0,d.jsx)("option",{children:"2"}),(0,d.jsx)("option",{children:"3"}),(0,d.jsx)("option",{children:"4"}),(0,d.jsx)("option",{children:"5"}),(0,d.jsx)("option",{children:"6"}),(0,d.jsx)("option",{children:"7"})]})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udec1 Bathrooms"}),(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>D((t=>({...t,bathrooms:e.target.value}))),children:[(0,d.jsx)("option",{children:"0"}),(0,d.jsx)("option",{children:"1"}),(0,d.jsx)("option",{children:"2"}),(0,d.jsx)("option",{children:"3"}),(0,d.jsx)("option",{children:"4"}),(0,d.jsx)("option",{children:"5"}),(0,d.jsx)("option",{children:"6"}),(0,d.jsx)("option",{children:"7"})]})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udfe1 Property type"}),(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>D((t=>({...t,property_type:e.target.value}))),children:[(0,d.jsx)("option",{children:"Flat"}),(0,d.jsx)("option",{children:"Bungalow"}),(0,d.jsx)("option",{children:"Terraced house"}),(0,d.jsx)("option",{children:"Semi-detached house"}),(0,d.jsx)("option",{children:"Detached house"})]})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udff7 Channel"}),(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>D((t=>({...t,channel:e.target.value}))),children:[(0,d.jsx)("option",{children:"Sales"}),(0,d.jsx)("option",{children:"Rental"})]})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udff7 Additional info"}),"Sales"===P.channel?(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>D((t=>({...t,additional_info:e.target.value}))),children:[(0,d.jsx)("option",{children:"Freehold"}),(0,d.jsx)("option",{children:"Share of Freehold"}),(0,d.jsx)("option",{children:"Leasehold"})]}):"Rental"===P.channel?(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>D((t=>({...t,additional_info:e.target.value}))),children:[(0,d.jsx)("option",{children:"Furnished"}),(0,d.jsx)("option",{children:"Unfurnished"}),(0,d.jsx)("option",{children:"Part furnished"}),(0,d.jsx)("option",{children:"Furnished or unfurnished"})]}):""]}),(0,d.jsxs)("div",{className:"input-block",onChange:e=>D((t=>({...t,price:e.target.value}))),children:[(0,d.jsx)("h3",{children:"\ud83d\udcb7 Price"}),(0,d.jsx)("input",{type:"number",value:P.price,onChange:e=>D((t=>({...t,price:e.target.value})))})]}),(0,d.jsxs)("div",{className:"input-block",id:"features",children:[(0,d.jsx)("h3",{children:"Feature Selector"}),(0,d.jsx)("div",{className:"feature-section",children:["balcony","on-road parking","off-road parking","private gated","private garage","shared garage","lift","open-plan","concierge","gym","pool & spa","penthouse","duplex","garden"].map((e=>(0,d.jsx)("div",{children:(0,d.jsxs)("label",{children:[(0,d.jsx)("input",{className:"checkbox",type:"checkbox",checked:P.amenities.includes(e),onChange:()=>(e=>{D((t=>t.amenities.includes(e)?{...t,amenities:t.amenities.filter((t=>t!==e))}:{...t,amenities:[...t.amenities,e]}))})(e)}),e]})},e)))})]}),(0,d.jsx)("h3",{className:"lifestyle-indicator",children:"Lifestyle elements to include"}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udc76 Primary schools"}),(0,d.jsx)(h.Z,{checked:1===F.primary_schools,onChange:()=>qe("primary_schools"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf93 Secondary schools"}),(0,d.jsx)(h.Z,{checked:1===F.secondary_schools,onChange:()=>qe("secondary_schools"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\ude87 Tubes"}),(0,d.jsx)(h.Z,{checked:1===F.tubes,onChange:()=>qe("tubes"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\ude88 Trains"}),(0,d.jsx)(h.Z,{checked:1===F.trains,onChange:()=>qe("trains"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\u26fd\ufe0f Electric vehicles"}),(0,d.jsx)(h.Z,{checked:1===F.evs,onChange:()=>qe("evs"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf7d Restaurants"}),(0,d.jsx)(h.Z,{checked:1===F.restaurants,onChange:()=>qe("restaurants"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf7a Pubs"}),(0,d.jsx)(h.Z,{checked:1===F.pubs,onChange:()=>qe("pubs"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf33 Parks"}),(0,d.jsx)(h.Z,{checked:1===F.parks,onChange:()=>qe("parks"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f Gyms"}),(0,d.jsx)(h.Z,{checked:1===F.gyms,onChange:()=>qe("gyms"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\uded2 Supermarkets"}),(0,d.jsx)(h.Z,{checked:1===F.supermarkets,onChange:()=>qe("supermarkets"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\ude94 Crime"}),(0,d.jsx)(h.Z,{checked:1===F.crime,onChange:()=>qe("crime"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsx)("button",{onClick:Be,children:"Load description"})]}):""}),(0,d.jsxs)("div",{className:"insight-inputs",children:[T?(0,d.jsxs)("div",{className:"results-header",children:[(0,d.jsx)("h3",{className:"results-title",children:"Your listing"}),(0,d.jsx)("h3",{onClick:()=>{const e=x.current.innerText,t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},className:"copy-button",children:"\ud83d\udcd1"})]}):"",(0,d.jsx)("div",{className:"input-block",ref:x,children:(0,d.jsxs)("div",{className:"results-box",name:"description",children:[T&&""!==F.description?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h1",{children:"About this property"}),(0,d.jsx)("p",{children:F.description})]})}):"",T?(0,d.jsx)("h1",{children:"What you should know about this area"}):"",ie&&1===F.restaurants?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Restaurants"}),(0,d.jsxs)("h5",{children:["\ud83c\udf7d ",ie.length," restaurants within 15 mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf7d more than ",pe," cuisines available"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf7d ",ge[0],", ",ge[1]," & ",ge[2]," are well rated"]})]})}):"",le&&1===F.pubs?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Pubs"}),(0,d.jsxs)("h5",{children:["\ud83c\udf7a ",le.length," pubs within 15 mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf7a ",fe[0],", ",fe[1]," & ",fe[2]," are well rated"]})]})}):"",ae&&1===F.gyms?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Gyms"}),(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f ",ae.length," gyms within 15 mins walk"]}),3===be.length?(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f includes ",be[0],", ",be[1]," & ",be[2]]}):2===be.length?(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f includes ",be[0]," & ",be[1]," "]}):1===be.length?(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f includes ",be[0]]}):""]})}):"",ce&&1===F.supermarkets?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Supermarkets"}),(0,d.jsxs)("h5",{children:["\ud83d\uded2 ",ce.length," supermarkets within 15 mins walk"]}),3===ye.length?(0,d.jsxs)("h5",{children:["\ud83d\uded2 includes ",ye[0],", ",ye[1]," & ",ye[2]]}):2===ye.length?(0,d.jsxs)("h5",{children:["\ud83d\uded2 includes ",ye[0]," & ",ye[1]," "]}):1===ye.length?(0,d.jsxs)("h5",{children:["\ud83d\uded2 includes ",ye[0]]}):""]})}):"",Ne&&1===F.tubes?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Tube stations"}),(0,d.jsxs)("h5",{children:["\ud83d\ude87 ",Ne.length," stations within 20 mins walk"]}),Ne.slice(0,5).map(((e,t)=>(0,d.jsxs)("h5",{children:["\ud83d\ude87 ",e.station_name," - ",e.line," - ",e.walkTimeMin," mins walk"]},t)))]})}):"",Fe&&1===F.trains?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Train stations"}),(0,d.jsxs)("h5",{children:["\ud83d\ude88 ",Fe.length," stations within 20 mins walk"]}),Fe.slice(0,5).map(((e,t)=>(0,d.jsxs)("h5",{children:["\ud83d\ude88 ",e.station," - ",e.walkTimeMin," mins walk"]},t)))]})}):"",T&&1===F.parks?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Green space"}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 within top ",100-T[0].parks_lsoa[0].london_percentile,"% of areas in london for access to greenspace"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 ",T[0].parks_postcode.park_name0," - ",Math.ceil(T[0].parks_postcode.distance0/1e3/5*60)," mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 ",T[0].parks_postcode.park_name1," - ",Math.ceil(T[0].parks_postcode.distance1/1e3/5*60)," mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 ",T[0].parks_postcode.park_name2," - ",Math.ceil(T[0].parks_postcode.distance2/1e3/5*60)," mins walk"]})]})}):"",T&&1===F.evs?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Electric vehicles"}),(0,d.jsxs)("h5",{children:["\ud83d\ude87 ",T[0].ev.ev_10_mins," charging points within 10 mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83d\ude87 in the top ",Math.round(100*(1-T[0].ev.percentile)),"% of areas in London for ev charging access"]})]})}):"",B&&1===F.primary_schools?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Primary schools"}),B.slice(0,5).map(((e,t)=>(0,d.jsxs)("h5",{children:["\ud83d\udc76 ",e.school_name," - ",e.ofsted_results," ofsted - ",e.walkTimeMin," mins walk"]},t)))]})}):""]})})]})]})]})]})})}},50964:function(e,t,s){s.d(t,{Z:function(){return c}});var i=s(28381);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},n.apply(this,arguments)}var a=i.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},i.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),o=i.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},i.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function l(e){if(7===e.length)return e;for(var t="#",s=1;s<4;s+=1)t+=e[s]+e[s];return t}function r(e,t,s,i,n){return function(e,t,s,i,n){var a=(e-s)/(t-s);if(0===a)return i;if(1===a)return n;for(var o="#",l=1;l<6;l+=2){var r=parseInt(i.substr(l,2),16),c=parseInt(n.substr(l,2),16),h=Math.round((1-a)*r+a*c).toString(16);1===h.length&&(h="0"+h),o+=h}return o}(e,t,s,l(i),l(n))}var c=function(e){function t(t){e.call(this,t);var s=t.height,i=t.width,n=t.checked;this.t=t.handleDiameter||s-2,this.i=Math.max(i-s,i-(s+this.t)/2),this.o=Math.max(0,(s-this.t)/2),this.state={h:n?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.m=this.m.bind(this),this.M=this.M.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){this.W=!0},t.prototype.componentDidUpdate=function(e){e.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},t.prototype.componentWillUnmount=function(){this.W=!1},t.prototype.I=function(e){this.H.focus(),this.setState({R:e,j:!0,B:Date.now()})},t.prototype.L=function(e){var t=this.state,s=t.R,i=t.h,n=(this.props.checked?this.i:this.o)+e-s;t.N||e===s||this.setState({N:!0});var a=Math.min(this.i,Math.max(this.o,n));a!==i&&this.setState({h:a})},t.prototype.U=function(e){var t=this.state,s=t.h,i=t.N,n=t.B,a=this.props.checked,o=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var l=Date.now()-n;(!i||l<250||a&&s<=o||!a&&s>=o)&&this.A(e),this.W&&this.setState({N:!1,j:!1}),this.l=Date.now()},t.prototype.p=function(e){e.preventDefault(),"number"==typeof e.button&&0!==e.button||(this.I(e.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.g))},t.prototype.v=function(e){e.preventDefault(),this.L(e.clientX)},t.prototype.g=function(e){this.U(e),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.g)},t.prototype.k=function(e){this.X=null,this.I(e.touches[0].clientX)},t.prototype.m=function(e){this.L(e.touches[0].clientX)},t.prototype.M=function(e){e.preventDefault(),this.U(e)},t.prototype.$=function(e){Date.now()-this.l>50&&(this.A(e),Date.now()-this.u>50&&this.W&&this.setState({j:!1}))},t.prototype.C=function(){this.u=Date.now()},t.prototype.D=function(){this.setState({j:!0})},t.prototype.O=function(){this.setState({j:!1})},t.prototype.S=function(e){this.H=e},t.prototype.T=function(e){e.preventDefault(),this.H.focus(),this.A(e),this.W&&this.setState({j:!1})},t.prototype.A=function(e){var t=this.props;(0,t.onChange)(!t.checked,e,t.id)},t.prototype.render=function(){var e=this.props,t=e.checked,s=e.disabled,a=e.className,o=e.offColor,l=e.onColor,c=e.offHandleColor,h=e.onHandleColor,d=e.checkedIcon,u=e.uncheckedIcon,p=e.checkedHandleIcon,m=e.uncheckedHandleIcon,g=e.boxShadow,x=e.activeBoxShadow,f=e.height,j=e.width,b=e.borderRadius,k=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1===t.indexOf(i)&&(s[i]=e[i]);return s}(e,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),y=this.state,v=y.h,w=y.N,C=y.j,_={position:"relative",display:"inline-block",textAlign:"left",opacity:s?.5:1,direction:"ltr",borderRadius:f/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},M={height:f,width:j,margin:Math.max(0,(this.t-f)/2),position:"relative",background:r(v,this.i,this.o,o,l),borderRadius:"number"==typeof b?b:f/2,cursor:s?"default":"pointer",WebkitTransition:w?null:"background 0.25s",MozTransition:w?null:"background 0.25s",transition:w?null:"background 0.25s"},N={height:f,width:Math.min(1.5*f,j-(this.t+f)/2+1),position:"relative",opacity:(v-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"},S={height:f,width:Math.min(1.5*f,j-(this.t+f)/2+1),position:"absolute",opacity:1-(v-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"},F={height:this.t,width:this.t,background:r(v,this.i,this.o,c,h),display:"inline-block",cursor:s?"default":"pointer",borderRadius:"number"==typeof b?b-1:"50%",position:"absolute",transform:"translateX("+v+"px)",top:Math.max(0,(f-this.t)/2),outline:0,boxShadow:C?x:g,border:0,WebkitTransition:w?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:w?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:w?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},E={height:this.t,width:this.t,opacity:Math.max(2*(1-(v-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"},P={height:this.t,width:this.t,opacity:Math.max(2*((v-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:w?null:"opacity 0.25s",MozTransition:w?null:"opacity 0.25s",transition:w?null:"opacity 0.25s"};return i.createElement("div",{className:a,style:_},i.createElement("div",{className:"react-switch-bg",style:M,onClick:s?null:this.T,onMouseDown:function(e){return e.preventDefault()}},d&&i.createElement("div",{style:N},d),u&&i.createElement("div",{style:S},u)),i.createElement("div",{className:"react-switch-handle",style:F,onClick:function(e){return e.preventDefault()},onMouseDown:s?null:this.p,onTouchStart:s?null:this.k,onTouchMove:s?null:this.m,onTouchEnd:s?null:this.M,onTouchCancel:s?null:this.O},m&&i.createElement("div",{style:E},m),p&&i.createElement("div",{style:P},p)),i.createElement("input",n({},{type:"checkbox",role:"switch","aria-checked":t,checked:t,disabled:s,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},k,{ref:this.S,onFocus:this.D,onBlur:this.O,onKeyUp:this.C,onChange:this.$})))},t}(i.Component);c.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:a,checkedIcon:o,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56}}}]);
//# sourceMappingURL=844.62645593.chunk.js.48bc3c55e9c9.map