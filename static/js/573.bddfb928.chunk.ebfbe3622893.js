"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[573],{3573:function(e,s,a){a.d(s,{Z:function(){return j}});var l=a(72791),r=a(31243),i=a(57689),n=a(97165),c=a(30948),o=a(74177),t=a(25994),d=a(67842),h=a(80184);var p=e=>{let{propertyInputShow:s,handlePropertyInputClose:a,propertyFilters:l,setPropertyFilters:r,boroughs:i,rentalPrices:n,salesPrices:o,propertyTypeList:p,loadProperties:m,toggleStatus:u}=e;return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(t.Z,{show:s,onHide:a,backdrop:"static",className:"KYC-input-modal",children:(0,h.jsx)(t.Z.Body,{children:(0,h.jsxs)("section",{className:"overall-body",children:[(0,h.jsx)("section",{className:"input-header",children:(0,h.jsxs)("div",{className:"input-title",children:[(0,h.jsx)("h1",{children:"Find a property based on what matters to you"}),(0,h.jsx)("h1",{className:"close-modal",onClick:a,children:"X"})]})}),(0,h.jsxs)("section",{className:"input-main",children:[(0,h.jsxs)("div",{className:"input-section",children:[(0,h.jsx)("h2",{className:"section-sub-title",children:"Search details"}),(0,h.jsxs)("div",{className:"selection-block-single",children:[(0,h.jsx)("h3",{children:"Channel"}),(0,h.jsxs)("select",{className:"dropdown",value:l.channel||"Sales",onChange:e=>r((s=>({...s,channel:e.target.value}))),children:[(0,h.jsx)("option",{children:"Sales"}),(0,h.jsx)("option",{children:"Rental"})]})]}),(0,h.jsxs)("div",{className:"selection-block-single",children:[(0,h.jsx)("h3",{children:"Area"}),(0,h.jsxs)("select",{className:"dropdown",value:l.area||"",onChange:e=>r((s=>({...s,area:e.target.value}))),children:[(0,h.jsx)("option",{value:"",children:"All"}),i.map(((e,s)=>(0,h.jsx)("option",{value:e,children:e},s)))]})]})]}),(0,h.jsxs)("div",{className:"input-section",children:[(0,h.jsx)("h2",{className:"section-sub-title",children:"Property details"}),(0,h.jsxs)("div",{className:"selection-block-double",children:[(0,h.jsx)("h3",{children:"Price"}),"Rental"===l.channel?(0,h.jsxs)("div",{className:"double-dropdowns",children:[(0,h.jsxs)("select",{className:"dropdown",value:l.rental_price_min||"",onChange:e=>r((s=>({...s,rental_price_min:e.target.value}))),children:[(0,h.jsx)("option",{value:0,children:"No min"}),n.map(((e,s)=>(0,h.jsx)("option",{value:e,children:(0,h.jsx)(c.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]}),(0,h.jsxs)("select",{className:"dropdown",value:l.rental_price_max||"",onChange:e=>r((s=>({...s,rental_price_max:e.target.value}))),children:[(0,h.jsx)("option",{value:1e7,children:"No max"}),n.map(((e,s)=>(0,h.jsx)("option",{value:e,children:(0,h.jsx)(c.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]})]}):"Sales"===l.channel?(0,h.jsxs)("div",{className:"double-dropdowns",children:[(0,h.jsxs)("select",{className:"dropdown",value:l.rental_price_min||"",onChange:e=>r((s=>({...s,rental_price_min:e.target.value}))),children:[(0,h.jsx)("option",{value:0,children:"No min"}),o.map(((e,s)=>(0,h.jsx)("option",{value:e,children:(0,h.jsx)(c.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]}),(0,h.jsxs)("select",{className:"dropdown",value:l.rental_price_max||"",onChange:e=>r((s=>({...s,rental_price_max:e.target.value}))),children:[(0,h.jsx)("option",{value:1e7,children:"No max"}),o.map(((e,s)=>(0,h.jsx)("option",{value:e,children:(0,h.jsx)(c.h3,{value:e,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})},s)))]})]}):""]}),(0,h.jsxs)("div",{className:"selection-block-double",children:[(0,h.jsx)("h3",{children:"Bedrooms"}),(0,h.jsxs)("div",{className:"double-dropdowns",children:[(0,h.jsxs)("select",{className:"dropdown",value:l.bedrooms_min||"",onChange:e=>r((s=>({...s,bedrooms_min:""===e.target.value?null:e.target.value}))),children:[(0,h.jsx)("option",{value:"",children:"No min"}),(0,h.jsx)("option",{value:"1",children:"1"}),(0,h.jsx)("option",{value:"2",children:"2"}),(0,h.jsx)("option",{value:"3",children:"3"}),(0,h.jsx)("option",{value:"4",children:"4"}),(0,h.jsx)("option",{value:"5",children:"5"}),(0,h.jsx)("option",{value:"6",children:"6"})]}),(0,h.jsxs)("select",{className:"dropdown",value:l.bedrooms_max||"",onChange:e=>r((s=>({...s,bedrooms_max:""===e.target.value?null:e.target.value}))),children:[(0,h.jsx)("option",{value:"",children:"No max"}),(0,h.jsx)("option",{value:"1",children:"1"}),(0,h.jsx)("option",{value:"2",children:"2"}),(0,h.jsx)("option",{value:"3",children:"3"}),(0,h.jsx)("option",{value:"4",children:"4"}),(0,h.jsx)("option",{value:"5",children:"5"}),(0,h.jsx)("option",{value:"6",children:"6"}),(0,h.jsx)("option",{value:"7",children:"7"})]})]})]}),(0,h.jsxs)("div",{className:"selection-block-single",children:[(0,h.jsx)("h3",{children:"Property type"}),(0,h.jsxs)("select",{className:"dropdown",value:l.propertyType||"",onChange:e=>r((s=>({...s,propertyType:e.target.value}))),children:[(0,h.jsx)("option",{value:"",children:"All"}),p.map(((e,s)=>(0,h.jsx)("option",{value:e,children:e},s)))]})]}),(0,h.jsxs)("div",{className:"selection-block-single",children:[(0,h.jsx)("h3",{children:"Features"}),(0,h.jsxs)("div",{className:"select-box",children:[(0,h.jsx)("input",{type:"checkbox",id:"myCheckbox",name:"myCheckbox",checked:l.garden,onChange:e=>r((s=>({...s,garden:e.target.checked})))}),(0,h.jsx)("label",{htmlFor:"myCheckbox",children:"Garden"})]})]}),(0,h.jsxs)("div",{className:"selection-block-single",children:[(0,h.jsx)("h3",{children:"Size"}),(0,h.jsx)("input",{placeholder:"Input min size",className:"dropdown",value:l.size||"",onChange:e=>r((s=>({...s,size:e.target.value})))})]})]}),(0,h.jsxs)("div",{className:"input-section",children:[(0,h.jsx)("h2",{className:"section-sub-title",children:"Lifestyle details"}),(0,h.jsx)("p",{className:"explanation",children:"Select what you want to include as part of your search and how much they matter"}),(0,h.jsxs)("div",{className:"selection-block-single lifestyle",children:[(0,h.jsx)("h3",{children:"Primary schools"}),(0,h.jsx)(d.Z,{checked:!0===l.primaries,onChange:()=>u("primaries"),onColor:"#ED6B86",offColor:"#D5D5D5",uncheckedIcon:null,checkedIcon:null})]}),!0===l.primaries?(0,h.jsxs)("div",{className:"slider-container",children:[(0,h.jsx)("input",{type:"range",onChange:e=>r((s=>({...s,primaries_score:e.target.value}))),name:l.primaries_score,className:"slider",defaultValue:l.primaries_score?l.primaries_score:0,min:"0",max:"10",step:"1"}),(0,h.jsx)("h3",{children:l.primaries_score})]}):"",(0,h.jsxs)("div",{className:"selection-block-single lifestyle",children:[(0,h.jsx)("h3",{children:"Secondary schools"}),(0,h.jsx)(d.Z,{checked:!0===l.secondaries,onChange:()=>u("secondaries"),onColor:"#ED6B86",offColor:"#D5D5D5",uncheckedIcon:null,checkedIcon:null})]}),!0===l.secondaries?(0,h.jsxs)("div",{className:"slider-container",children:[(0,h.jsx)("input",{type:"range",onChange:e=>r((s=>({...s,secondaries_score:e.target.value}))),name:l.secondaries_score,className:"slider",defaultValue:l.secondaries_score?l.secondaries_score:0,min:"0",max:"10",step:"1"}),(0,h.jsx)("h3",{children:l.secondaries_score})]}):"",(0,h.jsxs)("div",{className:"selection-block-single lifestyle",children:[(0,h.jsx)("h3",{children:"Parks"}),(0,h.jsx)(d.Z,{checked:!0===l.parks,onChange:()=>u("parks"),onColor:"#ED6B86",offColor:"#D5D5D5",uncheckedIcon:null,checkedIcon:null})]}),!0===l.parks?(0,h.jsxs)("div",{className:"slider-container",children:[(0,h.jsx)("input",{type:"range",onChange:e=>r((s=>({...s,parks_score:e.target.value}))),name:l.parks_score,className:"slider",defaultValue:l.parks_score?l.parks_score:0,min:"0",max:"10",step:"1"}),(0,h.jsx)("h3",{children:l.parks_score})]}):"",(0,h.jsxs)("div",{className:"selection-block-single lifestyle",children:[(0,h.jsx)("h3",{children:"Playgrounds"}),(0,h.jsx)(d.Z,{checked:!0===l.playgrounds,onChange:()=>u("playgrounds"),onColor:"#ED6B86",offColor:"#D5D5D5",uncheckedIcon:null,checkedIcon:null})]}),!0===l.playgrounds?(0,h.jsxs)("div",{className:"slider-container",children:[(0,h.jsx)("input",{type:"range",onChange:e=>r((s=>({...s,playgrounds_score:e.target.value}))),name:l.playgrounds_score,className:"slider",defaultValue:l.playgrounds_score?l.playgrounds_score:0,min:"0",max:"10",step:"1"}),(0,h.jsx)("h3",{children:l.playgrounds_score})]}):"",(0,h.jsxs)("div",{className:"selection-block-single lifestyle",children:[(0,h.jsx)("h3",{children:"Gyms"}),(0,h.jsx)(d.Z,{checked:!0===l.gyms,onChange:()=>u("gyms"),onColor:"#ED6B86",offColor:"#D5D5D5",uncheckedIcon:null,checkedIcon:null})]}),!0===l.gyms?(0,h.jsxs)("div",{className:"slider-container",children:[(0,h.jsx)("input",{type:"range",onChange:e=>r((s=>({...s,gyms_score:e.target.value}))),name:l.gyms_score,className:"slider",defaultValue:l.gyms_score?l.gyms_score:0,min:"0",max:"10",step:"1"}),(0,h.jsx)("h3",{children:l.gyms_score})]}):"",(0,h.jsxs)("div",{className:"selection-block-single lifestyle",children:[(0,h.jsx)("h3",{children:"Restaurants"}),(0,h.jsx)(d.Z,{checked:!0===l.restaurants,onChange:()=>u("restaurants"),onColor:"#ED6B86",offColor:"#D5D5D5",uncheckedIcon:null,checkedIcon:null})]}),!0===l.restaurants?(0,h.jsxs)("div",{className:"slider-container",children:[(0,h.jsx)("input",{type:"range",onChange:e=>r((s=>({...s,restaurants_score:e.target.value}))),name:l.restaurants_score,className:"slider",defaultValue:l.restaurants_score?l.restaurants_score:0,min:"0",max:"10",step:"1"}),(0,h.jsx)("h3",{children:l.restaurants_score})]}):"",(0,h.jsxs)("div",{className:"selection-block-single lifestyle",children:[(0,h.jsx)("h3",{children:"Pubs"}),(0,h.jsx)(d.Z,{checked:!0===l.pubs,onChange:()=>u("pubs"),onColor:"#ED6B86",offColor:"#D5D5D5",uncheckedIcon:null,checkedIcon:null})]}),!0===l.pubs?(0,h.jsxs)("div",{className:"slider-container",children:[(0,h.jsx)("input",{type:"range",onChange:e=>r((s=>({...s,pubs_score:e.target.value}))),name:l.pubs_score,className:"slider",defaultValue:l.pubs_score?l.pubs_score:0,min:"0",max:"10",step:"1"}),(0,h.jsx)("h3",{children:l.pubs_score})]}):"",(0,h.jsxs)("div",{className:"selection-block-single lifestyle",children:[(0,h.jsx)("h3",{children:"Tubes"}),(0,h.jsx)(d.Z,{checked:!0===l.tubes,onChange:()=>u("tubes"),onColor:"#ED6B86",offColor:"#D5D5D5",uncheckedIcon:null,checkedIcon:null})]}),!0===l.tubes?(0,h.jsxs)("div",{className:"slider-container",children:[(0,h.jsx)("input",{type:"range",onChange:e=>r((s=>({...s,tubes_score:e.target.value}))),name:l.tubes_score,className:"slider",defaultValue:l.tubes_score?l.tubes_score:0,min:"0",max:"10",step:"1"}),(0,h.jsx)("h3",{children:l.tubes_score})]}):"",(0,h.jsxs)("div",{className:"selection-block-single lifestyle",children:[(0,h.jsx)("h3",{children:"Supermarkets"}),(0,h.jsx)(d.Z,{checked:!0===l.supermarkets,onChange:()=>u("supermarkets"),onColor:"#ED6B86",offColor:"#D5D5D5",uncheckedIcon:null,checkedIcon:null})]}),!0===l.supermarkets?(0,h.jsxs)("div",{className:"slider-container",children:[(0,h.jsx)("input",{type:"range",onChange:e=>r((s=>({...s,supermarkets_score:e.target.value}))),name:l.supermarkets_score,className:"slider",defaultValue:l.supermarkets_score?l.supermarkets_score:0,min:"0",max:"10",step:"1"}),(0,h.jsx)("h3",{children:l.supermarkets_score})]}):"",(0,h.jsxs)("div",{className:"selection-block-single lifestyle",children:[(0,h.jsx)("h3",{children:"EVs"}),(0,h.jsx)(d.Z,{checked:!0===l.ev,onChange:()=>u("ev"),onColor:"#ED6B86",offColor:"#D5D5D5",uncheckedIcon:null,checkedIcon:null})]}),!0===l.ev?(0,h.jsxs)("div",{className:"slider-container",children:[(0,h.jsx)("input",{type:"range",onChange:e=>r((s=>({...s,ev_score:e.target.value}))),name:l.ev_score,className:"slider",defaultValue:l.ev_score?l.ev_score:0,min:"0",max:"10",step:"1"}),(0,h.jsx)("h3",{children:l.ev_score})]}):"",(0,h.jsxs)("div",{className:"selection-block-single lifestyle",children:[(0,h.jsx)("h3",{children:"Crime"}),(0,h.jsx)(d.Z,{checked:!0===l.crime,onChange:()=>u("crime"),onColor:"#ED6B86",offColor:"#D5D5D5",uncheckedIcon:null,checkedIcon:null})]}),!0===l.crime?(0,h.jsxs)("div",{className:"slider-container",children:[(0,h.jsx)("input",{type:"range",onChange:e=>r((s=>({...s,crime_score:e.target.value}))),name:l.crime_score,className:"slider",defaultValue:l.crime_score?l.crime_score:0,min:"0",max:"10",step:"1"}),(0,h.jsx)("h3",{children:l.crime_score})]}):""]})]}),(0,h.jsx)("section",{className:"input-footer",children:(0,h.jsx)("button",{className:"load-properties",onClick:m,children:"Load results"})})]})})})})},m=a(96048),u=a.n(m),x=a(34648);a(16129);var j=e=>{let{setListingSelection:s,fetchData:a}=e;const t=(0,i.s0)(),[d,m]=(0,l.useState)(!1),[j,g]=(0,l.useState)(),[v,y]=(0,l.useState)(!1),[N,_]=(0,l.useState)("Table"),[b,k]=(0,l.useState)(null),[C,f]=(0,l.useState)(!0),[w,D]=(0,l.useState)(),[S,I]=(0,l.useState)("Details"),[P,F]=(0,l.useState)({channel:"Sales",area:"",persona:"Young families",propertyType:"",garden:!1,size:"",bedrooms_min:"",bedrooms_max:"",rental_price_min:"",rental_price_max:"",primaries:!1,primaries_score:null,secondaries:!1,secondaries_score:null,parks:!1,parks_score:null,playgrounds:!1,playgrounds_score:null,gyms:!1,gyms_score:null,restaurants:!1,restaurants_score:null,pubs:!1,pubs_score:null,tubes:!1,tubes_score:null,supermarkets:!1,supermarkets_score:null,ev:!1,ev_score:null,crime:!1,crime_score:null});(0,l.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("top-property-filters")),s=JSON.parse(localStorage.getItem("top-properties"));e&&(F(e),g(s))}),[]);const T=e=>{const s=document.createElement("a");s.href=e,s.target="_blank",s.rel="noreferrer",s.windowFeatures="width=1200,height=800,resizable=yes,scrollbars=yes,status=yes",document.body.appendChild(s),s.click(),document.body.removeChild(s)},B=e=>{console.log("postcode ->",e.property_data.postcode),window.localStorage.setItem("listing-postcode",JSON.stringify(e.property_data.postcode)),window.localStorage.setItem("listing-route",JSON.stringify("On")),a(),s("Property insights"),t("/agents/listing-generator")},E=()=>{y(!0)},A=e=>{y(!1)},[L,Z]=(0,l.useState)(0),V=50*L,R=V+50,[G,M]=(0,l.useState)({latitude:51.515419,longitude:-.141099,zoom:10.5}),z=e=>{f(!0),console.log(C),D(parseInt(e.target.id)),console.log(parseInt(e.target.id))},H=e=>{const{selected:s}=e;Z(s)},O=e=>e>.9?"Outstanding":e>.8?"Excellent":e>.7?"Very good":e>.6?"Good":e>.5?"Quite good":e>.4?"Average":e>.3?"Below average":e>.2?"Bad":e>.1?"Poor":"Terrible";return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("section",{className:"top-properties",children:[(0,h.jsx)("section",{className:"top-properties-filters",children:(0,h.jsx)("div",{className:"filter-block mobile",children:(0,h.jsx)("button",{onClick:E,children:"Edit search"})})}),d?d?(0,h.jsx)("div",{className:"property-table-loading",children:(0,h.jsx)(o.Z,{})}):"":(0,h.jsxs)("section",{className:"top-property-results",children:[(0,h.jsxs)("div",{className:"top-property-title",children:[(0,h.jsx)("h3",{children:j?`${j.length} matching properties`:""}),(0,h.jsxs)("div",{className:"view-selectors",children:[(0,h.jsx)("button",{className:"edit-search",onClick:E,children:"Edit search"}),(0,h.jsx)("div",{className:"icon-box "+("Table"===N?"active":"inactive"),onClick:()=>_("Table"),children:(0,h.jsx)("div",{className:"icon",id:"table"})}),(0,h.jsx)("div",{className:"icon-box "+("Map"===N?"active":"inactive"),onClick:()=>_("Map"),children:(0,h.jsx)("div",{className:"icon",id:"map"})}),(0,h.jsx)("div",{className:"icon-box "+("Grid"===N?"active":"inactive"),onClick:()=>_("Grid"),children:(0,h.jsx)("div",{className:"icon",id:"grid"})})]})]}),"Table"===N&&j?(0,h.jsxs)("div",{className:"property-table-view",children:[(0,h.jsxs)("div",{className:"top-property-table",children:[(0,h.jsxs)("div",{className:"table-headers",children:[(0,h.jsx)("div",{id:"column1",className:"column",children:(0,h.jsx)("h5",{children:"#"})}),(0,h.jsx)("div",{id:"column2",className:"column",children:(0,h.jsx)("h5",{children:"Address"})}),(0,h.jsx)("div",{id:"column3",className:"column",children:(0,h.jsx)("h5",{children:"Postcode"})}),(0,h.jsx)("div",{id:"column4",className:"column",children:(0,h.jsx)("h5",{children:"Area"})}),(0,h.jsx)("div",{id:"column5",className:"column",children:(0,h.jsx)("h5",{children:"Added"})}),(0,h.jsx)("div",{id:"column6",className:"column",children:(0,h.jsx)("h5",{children:"Price"})}),(0,h.jsx)("div",{id:"column7",className:"column",children:(0,h.jsx)("h5",{children:"Bedrooms"})}),(0,h.jsx)("div",{id:"column8",className:"column",children:(0,h.jsx)("h5",{children:"Agent"})}),(0,h.jsx)("div",{id:"column9",className:"column",children:(0,h.jsx)("h5",{children:"Score"})})]}),(0,h.jsx)("hr",{className:"property-divider"}),(0,h.jsx)("div",{className:"table-detail",children:j?j.map(((e,s)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"table-content",children:[(0,h.jsx)("div",{className:"column",id:"column1",onClick:()=>T(e.property_data.url),children:(0,h.jsx)("h5",{children:s+1})}),(0,h.jsx)("div",{className:"column",id:"column2",onClick:()=>T(e.property_data.url),children:(0,h.jsx)("h5",{children:e.property_data.displayAddress})}),(0,h.jsx)("div",{className:"column",id:"column3",onClick:()=>T(e.property_data.url),children:(0,h.jsx)("h5",{children:e.property_data.postcode})}),(0,h.jsx)("div",{className:"column",id:"column4",onClick:()=>T(e.property_data.url),children:(0,h.jsx)("h5",{children:e.persona_data_list[0].district})}),(0,h.jsx)("div",{className:"column",id:"column5",onClick:()=>T(e.property_data.url),children:(0,h.jsx)("h5",{children:null===e.property_data.added_revised?`Reduced ${e.property_data.reduced_revised}`:e.property_data.added_revised})}),(0,h.jsx)("div",{className:"column",id:"column6",onClick:()=>T(e.property_data.url),children:(0,h.jsx)("h5",{children:e.property_data.price})}),(0,h.jsx)("div",{className:"column",id:"column7",onClick:()=>T(e.property_data.url),children:(0,h.jsx)("h5",{children:e.property_data.bedrooms})}),(0,h.jsx)("div",{className:"column",id:"column8",onClick:()=>T(e.property_data.url),children:(0,h.jsx)("h5",{children:e.property_data.agent})}),(0,h.jsx)("div",{className:"column",id:"column9",onClick:()=>T(e.property_data.url),children:(0,h.jsx)("h5",{children:(e.overall_lifestyle_score/10).toFixed(2)})}),(0,h.jsx)("div",{id:"column10",className:"column",children:(0,h.jsx)("button",{onClick:()=>B(e),children:"Go"})})]}),(0,h.jsx)("hr",{className:"property-divider"})]}))).slice(V,R):""})]}),j?(0,h.jsx)(u(),{pageCount:Math.ceil(j.length/50),onPageChange:H,containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):"Map"===N&&j?(0,h.jsxs)("div",{className:"property-map-view",children:[(0,h.jsxs)("div",{className:"map-block",children:[(0,h.jsx)("div",{className:"grid-list",children:j?j.map(((e,s)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"property-content",children:[(0,h.jsx)("div",{className:"grid-left",children:(0,h.jsx)("div",{className:"property-image",onClick:()=>T(e.property_data.url),style:{backgroundImage:`url(${e.property_data.images})`}})}),(0,h.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:z,children:[(0,h.jsxs)("h5",{className:"title",onClick:()=>T(e.property_data.url),children:[s+1,". ",e.property_data.displayAddress]}),(0,h.jsxs)("h5",{className:"sub-title",children:["Bedrooms: ",e.property_data.bedrooms]}),(0,h.jsxs)("h5",{className:"sub-title",children:["Price: ",e.property_data.price]}),(0,h.jsxs)("h5",{className:"sub-title",children:["Score: ",(e.overall_lifestyle_score/10).toFixed(2)]})]})]}),(0,h.jsx)("hr",{className:"dividing-line"})]}))).slice(V,R):""}),(0,h.jsx)("div",{className:"map-section",children:(0,h.jsxs)(x.ZP,{...G,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{M(e)},center:G,onMove:e=>M(e.viewport),className:"profile-map",children:[j&&j.map(((e,s)=>(0,h.jsx)(x.Jx,{id:e.id,longitude:e.property_data.longitude,latitude:e.property_data.latitude,onClick:()=>{return s=e,console.log("selectd property ->",s),void k(s);var s},children:(0,h.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(V,R),b?(0,h.jsx)(x.GI,{longitude:b.property_data.longitude,latitude:b.property_data.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>k(null),children:(0,h.jsx)("div",{className:"popup-content",children:(0,h.jsx)("div",{className:"popup-border",children:(0,h.jsx)("h5",{className:"title",children:b.property_data.displayAddress})})})}):""]})})]}),j?(0,h.jsx)(u(),{pageCount:Math.ceil(j.length/50),onPageChange:H,containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):"Grid"===N&&j?(0,h.jsxs)("div",{className:"property-grid-view",children:[(0,h.jsx)("div",{className:"property-grid-items",children:j?j.map(((e,s)=>(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{className:"property-item",children:[(0,h.jsxs)("div",{className:"property-item-left",children:[(0,h.jsx)("div",{className:"property-item-image",onClick:()=>T(e.property_data.url),style:{backgroundImage:`url(${e.property_data.images})`}}),(0,h.jsxs)("div",{className:"property-core-info",children:["Sales"===P.channel?(0,h.jsxs)("h3",{children:[(0,h.jsx)(c.h3,{value:e.property_data.price,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})," "]}):(0,h.jsxs)("h3",{children:[(0,h.jsx)(c.h3,{value:e.property_data.price,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})," pcm"]}),e.overall_lifestyle_score?(0,h.jsxs)("h3",{className:"match-score",children:["\ud83d\udd25 ",(10*e.overall_lifestyle_score).toFixed(0),"% match"]}):""]})]}),(0,h.jsxs)("div",{className:"property-item-right",children:[(0,h.jsxs)("div",{className:"detail-selections",children:[(0,h.jsxs)("div",{className:"key-selectors",children:[(0,h.jsx)("h3",{className:"detail-selector",style:{fontWeight:"Details"===S?"700":"500"},onClick:()=>I("Details"),children:"Details"}),(0,h.jsx)("h3",{className:"detail-selector",style:{fontWeight:"Insights"===S?"700":"500"},onClick:()=>I("Insights"),children:"Insights"}),(0,h.jsx)("h3",{className:"detail-selector",style:{fontWeight:"Floorplan"===S?"700":"500"},onClick:()=>I("Floorplan"),children:"Floorplan"}),(0,h.jsx)("button",{onClick:()=>B(e),children:"Explore"})]}),(0,h.jsx)("div",{className:"action"})]}),"Details"===S?(0,h.jsxs)("div",{className:"property-body",children:[(0,h.jsxs)("h2",{className:"property-title",children:[e.property_data.displayAddress,", ",e.persona_data_list[0].district]}),(0,h.jsx)("h3",{className:"added-details",children:e.property_data.added_revised?`Added on ${e.property_data.added_revised}`:`Reduced on ${e.property_data.reduced_revised}`}),(0,h.jsxs)("div",{className:"key-elements",children:[(0,h.jsxs)("div",{className:"property-element-item",children:[(0,h.jsx)("div",{className:"element-icon",id:"bed"}),(0,h.jsxs)("h3",{children:[e.property_data.bedrooms," bedrooms"]})]}),(0,h.jsxs)("div",{className:"property-element-item",children:[(0,h.jsx)("div",{className:"element-icon",id:"bath"}),(0,h.jsxs)("h3",{children:[e.property_data.bathrooms," bathrooms"]})]}),(0,h.jsxs)("div",{className:"property-element-item",children:[(0,h.jsx)("div",{className:"element-icon",id:"size"}),(0,h.jsxs)("h3",{children:[e.property_data.size," sq. ft"]})]}),(0,h.jsxs)("div",{className:"property-element-item",children:[(0,h.jsx)("div",{className:"element-icon",id:"type"}),(0,h.jsx)("h3",{children:e.property_data.propertyType})]})]}),(0,h.jsxs)("div",{className:"property-features",children:[(0,h.jsx)("h3",{className:"features-title",children:"Features"}),(0,h.jsx)("div",{className:"feature-list",children:e.property_data.features.split(", ").map(((e,s)=>(0,h.jsx)("li",{className:"feature-item",children:e},s)))})]})]}):"Insights"===S?(0,h.jsx)("div",{className:"property-body",children:(0,h.jsxs)("div",{className:"insights-body",children:[(0,h.jsxs)("div",{className:"insight-row",children:[(0,h.jsx)("div",{className:"insight-icon",id:"primaries"}),(0,h.jsxs)("h3",{className:"insight",children:[O(e.persona_data_list[0].primary_percentile)," for primary schools"]})]}),(0,h.jsxs)("div",{className:"insight-row",children:[(0,h.jsx)("div",{className:"insight-icon",id:"secondaries"}),(0,h.jsxs)("h3",{className:"insight",children:[O(e.persona_data_list[0].secondary_percentile)," for secondary schools"]})]}),(0,h.jsxs)("div",{className:"insight-row",children:[(0,h.jsx)("div",{className:"insight-icon",id:"parks"}),(0,h.jsxs)("h3",{className:"insight",children:[O(e.persona_data_list[0].park_area_percentile)," for access to parks"]})]}),(0,h.jsxs)("div",{className:"insight-row",children:[(0,h.jsx)("div",{className:"insight-icon",id:"gyms"}),(0,h.jsxs)("h3",{className:"insight",children:[O(e.persona_data_list[0].gym_percentile)," for access to gyms"]})]}),(0,h.jsxs)("div",{className:"insight-row",children:[(0,h.jsx)("div",{className:"insight-icon",id:"pubs"}),(0,h.jsxs)("h3",{className:"insight",children:[O(e.persona_data_list[0].pub_percentile)," for access to pubs"]})]}),(0,h.jsxs)("div",{className:"insight-row",children:[(0,h.jsx)("div",{className:"insight-icon",id:"restaurants"}),(0,h.jsxs)("h3",{className:"insight",children:[O(e.persona_data_list[0].restaurant_percentile)," for restaurants"]})]}),(0,h.jsxs)("div",{className:"insight-row",children:[(0,h.jsx)("div",{className:"insight-icon",id:"crime"}),(0,h.jsxs)("h3",{className:"insight",children:[O(e.persona_data_list[0].crime_percentile)," for crime rates"]})]}),(0,h.jsxs)("div",{className:"insight-row",children:[(0,h.jsx)("div",{className:"insight-icon",id:"tubes"}),(0,h.jsxs)("h3",{className:"insight",children:[O(e.persona_data_list[0].tube_percentile)," for tube access"]})]}),(0,h.jsxs)("div",{className:"insight-row",children:[(0,h.jsx)("div",{className:"insight-icon",id:"evs"}),(0,h.jsxs)("h3",{className:"insight",children:[O(e.persona_data_list[0].ev_percentile)," for EV access"]})]})]})}):"Floorplan"===S?(0,h.jsx)("div",{className:"property-body",children:(0,h.jsx)("div",{className:"floorplan-body",onClick:()=>T(e.property_data.floorplan_url),style:{backgroundImage:`url(${e.property_data.floorplan_url})`}})}):""]})]})}))).slice(V,R):""}),j?(0,h.jsx)(u(),{pageCount:Math.ceil(j.length/50),onPageChange:H,containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):j?"":(0,h.jsxs)("div",{className:"no-properties",children:[(0,h.jsx)("h1",{children:"\ud83d\udd0e Start a search to see some properties"}),(0,h.jsx)("button",{className:"edit-search",onClick:E,children:"Start search"})]})]})]}),(0,h.jsx)(p,{propertyInputShow:v,handlePropertyInputClose:A,propertyFilters:P,setPropertyFilters:F,boroughs:["Barking and Dagenham","Barnet","Bexley","Brent","Camden","Croydon","Ealing","Enfield","Greenwich","Havering","Kensington and Chelsea","Hertfordshire","Hillingdon","Hounslow","Islington","Lambeth","Lewisham","Merton","Southwark","Sutton","Waltham Forest","Westminster","Hackney","City of London","Hammersmith and Fulham","Wandsworth","Tower Hamlets","Bromley","Haringey","Kingston upon Thames","Newham","Redbridge","Richmond upon Thames"],salesPrices:["200000","300000","400000","500000","600000","700000","800000","900000","1000000","1250000","1500000","1750000","2000000","2250000","2500000","2750000","3000000","3500000","4000000","5000000","7500000","10000000","12500000","15000000","20000000","30000000","40000000","50000000"],rentalPrices:["500","600","700","800","900","1000","1100","1200","1300","1400","1500","1600","1700","1800","1900","2000","2250","2500","2750","3000","3250","3500","4000","4500","5000","5500","6000","7000","8000","9000","10000","12500","15000","20000","25000","30000","40000","50000","60000"],propertyTypeList:["Flat","Apartment","Terraced","Semi-Detached","Detached","House","End of Terrace","Maisonette","Studio","Retirement Property","Ground Flat","Penthouse","Bungalow","Town House","Detached Bungalow","Duplex"],loadProperties:async()=>{m(!0),A();const e=new URLSearchParams;Object.entries(P).forEach((s=>{let[a,l]=s;null!==l&&void 0!==l&&"channel"!==a&&e.append(a,l)}));try{let s="";"Rental"===P.channel?s=`/api/personas/rental/?${e.toString()}`:"Sales"===P.channel&&(s=`/api/personas/sales/?${e.toString()}`);const{data:a}=await r.Z.get(s,{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});a.sort(((e,s)=>s.overall_lifestyle_score-e.overall_lifestyle_score)),console.log("combined data ->",a),g(a),window.localStorage.setItem("top-properties",JSON.stringify(a)),window.localStorage.setItem("top-property-filters",JSON.stringify(P)),m(!1)}catch(s){console.error("can't access combined data ->",s)}},toggleStatus:e=>{F((s=>({...s,[e]:!0!==s[e]})))}})]})}}}]);
//# sourceMappingURL=573.bddfb928.chunk.js.2e58f3c5f581.map