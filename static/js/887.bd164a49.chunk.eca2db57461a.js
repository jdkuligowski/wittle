"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[887,968],{6887:function(e,t,a){a.r(t);var s=a(2791),i=a(5294),n=a(7689),l=(a(9696),a(7165)),c=a(948),r=(a(8465),a(5423)),o=a(9394),h=a(4487),d=a(3300),p=a(6409),u=a(7122),m=a(1213),g=a(9577),y=a(2094),x=a(764),b=a(264),f=a(2767),j=a(2514),w=a(6968),_=a(3964),M=a(8084),v=a(9832),k=a(2213),S=a(8040),N=a(184);t.default=()=>{const{postcode:e}=(0,n.UO)(),t=(0,n.s0)(),a=(0,n.TH)(),[F,P]=(0,s.useState)([]),[D,T]=(0,s.useState)("My properties"),[Z,E]=(0,s.useState)("My properties"),[C,q]=(0,s.useState)(!1),[R,V]=(0,s.useState)(),[L,H]=(0,s.useState)(),[U,$]=(0,s.useState)(),[O,z]=(0,s.useState)(),[A,B]=(0,s.useState)(),[G,Y]=(0,s.useState)("Property overview"),[I,W]=(0,s.useState)(!0),[J,K]=(0,s.useState)(!1),[Q,X]=(0,s.useState)(!1),[ee,te]=(0,s.useState)(!1),[ae,se]=(0,s.useState)(!1),[ie,ne]=(0,s.useState)(),[le,ce]=(0,s.useState)(),[re,oe]=(0,s.useState)(),[he,de]=(0,s.useState)(),[pe,ue]=(0,s.useState)(),[me,ge]=(0,s.useState)(),[ye,xe]=(0,s.useState)(),[be,fe]=(0,s.useState)(),[je,we]=(0,s.useState)(),[_e,Me]=(0,s.useState)(),[ve,ke]=(0,s.useState)(),[Se,Ne]=(0,s.useState)(),[Fe,Pe]=(0,s.useState)(),[De,Te]=(0,s.useState)(),[Ze,Ee]=(0,s.useState)(),[Ce,qe]=(0,s.useState)(),[Re,Ve]=(0,s.useState)(),[Le,He]=(0,s.useState)([]),[Ue,$e]=(0,s.useState)([]),[Oe,ze]=(0,s.useState)([]),[Ae,Be]=(0,s.useState)([]),[Ge,Ye]=(0,s.useState)(),[Ie,We]=(0,s.useState)(),[Je,Ke]=(0,s.useState)(),[Qe,Xe]=(0,s.useState)(),[et,tt]=(0,s.useState)(),[at,st]=(0,s.useState)(),[it,nt]=(0,s.useState)(),[lt,ct]=(0,s.useState)("Primary schools"),[rt,ot]=(0,s.useState)();(0,s.useEffect)((()=>{(()=>{try{const e=JSON.parse(localStorage.getItem("listing-postcode"));(async()=>{const{data:t}=await i.Z.post("/api/postcodes/",{postcode:e});console.log("postcode data ->",t),V(t)})()}catch(e){B(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{R&&(()=>{if((0,l.Hb)())try{(async()=>{const{data:e}=await i.Z.get(`/api/auth/profile/${(0,l.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,l.hP)()}`}});console.log("user data ->",e),H(e),z(e.company)})()}catch(e){B(!0),console.log(e)}else t("/access-denied"),console.log("no account")})()}),[R]);(0,s.useEffect)((()=>{L&&(()=>{try{(async()=>{const{data:t}=await i.Z.get(`/api/white_properties/${O}`,{headers:{Authorization:`Bearer ${(0,l.hP)()}`}}),a=t.find((t=>t.postcode===e));$(a),console.log("current-property ->",a)})()}catch(t){B(!0),console.log(t)}})()}),[L]);(0,s.useEffect)((()=>{R&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/primaries/");ne(e)})()}catch(e){B(!0),console.log(e)}})()}),[R]);const ht=20/60*5,dt=6371,pt=e=>e*Math.PI/180,ut=5/60;(0,s.useEffect)((()=>{ie&&(()=>{const e=ie.filter((e=>{const t=pt(parseFloat(e.latitude)-parseFloat(R[0].longitude)),a=pt(parseFloat(e.longitude)-parseFloat(R[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(pt(parseFloat(R[0].longitude)))*Math.cos(pt(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;e.distance_between=n,e.walkTimeMin=Math.round(n/ut);const l=n/e.max_distance;return"Independent school"===e.school_type||"Special school"===e.school_type||"On request"===e.max_distance?e.within_catchment="N/a":"Based on map"===e.additional_status?e.within_catchment="Check catchment map":"Religion"===e.max_distance&e.distance_between<.6?e.within_catchment="Very likely if religious critera met":"Religion"===e.max_distance&e.distance_between<.8?e.within_catchment="Likely if religious critera met":"Religion"===e.max_distance&e.distance_between<1?e.within_catchment="Probably if religious critera met":"Religion"===e.max_distance&e.distance_between<1.5?e.within_catchment="Unlikely, even if religious critera met":"Religion"===e.max_distance&e.distance_between>1.5?e.within_catchment="Very unlikely, even if religious critera met":"Not specified"===e.max_distance&e.distance_between<.4?e.within_catchment="Very likely but no distance specified":"Not specified"===e.max_distance&e.distance_between<.7?e.within_catchment="Likely but no distance specified":"Not specified"===e.max_distance&e.distance_between<1?e.within_catchment="Probably but no distance specified":"Not specified"===e.max_distance&e.distance_between>1?e.within_catchment="Unlikely, but no distance specified":null===e.max_distance&e.distance_between<.6?e.within_catchment="Very likely, but no distance data available":null===e.max_distance&e.distance_between<.8?e.within_catchment="Likely, but no distance data available":null===e.max_distance&e.distance_between<1?e.within_catchment="Probably, but no distance data available":null===e.max_distance&e.distance_between<1.5?e.within_catchment="Unlikely, but no distance data available":null===e.max_distance&e.distance_between>1.5?e.within_catchment="Very unlikely, but no distance data available":l<=.6?e.within_catchment="Yes":l<=.8?e.within_catchment="Very likely":l<=1?e.within_catchment="Probably":l<=1.2?e.within_catchment="Probably not":"Does not apply"===e.max_distance?e.within_catchment="Yes":e.within_catchment="No",n<=ht})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,8);ue(t),ce(e),console.log("nearby primaries ->",e)})()}),[ie]);(0,s.useEffect)((()=>{R&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/secondaries/");oe(e)})()}catch(e){B(!0),console.log(e)}})()}),[R]);(0,s.useEffect)((()=>{re&&(()=>{const e=re.filter((e=>{const t=pt(parseFloat(e.latitude)-parseFloat(R[0].longitude)),a=pt(parseFloat(e.longitude)-parseFloat(R[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(pt(parseFloat(R[0].longitude)))*Math.cos(pt(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;e.distance_between=n,e.walkTimeMin=Math.round(n/ut);const l=n/e.max_distance,c=n/e.min_distance;return e.school_type.includes("independent")||e.school_type.includes("special")?e.within_catchment="N/a":"Exam"===e.max_distance||"Test score"===e.max_distance?e.within_catchment="Dependent on test results":"Random"===e.max_distance?e.within_catchment="Random selection based on performance":"Catchment score"===e.max_distance?e.within_catchment="School uses catchment score - check":"Based on map"===e.max_distance?e.within_catchment="Check catchment map":"Religion"===e.max_distance&e.distance_between<.7?e.within_catchment="Very likely if religious critera met":"Religion"===e.max_distance&e.distance_between<.9?e.within_catchment="Likely if religious critera met":"Religion"===e.max_distance&e.distance_between<1.5?e.within_catchment="Probably if religious critera met":"Religion"===e.max_distance&e.distance_between>1.5?e.within_catchment="Unlikely, even if religious critera met":"Does not apply"===e.max_distance||null!==e.min_distance&c<=1?e.within_catchment="Yes":null!==e.min_distance&l<=.5?e.within_catchment="Very likely":null!==e.min_distance&l<=.7?e.within_catchment="Probably":e.within_catchment=l<=.6?"Yes":l<=.8?"Very likely":l<=1?"Probably":l<=1.2?"Probably not":"No",n<=2.5})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,8);ge(t),de(e),console.log("nearby secondaries ->",e)})()}),[re]);(0,s.useEffect)((()=>{R&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/restaurants/");xe(e)})()}catch(e){B(!0),console.log(e)}})()}),[R]);const mt=1.25;(0,s.useEffect)((()=>{ye&&(()=>{const e=ye.filter((e=>{const t=pt(parseFloat(e.latitude)-parseFloat(R[0].longitude)),a=pt(parseFloat(e.longitude)-parseFloat(R[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(pt(parseFloat(R[0].longitude)))*Math.cos(pt(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/ut),n<=mt})).sort(((e,t)=>t.rating-e.rating)),t=e.filter((e=>"No Cuisine Data"!==e.cuisine)).slice(0,3).map((e=>e.restaurant_name));Ve((e=>new Set(e.map((e=>e.cuisine))).size)(e)),Ne(e),He(t),console.log("Nearby restaurants ->",e)})()}),[ye]);(0,s.useEffect)((()=>{R&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/gyms/");console.log("gyms data ->",e),fe(e)})()}catch(e){B(!0),console.log(e)}})()}),[R]);(0,s.useEffect)((()=>{be&&(()=>{const e=["third space","pure gym","1 rebel","virgin","barry's","the gym group"],t=new Set,a=be.filter((e=>{const t=pt(parseFloat(e.Lat)-parseFloat(R[0].longitude)),a=pt(parseFloat(e.long)-parseFloat(R[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(pt(parseFloat(R[0].longitude)))*Math.cos(pt(parseFloat(e.Lat)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/ut),n<=mt})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),s=[];for(let i=0;i<a.length;i++){const n=a[i];if(n.gym_group&&e.includes(n.gym_group.toLowerCase())&&!t.has(n.gym_group)&&(s.push(n.gym_group),t.add(n.gym_group),3===s.length))break}Pe(a),ze(s)})()}),[be]);(0,s.useEffect)((()=>{R&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/supermarkets/");Me(e)})()}catch(e){B(!0),console.log(e)}})()}),[R]);(0,s.useEffect)((()=>{_e&&(()=>{const e=["m&s","waitrose","aldi","lidl","sainsburys","tesco","asda"],t=new Set,a=_e.map((e=>{const t=pt(parseFloat(e.latitude)-parseFloat(R[0].longitude)),a=pt(parseFloat(e.longitude)-parseFloat(R[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(pt(parseFloat(R[0].longitude)))*Math.cos(pt(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/ut),{...e,distance:n}})).filter((e=>e.distance<=mt)),s=[];for(let i=0;i<a.length;i++){const n=a[i];if(e.includes(n.supermarket_brand.toLowerCase())&&!t.has(n.supermarket_brand)&&(s.push(n.supermarket_brand),t.add(n.supermarket_brand),3===s.length))break}Ee(a),Be(s),console.log("Nearby supermarkets ->",a)})()}),[_e]);(0,s.useEffect)((()=>{R&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/tubes/");Ye(e)})()}catch(e){B(!0),console.log(e)}})()}),[R]);(0,s.useEffect)((()=>{Ge&&(()=>{const e=Ge.filter((e=>{const t=pt(parseFloat(e.lat)-parseFloat(R[0].longitude)),a=pt(parseFloat(e.long)-parseFloat(R[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(pt(parseFloat(R[0].longitude)))*Math.cos(pt(parseFloat(e.lat)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/ut),n<=ht})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));Ke(e);const t=e.reduce(((e,t)=>(e[t.line]=(e[t.line]||0)+1,e)),{}),a=Object.keys(t).length;tt(a)})()}),[Ge]);(0,s.useEffect)((()=>{R&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/evs/");console.log("ev data ->",e),ke(e)})()}catch(e){B(!0),console.log(e)}})()}),[R]);(0,s.useEffect)((()=>{ve&&(()=>{const e=ve.filter((e=>{const t=pt(parseFloat(e.latitude)-parseFloat(R[0].longitude)),a=pt(parseFloat(e.longitude)-parseFloat(R[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(pt(parseFloat(R[0].longitude)))*Math.cos(pt(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/ut),n<=.8333333333333333})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));qe(e)})()}),[ve]);(0,s.useEffect)((()=>{R&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/pubs/");console.log("pub data ->",e),we(e)})()}catch(e){B(!0),console.log(e)}})()}),[R]);(0,s.useEffect)((()=>{je&&(()=>{const e=je.filter((e=>{const t=pt(parseFloat(e.latitude)-parseFloat(R[0].longitude)),a=pt(parseFloat(e.longitude)-parseFloat(R[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(pt(parseFloat(R[0].longitude)))*Math.cos(pt(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/ut),n<=mt})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,3).map((e=>e.name));Te(e),$e(t),console.log("Nearby pubs ->",e)})()}),[je]);(0,s.useEffect)((()=>{R&&(()=>{const e=Math.ceil((1-R[0].crime[0].percentile+R[0].ev.percentile+R[0].fitness.percentile+(1-R[0].parks_lsoa[0].london_percentile/100)+R[0].restaurants.normal_percentile+R[0].supermarkets.percentile+R[0].tubes.percentile)/7*100);nt(e)})()}));(0,s.useEffect)((()=>{R&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/trains/");console.log("trains data ->",e),We(e)})()}catch(e){B(!0),console.log(e)}})()}),[R]);(0,s.useEffect)((()=>{Ie&&(()=>{const e=Ie.filter((e=>{const t=pt(parseFloat(e.latitude)-parseFloat(R[0].longitude)),a=pt(parseFloat(e.longitude)-parseFloat(R[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(pt(parseFloat(R[0].longitude)))*Math.cos(pt(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/ut),n<=ht})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));Xe(e),console.log("Nearby trains ->",e)})()}),[Ie]),(0,s.useEffect)((()=>{P((e=>[...e,a.pathname]))}),[a]);return(0,s.useEffect)((()=>{console.log(`profileContent updated to: ${D}`)}),[D]),(0,N.jsx)(N.Fragment,{children:(0,N.jsxs)("section",{className:"agent-specific-property print-container",children:[(0,N.jsx)("div",{className:"desktop-nav",children:(0,N.jsx)(x.Z,{navbarColour:"#FDF7F0"})}),(0,N.jsx)("div",{className:"mobile-nav",children:(0,N.jsx)(M.Z,{setProfileContent:T,profileContent:D,profileDetail:Z,setProfileDetail:E})}),(0,N.jsx)(y.Z,{setProfileDetail:E,variableSide:C,setProfileContent:T,setVariableSide:q,userData:L}),(0,N.jsx)("div",{className:"go-back-button no-print remove-margin",children:(0,N.jsx)("h5",{onClick:()=>t("/agents/profile"),children:"<- back to profile"})}),(0,N.jsxs)("div",{className:"property-options no-print",children:[(0,N.jsxs)("div",{className:"left-section",children:[(0,N.jsx)("h5",{className:"no-print",onClick:()=>Y("Property overview"),style:{textDecoration:"Property overview"===G?"underline 2px #FFA7E5":"none",textUnderlineOffset:"Property overview"===G?"0.5em":"initial",fontWeight:"Property overview"===G?"700":"400"},children:"Property overview"}),(0,N.jsx)("h5",{className:"no-print",onClick:()=>Y("Property details"),style:{textDecoration:"Property details"===G?"underline 2px #FFA7E5":"none",textUnderlineOffset:"Property details"===G?"0.5em":"initial",fontWeight:"Property details"===G?"700":"400"},children:"Property details"})]}),(0,N.jsx)("h1",{className:"print-button no-print",onClick:()=>window.print(),children:"\ud83d\udda8"})]}),"Property overview"===G?(0,N.jsxs)("section",{className:"property-wrapper",children:[U?(0,N.jsxs)("section",{className:"property-details remove-margin",children:[(0,N.jsx)("img",{className:"property-image",src:U.image,alt:"property-image"}),(0,N.jsx)("div",{className:"property-content",children:(0,N.jsxs)("div",{className:"content-blocks",children:[(0,N.jsxs)("div",{className:"content-summary",children:[(0,N.jsxs)("div",{className:"content-top-line",children:[(0,N.jsx)("h1",{children:U.name}),(0,N.jsx)("h1",{children:(0,N.jsx)(c.h3,{value:U.price,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})})]}),(0,N.jsx)("h3",{children:U.address})]}),(0,N.jsxs)("div",{className:"content-details",children:[(0,N.jsxs)("div",{className:"content-details-top",children:[(0,N.jsxs)("h4",{children:["\ud83c\udfe0 ",U.type]}),(0,N.jsxs)("h4",{children:["\ud83d\udce6 ",U.size]})]}),(0,N.jsxs)("div",{className:"content-details-bottom",children:[(0,N.jsxs)("h4",{children:["\ud83d\udecc x ",U.bedrooms]}),(0,N.jsxs)("h4",{children:["\ud83d\udec1 x ",U.bathrooms]}),(0,N.jsxs)("h4",{children:["\ud83d\udecb x ",U.living_rooms]})]})]})]})})]}):"",(0,N.jsxs)("section",{className:"property-summary-sections remove-margin",children:[(0,N.jsxs)("div",{className:"property-highlight",onClick:()=>W(!I),children:[(0,N.jsx)("h3",{children:"Property Summary"}),(0,N.jsx)("div",{className:"click-downs",children:I?(0,N.jsx)("h4",{children:"^"}):(0,N.jsx)("h4",{children:"v"})})]}),R&&I?(0,N.jsx)(p.Z,{neighbourhoodScore:it,postcodeData:R}):"",(0,N.jsx)("hr",{className:"highlight-separator"}),(0,N.jsxs)("div",{className:"property-highlight",onClick:()=>K(!J),children:[(0,N.jsx)("h3",{children:"School Highlights"}),(0,N.jsx)("div",{className:"click-downs",children:J?(0,N.jsx)("h4",{children:"^"}):(0,N.jsx)("h4",{children:"v"})})]}),J?(0,N.jsx)(o.Z,{topPrimaries:pe,topSecondaries:me}):"",(0,N.jsx)("hr",{className:"highlight-separator"}),(0,N.jsxs)("div",{className:"property-highlight",onClick:()=>X(!Q),children:[(0,N.jsx)("h3",{children:"Lifestyle Highlights"}),(0,N.jsx)("div",{className:"click-downs",children:Q?(0,N.jsx)("h4",{children:"^"}):(0,N.jsx)("h4",{children:"v"})})]}),Q?(0,N.jsx)(r.Z,{restaurants1:Se,cuisines:Re,topRestaurants:Le,gyms1:Fe,mainGyms:Oe,supermarkets1:Ze,mainSupermarkets:Ae,pubs1:De,topPubs:Ue}):"",(0,N.jsx)("hr",{className:"highlight-separator"}),(0,N.jsxs)("div",{className:"property-highlight",onClick:()=>te(!ee),children:[(0,N.jsx)("h3",{children:"Transport Highlights"}),(0,N.jsx)("div",{className:"click-downs",children:ee?(0,N.jsx)("h4",{children:"^"}):(0,N.jsx)("h4",{children:"v"})})]}),ee?(0,N.jsx)(h.Z,{postcodeData:R,tubes1:Je,trains1:Qe,uniqueTubeLines:et,uniqueTubeStations:at}):"",(0,N.jsx)("hr",{className:"highlight-separator"}),(0,N.jsxs)("div",{className:"property-highlight",onClick:()=>se(!ae),children:[(0,N.jsx)("h3",{children:"Neighbourhood Highlights"}),(0,N.jsx)("div",{className:"click-downs",children:ae?(0,N.jsx)("h4",{children:"^"}):(0,N.jsx)("h4",{children:"v"})})]}),ae?(0,N.jsx)(d.Z,{postcodeData:R}):""]})]}):"Property details"===G?(0,N.jsxs)("section",{className:"property-wrapper",children:[(0,N.jsx)(u.Z,{sliderSelection:lt,setSliderSelection:ct}),"Primary schools"===lt?(0,N.jsx)(m.Z,{primaryData1:le,setPrimaryData1:ce,propertyData:U,listType:"short list",postcodeData:R}):"Secondary schools"===lt?(0,N.jsx)(g.Z,{secondaryData1:he,setSecondaryData1:de,propertyData:U,listType:"short list",postcodeData:R}):"Restaurants"===lt?(0,N.jsx)(b.Z,{restaurants1:Se,setRestaurants1:Ne,propertyData:U,listType:"short list",postcodeData:R}):"Fitness"===lt?(0,N.jsx)(f.Z,{gyms1:Fe,setGyms1:Pe,propertyData:U,listType:"short list",postcodeData:R}):"Supermarkets"===lt?(0,N.jsx)(j.Z,{supermarkets1:Ze,setSupermarkets1:Ee,propertyData:U,listType:"short list",postcodeData:R}):"EVs"===lt?(0,N.jsx)(v.Z,{ev1:Ce,setEv1:qe,propertyData:U,listType:"short list",postcodeData:R}):"Pubs"===lt?(0,N.jsx)(k.Z,{pubs1:De,setPubs1:Te,propertyData:U,listType:"short list",postcodeData:R}):"Tubes"===lt?(0,N.jsx)(S.Z,{tubes1:Je,setTubes1:Ke,propertyData:U,listType:"short list",postcodeData:R}):""]}):"Variables"===G?(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(w.default,{profileDetail:Z,setProfileDetail:E,profileContent:D})}):"Comparison"===D?(0,N.jsx)(N.Fragment,{children:(0,N.jsx)(_.default,{userData:L,propertyList:rt})}):""]})})}},6968:function(e,t,a){a.r(t);var s=a(2791),i=a(5294),n=a(7689),l=a(7165),c=a(1213),r=a(9577),o=a(264),h=a(2767),d=a(2514),p=a(764),u=a(2094),m=a(8084),g=a(9832),y=a(2213),x=a(184);t.default=()=>{const e=(0,n.s0)(),[t,a]=(0,s.useState)(),[b,f]=(0,s.useState)(),[j,w]=(0,s.useState)(),[_,M]=(0,s.useState)(),[v,k]=(0,s.useState)(),[S,N]=(0,s.useState)(),[F,P]=(0,s.useState)(),[D,T]=(0,s.useState)(),[Z,E]=(0,s.useState)(),[C,q]=(0,s.useState)(),[R,V]=(0,s.useState)(),[L,H]=(0,s.useState)(),[U,$]=(0,s.useState)(),[O,z]=(0,s.useState)(),[A,B]=(0,s.useState)("Variables"),[G,Y]=(0,s.useState)("Variables"),[I,W]=(0,s.useState)(!0);(0,s.useEffect)((()=>{(()=>{if((0,l.Hb)())try{(async()=>{const{data:e}=await i.Z.get(`/api/auth/profile/${(0,l.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,l.hP)()}`}});console.log("user data ->",e),f(e),M(e.company)})()}catch(t){a(!0),console.log(t)}else e("/access-denied"),console.log("no account")})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/primaries/"),t=e.sort(((e,t)=>t.pupils_at_standard-e.pupils_at_standard));k(t),console.log("all primaries ->",t)})()}catch(e){a(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/secondaries/"),t=e.sort(((e,t)=>t.total_pass_rate-e.total_pass_rate));P(t),console.log("all secondaries ->",t)})()}catch(e){a(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/restaurants/"),t=e.sort(((e,t)=>t.rating-e.rating));E(t),console.log("all restaurants ->",t)})()}catch(e){a(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/gyms/");q(e)})()}catch(e){a(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/supermarkets/");console.log("supermarkets data ->",e),H(e)})()}catch(e){a(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/evs/");console.log("ev data ->",e),z(e)})()}catch(e){a(!0),console.log(e)}})()}),[]);return(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/pubs/");console.log("pubs data ->",e),V(e)})()}catch(e){a(!0),console.log(e)}})()}),[]),(0,x.jsx)(x.Fragment,{children:(0,x.jsxs)("section",{className:"agent-profile-page",children:[(0,x.jsx)("div",{className:"desktop-nav",children:(0,x.jsx)(p.Z,{navbarColour:"#FDF7F0"})}),(0,x.jsx)("div",{className:"mobile-nav",children:(0,x.jsx)(m.Z,{setProfileContent:B,profileContent:A,profileDetail:G,setProfileDetail:Y})}),(0,x.jsx)(u.Z,{setProfileDetail:Y,variableSide:I,setProfileContent:B,setVariableSide:W,userData:b}),"Variables"===G?(0,x.jsxs)("section",{className:"variables-section",children:[(0,x.jsx)("h1",{children:"Explore the different variables"}),(0,x.jsxs)("div",{className:"variables-list",children:[(0,x.jsxs)("div",{className:"variable",onClick:()=>Y("Primary schools"),children:[(0,x.jsx)("h1",{children:"\ud83c\udfeb"}),(0,x.jsx)("h3",{children:"Primary schools"})]}),(0,x.jsxs)("div",{className:"variable",onClick:()=>Y("Secondary schools"),children:[(0,x.jsx)("h1",{children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,x.jsx)("h3",{children:"Secondary schools"})]}),(0,x.jsxs)("div",{className:"variable",children:[(0,x.jsx)("h1",{children:"\ud83c\udf93"}),(0,x.jsx)("h3",{children:"6th form colleges"})]}),(0,x.jsxs)("div",{className:"variable",children:[(0,x.jsx)("h1",{children:"\ud83c\udf33"}),(0,x.jsx)("h3",{children:"Green space"})]}),(0,x.jsxs)("div",{className:"variable",onClick:()=>Y("Restaurants"),children:[(0,x.jsx)("h1",{children:"\ud83c\udf7d"}),(0,x.jsx)("h3",{children:"Restaurants"})]}),(0,x.jsxs)("div",{className:"variable",children:[(0,x.jsx)("h1",{children:"\ud83d\ude87"}),(0,x.jsx)("h3",{children:"Tube stations"})]}),(0,x.jsxs)("div",{className:"variable",onClick:()=>Y("EVs"),children:[(0,x.jsx)("h1",{children:"\u26fd\ufe0f"}),(0,x.jsx)("h3",{children:"Electric vehicles"})]}),(0,x.jsxs)("div",{className:"variable",onClick:()=>Y("Pubs"),children:[(0,x.jsx)("h1",{children:"\ud83c\udf7b"}),(0,x.jsx)("h3",{children:"Pubs"})]}),(0,x.jsxs)("div",{className:"variable",onClick:()=>Y("Fitness"),children:[(0,x.jsx)("h1",{children:"\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f"}),(0,x.jsx)("h3",{children:"Fitness"})]}),(0,x.jsxs)("div",{className:"variable",onClick:()=>Y("Supermarkets"),children:[(0,x.jsx)("h1",{children:"\ud83d\uded2"}),(0,x.jsx)("h3",{children:"Supermarkets"})]})]})]}):"Primary schools"===G?(0,x.jsx)("section",{className:"variables-single-section",children:(0,x.jsx)(c.Z,{primaryData1:v,setPrimaryData1:k,listType:"long list",setProfileDetail:Y})}):"Secondary schools"===G?(0,x.jsx)("section",{className:"variables-single-section",children:(0,x.jsx)(r.Z,{secondaryData1:F,setSecondaryData1:P,listType:"long list"})}):"Restaurants"===G?(0,x.jsx)("section",{className:"variables-single-section",children:(0,x.jsx)(o.Z,{restaurants1:Z,setRestaurants1:E,listType:"long list"})}):"Fitness"===G?(0,x.jsx)("section",{className:"variables-single-section",children:(0,x.jsx)(h.Z,{gyms1:C,setGyms1:q,listType:"long list"})}):"Supermarkets"===G?(0,x.jsx)("section",{className:"variables-single-section",children:(0,x.jsx)(d.Z,{supermarkets1:L,setSupermarkets1:H,listType:"long list"})}):"EVs"===G?(0,x.jsx)("section",{className:"variables-single-section",children:(0,x.jsx)(g.Z,{ev1:O,setEv1:z,listType:"long list"})}):"Pubs"===G?(0,x.jsx)("section",{className:"variables-single-section",children:(0,x.jsx)(y.Z,{pubs1:R,setPubs1:V,listType:"long list"})}):""]})})}}}]);
//# sourceMappingURL=887.bd164a49.chunk.js.ed049af0eeba.map