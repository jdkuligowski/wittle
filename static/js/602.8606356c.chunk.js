"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[602,667],{37336:function(e,t,s){s.d(t,{Z:function(){return o}});var n=s(42524),i=s(28381);s(65293);s(63762),s(11535),s(31824);var a=s(29343);var o=e=>{let{setProfileContent:t,profileContent:s,profileDetail:o,setProfileDetail:l}=e;const r=(0,n.s0)(),[c,h]=((0,i.useRef)(null),(0,i.useState)(!1)),[d,u]=(0,i.useState)({email:"",password:"",passwordConfirmation:""}),[p,m]=(0,i.useState)("password"),[g,x]=(0,i.useState)("password"),[f,b]=(0,i.useState)(!1),[y,k]=(0,i.useState)(!1),[j,w]=(0,i.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[v,_]=(0,i.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),[M,C]=(0,i.useState)("#051885"),[S,N]=(0,i.useState)("#FFA7E5"),[F,E]=(0,i.useState)("#FFA7E5");return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("section",{className:"centered-nav-bar",style:{backgroundColor:M},children:[(0,a.jsx)("section",{className:"top-section",children:(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)("h2",{style:{color:S},onClick:()=>r("/"),children:"Wittle"})})}),(0,a.jsxs)("section",{className:"nav-slider",children:[(0,a.jsx)("h4",{style:{color:F,textDecoration:"My properties"===s?`underline 3px ${F}`:"",textUnderlineOffset:"My properties"===s?"5px":""},onClick:()=>{t("My properties"),l("My properties"),r("/agents/profile")},children:"MY PROPERTIES"}),(0,a.jsx)("h4",{style:{color:F,textDecoration:"Variables"===s?`underline 3px ${F}`:"",textUnderlineOffset:"Variables"===s?"5px":""},onClick:()=>{t("Variables"),l("Variables"),r("/agents/explore")},children:"EXPLORE"}),(0,a.jsx)("h4",{style:{color:F,textDecoration:"Comparison"===s?`underline 3px ${F}`:"",textUnderlineOffset:"Comparison"===s?"5px":""},onClick:()=>{t("Comparison"),l("Comparison"),r("/agents/compare")},children:"COMPARISON"}),(0,a.jsx)("h4",{style:{color:F,textDecoration:"Account"===s?`underline 3px ${F}`:"",textUnderlineOffset:"Account"===s?"5px":""},onClick:()=>{t("Account"),l("Account")},children:"ACCOUNT"})]})]})})}},48925:function(e,t,s){s(28381);var n=s(29343);t.Z=e=>{let{setProfileContent:t,profileContent:s,profileDetail:i,setProfileDetail:a}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"mobile-selector-section",children:(0,n.jsx)("div",{className:"mobile-title-slider",children:"Search"===s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"pills",onClick:()=>a("Wittle search"),style:{fontWeight:"Wittle search"===i?"700":"500",backgroundColor:"Wittle search"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Wittle search"}),(0,n.jsx)("h2",{className:"pills",onClick:()=>a("Property search"),style:{fontWeight:"Property search"===i?"700":"500",backgroundColor:"Property search"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property search"}),(0,n.jsx)("h2",{className:"pills",onClick:()=>a("Saved properties"),style:{fontWeight:"Saved properties"===i?"700":"500",backgroundColor:"Saved properties"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved properties"}),(0,n.jsx)("h2",{className:"pills",onClick:()=>a("Saved searches"),style:{fontWeight:"Saved searches"===i?"700":"500",backgroundColor:"Saved searches"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved searches"}),(0,n.jsx)("h2",{className:"pills",onClick:()=>a("Property comparison"),style:{fontWeight:"Property comparison"===i?"700":"500",backgroundColor:"Property comparison"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property comparison"})]}):"Lifestyle"===s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"pills",onClick:()=>a("Lifestyle search"),style:{fontWeight:"Lifestyle search"===i?"700":"500",backgroundColor:"Lifestyle search"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Search"}),(0,n.jsx)("h2",{className:"pills",onClick:()=>a("List"),style:{fontWeight:"List"===i?"700":"500",backgroundColor:"List"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved places"}),(0,n.jsx)("h2",{className:"pills",onClick:()=>a("Lifestyle insights"),style:{fontWeight:"Lifestyle insights"===i?"700":"500",backgroundColor:"Lifestyle insights"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Insights"})]}):"Admin"===s?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"pills",onClick:()=>a("Admin dashboard"),style:{fontWeight:"Admin dashboard"===i?"700":"500",backgroundColor:"Admin dashboard"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Dashboard"}),(0,n.jsx)("h2",{className:"pills",onClick:()=>a("Admin opportunities"),style:{fontWeight:"Admin opportunities"===i?"700":"500",backgroundColor:"Admin opportunities"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Opportunity"})]}):""})})})}},8772:function(e,t,s){var n=s(42524),i=(s(28381),s(65293),s(15211)),a=(s(63762),s(31824),s(29343));t.Z=e=>{let{navbarColour:t}=e;const s=(0,n.s0)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("section",{className:"nav-section no-print",style:{backgroundColor:t},children:[(0,a.jsx)("div",{className:"left-section",children:(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)("h2",{onClick:()=>s("/"),children:"Wittle"})})}),(0,i.Hb)()?(0,a.jsx)("div",{className:"menu-container",children:(0,a.jsx)("h3",{className:"cta",onClick:e=>{localStorage.removeItem("wittle-user-token"),localStorage.removeItem("wittle-username"),window.location.reload()},children:(0,a.jsx)("a",{children:"Sign out"})})}):(0,a.jsx)("div",{className:"menu-container",children:(0,a.jsx)("h3",{className:"cta",onClick:()=>s("/login"),children:(0,a.jsx)("a",{children:"Sign in"})})})]})})}},59693:function(e,t,s){var n=s(42524),i=s(28381),a=s(15211),o=s(65293),l=s(29343);t.Z=e=>{let{setProfileDetail:t,variableSide:s,setProfileContent:r,setVariableSide:c}=e;const h=(0,n.s0)(),[d,u]=(0,i.useState)(),[p,m]=(0,i.useState)();return(0,i.useEffect)((()=>{(0,a.Hb)()?(async()=>{try{const{data:e}=await o.ZP.get(`/api/auth/profile/${(0,a.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,a.hP)()}`}});console.log("user data ->",e),u(e)}catch(e){m(!0),console.log(e)}})():(h("/access-denied"),console.log("no account"))}),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("section",{className:"profile-sidebar-open no-print remove-margin",children:[(0,l.jsx)("div",{className:"logo",children:(0,l.jsx)("h2",{onClick:()=>h("/"),children:"Wittle"})}),(0,l.jsxs)("div",{className:"profile-buttons",children:[(0,l.jsx)("div",{className:"profile-button-title",children:(0,l.jsx)("h2",{onClick:()=>{t("Home"),r("Home"),h("/agents/profile")},children:"\ud83e\uddd8\u200d\u2642\ufe0f Wittle home"})}),(0,l.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,l.jsx)("h2",{onClick:()=>{t("Saved items"),r("Saved items"),h("/agents/favourites")},children:"\ud83c\udfe1 Saved items"})}),(0,l.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,l.jsx)("h2",{onClick:()=>{t("Listing generator"),r("Listing generator"),h("/agents/listing-generator")},children:"\ud83e\udde0 Listing generator"})}),(0,l.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,l.jsx)("h2",{onClick:()=>{t("AI listing generator"),r("AI listing generator"),h("/agents/ai-listing-generator")},children:"\ud83e\udde0 AI Listing generator"})}),(0,l.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,l.jsx)("h2",{onClick:()=>{r("Property finder"),t("Property finder"),h("/agents/finder")},children:"\ud83d\udd0e Property finder"})}),(0,l.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,l.jsx)("h2",{onClick:()=>{r("Account"),t("Account"),h("/agents/account")},children:"\ud83d\udda5 Account details"})})]})]})})}},26602:function(e,t,s){s.r(t);var n=s(28381),i=s(65293),a=s(42524),o=s(15211),l=(s(47142),s(95325),s(48925),s(8772)),r=s(59693),c=s(37336),h=s(50964),d=s(29343);t.default=()=>{const e=(0,a.s0)(),[t,s]=(0,n.useState)(),[u,p]=(0,n.useState)(),[m,g]=(0,n.useState)(),x=(0,n.useRef)(null),[f,b]=(0,n.useState)(!1),[y,k]=(0,n.useState)("Listing generator"),[j,w]=(0,n.useState)("Listing generator"),[v,_]=(0,n.useState)("Property insights"),[M,C]=(0,n.useState)(""),[S,N]=(0,n.useState)(!1),[F,E]=(0,n.useState)({postcode:"",description:"",bedrooms:"",bathrooms:"",property_type:"",tenure:"",size:"",on_road_parking:"",off_road_parking:"",balcony:"",primary_schools:0,secondary_schools:0,tubes:0,trains:0,restaurants:0,pubs:0,supermarkets:0,gyms:0,parks:0,evs:0,crime:0}),[P,T]=(0,n.useState)({location:"",size:"",property_type:"",bedrooms:"",bathrooms:"",en_suites:"",amenities:[],channel:"",additional_info:"",price:"",restaurants:"",pubs:"",supermarkets:"",tube:"",trains:"",parks:"",evs:"",primary_schools:"",secondary_schools:"",gyms:""}),[D,L]=(0,n.useState)(),[$,A]=(0,n.useState)(),[I,W]=(0,n.useState)(),[Z,R]=(0,n.useState)(),[B,O]=(0,n.useState)(),[U,q]=(0,n.useState)(),[z,H]=(0,n.useState)(),[V,X]=(0,n.useState)(),[Y,K]=(0,n.useState)(),[G,J]=(0,n.useState)(),[Q,ee]=(0,n.useState)(),[te,se]=(0,n.useState)(),[ne,ie]=(0,n.useState)(),[ae,oe]=(0,n.useState)(),[le,re]=(0,n.useState)(),[ce,he]=(0,n.useState)(),[de,ue]=(0,n.useState)(),[pe,me]=(0,n.useState)(),[ge,xe]=(0,n.useState)([]),[fe,be]=(0,n.useState)([]),[ye,ke]=(0,n.useState)([]),[je,we]=(0,n.useState)([]),[ve,_e]=(0,n.useState)(),[Me,Ce]=(0,n.useState)(),[Se,Ne]=(0,n.useState)(),[Fe,Ee]=(0,n.useState)(),[Pe,Te]=(0,n.useState)(),[De,Le]=(0,n.useState)(!1);(0,n.useEffect)((()=>{(0,o.Hb)()?(async()=>{try{const{data:e}=await i.ZP.get(`/api/auth/profile/${(0,o.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,o.hP)()}`}});console.log("user data ->",e),p(e)}catch(e){s(!0),console.log(e)}})():(e("/access-denied"),console.log("no account"))}),[]);const $e=20/60*5,Ae=6371,Ie=e=>e*Math.PI/180,We=5/60;(0,n.useEffect)((()=>{$&&(()=>{const e=$.filter((e=>{const t=Ie(parseFloat(e.latitude)-parseFloat(D[0].longitude)),s=Ie(parseFloat(e.longitude)-parseFloat(D[0].latitude)),n=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ie(parseFloat(D[0].longitude)))*Math.cos(Ie(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),i=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),a=Ae*i;e.distance_between=a,e.walkTimeMin=Math.round(a/We);const o=a/e.max_distance;return"Independent school"===e.school_type||"Special school"===e.school_type||"On request"===e.max_distance?e.within_catchment="N/a":"Based on map"===e.additional_status?e.within_catchment="Check catchment map":"Religion"===e.max_distance&e.distance_between<.6?e.within_catchment="Very likely if religious critera met":"Religion"===e.max_distance&e.distance_between<.8?e.within_catchment="Likely if religious critera met":"Religion"===e.max_distance&e.distance_between<1?e.within_catchment="Probably if religious critera met":"Religion"===e.max_distance&e.distance_between<1.5?e.within_catchment="Unlikely, even if religious critera met":"Religion"===e.max_distance&e.distance_between>1.5?e.within_catchment="Very unlikely, even if religious critera met":"Not specified"===e.max_distance&e.distance_between<.4?e.within_catchment="Very likely but no distance specified":"Not specified"===e.max_distance&e.distance_between<.7?e.within_catchment="Likely but no distance specified":"Not specified"===e.max_distance&e.distance_between<1?e.within_catchment="Probably but no distance specified":"Not specified"===e.max_distance&e.distance_between>1?e.within_catchment="Unlikely, but no distance specified":null===e.max_distance&e.distance_between<.6?e.within_catchment="Very likely, but no distance data available":null===e.max_distance&e.distance_between<.8?e.within_catchment="Likely, but no distance data available":null===e.max_distance&e.distance_between<1?e.within_catchment="Probably, but no distance data available":null===e.max_distance&e.distance_between<1.5?e.within_catchment="Unlikely, but no distance data available":null===e.max_distance&e.distance_between>1.5?e.within_catchment="Very unlikely, but no distance data available":o<=.6?e.within_catchment="Yes":o<=.8?e.within_catchment="Very likely":o<=1?e.within_catchment="Probably":o<=1.2?e.within_catchment="Probably not":"Does not apply"===e.max_distance?e.within_catchment="Yes":e.within_catchment="No",a<=$e})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,8);q(t),W(e),console.log("nearby primaries ->",e)})()}),[$]);(0,n.useEffect)((()=>{D&&1===F.secondary_schools&&(async()=>{try{const e=async()=>{const{data:e}=await i.ZP.get("/api/secondaries/");R(e);const t=e.filter((e=>{const t=Ie(parseFloat(e.latitude)-parseFloat(D[0].longitude)),s=Ie(parseFloat(e.longitude)-parseFloat(D[0].latitude)),n=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ie(parseFloat(D[0].longitude)))*Math.cos(Ie(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),i=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),a=Ae*i;e.distance_between=a,e.walkTimeMin=Math.round(a/We);const o=a/e.max_distance,l=a/e.min_distance;return e.school_type.includes("independent")||e.school_type.includes("special")?e.within_catchment="N/a":"Exam"===e.max_distance||"Test score"===e.max_distance?e.within_catchment="Dependent on test results":"Random"===e.max_distance?e.within_catchment="Random selection based on performance":"Catchment score"===e.max_distance?e.within_catchment="School uses catchment score - check":"Based on map"===e.max_distance?e.within_catchment="Check catchment map":"Religion"===e.max_distance&e.distance_between<.7?e.within_catchment="Very likely if religious critera met":"Religion"===e.max_distance&e.distance_between<.9?e.within_catchment="Likely if religious critera met":"Religion"===e.max_distance&e.distance_between<1.5?e.within_catchment="Probably if religious critera met":"Religion"===e.max_distance&e.distance_between>1.5?e.within_catchment="Unlikely, even if religious critera met":"Does not apply"===e.max_distance||null!==e.min_distance&l<=1?e.within_catchment="Yes":null!==e.min_distance&o<=.5?e.within_catchment="Very likely":null!==e.min_distance&o<=.7?e.within_catchment="Probably":e.within_catchment=o<=.6?"Yes":o<=.8?"Very likely":o<=1?"Probably":o<=1.2?"Probably not":"No",a<=2.5})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),s=t.slice(0,8);H(s),O(t),console.log("nearby secondaries ->",t);const n=100-Math.ceil(100*D[0].secondaries.total_score_percentile);T((e=>{let t;return t=n<=10?`In top 10% of areas in London for secondary schools, with ${D[0].secondaries.school1_name} and ${D[0].secondaries.school2_name} nearby`:n<=20?`In top 20% of areas in London for secondary schools, with ${D[0].secondaries.school1_name} and ${D[0].secondaries.school2_name} nearby`:n<=30?`In top 30% of areas in London for secondary schools, with ${D[0].secondaries.school1_name} and ${D[0].secondaries.school2_name} nearby`:n<=50?`In top 50% of areas in London for secondary schools, with ${D[0].secondaries.school1_name} and ${D[0].secondaries.school2_name} nearby`:"Not specified",{...e,secondary_schools:t}}))};await e()}catch(e){s(!0),console.log(e)}})()}),[D]);const Ze=1.25;(0,n.useEffect)((()=>{D&&1===F.restaurants&&(async()=>{try{const e=async()=>{const{data:e}=await i.ZP.get("/api/restaurants/");X(e);const t=e.filter((e=>{const t=Ie(parseFloat(e.latitude)-parseFloat(D[0].longitude)),s=Ie(parseFloat(e.longitude)-parseFloat(D[0].latitude)),n=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ie(parseFloat(D[0].longitude)))*Math.cos(Ie(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),i=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),a=Ae*i;return e.distance_between=a,e.walkTimeMin=Math.round(a/We),a<=Ze})).sort(((e,t)=>t.rating-e.rating)),s=(e=>new Set(e.map((e=>e.cuisine))).size)(t),n=t.filter((e=>"No Cuisine Data"!==e.cuisine)).slice(0,3).map((e=>e.restaurant_name));me(s),ie(t),xe(n),console.log("Nearby restaurants ->",t),1===F.restaurants&&T((e=>({...e,restaurants:`${t.length} restaurants within 15 min walk, with more than ${s} cuisines available`})))};await e()}catch(e){s(!0),console.log(e)}})()}),[D]);(0,n.useEffect)((()=>{D&&1===F.gyms&&(async()=>{try{const e=async()=>{const{data:e}=await i.ZP.get("/api/gyms/");console.log("gyms data ->",e),K(e);const t=new Set,s=e.filter((e=>{const t=Ie(parseFloat(e.Lat)-parseFloat(D[0].longitude)),s=Ie(parseFloat(e.long)-parseFloat(D[0].latitude)),n=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ie(parseFloat(D[0].longitude)))*Math.cos(Ie(parseFloat(e.Lat)))*Math.sin(s/2)*Math.sin(s/2),i=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),a=Ae*i;return e.distance_between=a,e.walkTimeMin=Math.round(a/We),a<=Ze})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),n=[];for(let i=0;i<s.length;i++){const e=s[i];if(e.gym_group&&"other"!==e.gym_group.toLowerCase()&&!t.has(e.gym_group)&&(n.push(e.gym_group),t.add(e.gym_group),3===n.length))break}oe(s),ke(n),console.log("nearby gyms ->",s),console.log("top 3 gyms ->",n),1===F.gyms&&T((e=>({...e,gyms:`${s.length} gyms within 15 min walk, including ${n[0]}, ${n[1]} and ${n[2]}`})))};await e()}catch(e){s(!0),console.log(e)}})()}),[D]);(0,n.useEffect)((()=>{D&&1===F.supermarkets&&(async()=>{try{const e=async()=>{const{data:e}=await i.ZP.get("/api/supermarkets/"),t=["m&s","waitrose","aldi","lidl","sainsburys","tesco","asda"],s=new Set,n=e.map((e=>{const t=Ie(parseFloat(e.latitude)-parseFloat(D[0].longitude)),s=Ie(parseFloat(e.longitude)-parseFloat(D[0].latitude)),n=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ie(parseFloat(D[0].longitude)))*Math.cos(Ie(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),i=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),a=Ae*i;return e.distance_between=a,e.walkTimeMin=Math.round(a/We),{...e,distance:a}})).filter((e=>e.distance<=Ze)),a=[];for(let i=0;i<n.length;i++){const e=n[i];if(t.includes(e.supermarket_brand.toLowerCase())&&!s.has(e.supermarket_brand)&&(a.push(e.supermarket_brand),s.add(e.supermarket_brand),3===a.length))break}he(n),we(a),console.log("Nearby supermarkets ->",n),T((e=>({...e,supermarkets:`${n.length} supermarkets within 15 min walk, including ${a[0]}, ${a[1]} and ${a[2]}`})))};await e()}catch(e){s(!0),console.log(e)}})()}),[D]);(0,n.useEffect)((()=>{D&&1===F.tubes&&(async()=>{try{const e=async()=>{const{data:e}=await i.ZP.get("/api/tubes/"),t=e.filter((e=>{const t=Ie(parseFloat(e.lat)-parseFloat(D[0].longitude)),s=Ie(parseFloat(e.long)-parseFloat(D[0].latitude)),n=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ie(parseFloat(D[0].longitude)))*Math.cos(Ie(parseFloat(e.lat)))*Math.sin(s/2)*Math.sin(s/2),i=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),a=Ae*i;return e.distance_between=a,e.walkTimeMin=Math.round(a/We),a<=$e})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));Ne(t),console.log("Nearby tubes ->",t);const s=[...new Set(t.map((e=>e.station_name)))],n=t.reduce(((e,t)=>(e[t.line]=(e[t.line]||0)+1,e)),{}),a=Object.keys(n).length;console.log("Unique Stations:",s),console.log("Number of Distinct Lines:",a),T((e=>({...e,tube:`${s.length} within 20 min walk, across ${a} line, including ${s[0]} and ${s[1]}`})))};await e()}catch(e){s(!0),console.log(e)}})()}),[D]);(0,n.useEffect)((()=>{D&&1===F.evs&&(async()=>{try{const e=async()=>{const{data:e}=await i.ZP.get("/api/evs/");console.log("ev data ->",e),se(e);const t=e.filter((e=>{const t=Ie(parseFloat(e.latitude)-parseFloat(D[0].longitude)),s=Ie(parseFloat(e.longitude)-parseFloat(D[0].latitude)),n=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ie(parseFloat(D[0].longitude)))*Math.cos(Ie(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),i=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),a=Ae*i;return e.distance_between=a,e.walkTimeMin=Math.round(a/We),a<=.8333333333333333})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));ue(t);const s=Math.round(100*(1-D[0].ev.percentile));T((e=>({...e,evs:`${t.length} within 10 min walk${s<30?`, which is in the top ${s}% of areas in London for EV access`:""}`})))};await e()}catch(e){s(!0),console.log(e)}})()}),[D]);(0,n.useEffect)((()=>{D&&1===F.pubs&&(async()=>{try{const e=async()=>{const{data:e}=await i.ZP.get("/api/pubs/");console.log("pub data ->",e),J(e);const t=e.filter((e=>{const t=Ie(parseFloat(e.latitude)-parseFloat(D[0].longitude)),s=Ie(parseFloat(e.longitude)-parseFloat(D[0].latitude)),n=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ie(parseFloat(D[0].longitude)))*Math.cos(Ie(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),i=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),a=Ae*i;return e.distance_between=a,e.walkTimeMin=Math.round(a/We),a<=Ze})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),s=t.slice(0,3).map((e=>e.name));re(t),be(s),console.log("Nearby pubs ->",t),T((e=>({...e,pubs:`${t.length} within 15 min walk, including ${s[0]} and ${s[1]}, which are well rated`})))};await e()}catch(e){s(!0),console.log(e)}})()}),[D]);(0,n.useEffect)((()=>{D&&1===F.trains&&(async()=>{try{const e=async()=>{const{data:e}=await i.ZP.get("/api/trains/");console.log("trains data ->",e),Ce(e);const t=e.filter((e=>{const t=Ie(parseFloat(e.latitude)-parseFloat(D[0].longitude)),s=Ie(parseFloat(e.longitude)-parseFloat(D[0].latitude)),n=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ie(parseFloat(D[0].longitude)))*Math.cos(Ie(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),i=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n)),a=Ae*i;return e.distance_between=a,e.walkTimeMin=Math.round(a/We),a<=$e})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));Ee(t),console.log("Nearby trains ->",t),T((e=>({...e,trains:`${t.length} within 20 min walk, including ${t[0].station} and ${t[1].station}`})))};await e()}catch(e){s(!0),console.log(e)}})()}),[D]);(0,n.useEffect)((()=>{D&&1===F.parks&&(()=>{const e=100-D[0].parks_lsoa[0].london_percentile;T((t=>({...t,parks:`${e<=10?"In top 10% of areas in London for access to green space, with ":e<=20?"In top 20% of areas in London for access to green space, with ":e<=30?"In a very good area of London for access to green space, with ":e<=60?"In a good area of London for access to green space, with":"In an OK area of London for access to green space, with "} ${D[0].parks_postcode.park_name0} and ${D[0].parks_postcode.park_name1} nearby`})))})()}),[D]);const Re=e=>{E((t=>({...t,[e]:1===t[e]?0:1})))},Be=async e=>{console.log("trying to increase");try{const{data:t}=await i.ZP.post("/api/usage/listing/",{column:e},{headers:{Authorization:`Bearer ${(0,o.hP)()}`}});console.log(t),"success"===t.status?console.log("Usage count increased successfully"):console.error("Failed to increase usage count:",t.message)}catch(t){console.error("Error:",t)}},[Oe,Ue]=(0,n.useState)();return(0,n.useEffect)((()=>{D&&De&&(""!==P.supermarkets&&1===F.supermarkets||0===F.supermarkets)&&(""!==P.tube&&1===F.tubes||0===F.tubes)&&(""!==P.trains&&1===F.trains||0===F.trains)&&(""!==P.gyms&&1===F.gyms||0===F.gyms)&&(""!==P.restaurants&&1===F.restaurants||0===F.restaurants)&&(""!==P.pubs&&1===F.pubs||0===F.pubs)&&(""!==P.evs&&1===F.evs||0===F.evs)&&(""!==P.parks&&1===F.parks||0===F.parks)&&(""!==P.secondary_schools&&1===F.secondary_schools||0===F.secondary_schools)&&(console.log("in use effect"),Le(!1),(async e=>{try{console.log("in ai loader"),console.log("ai selection ->",P),console.log("listing selections ->",F);const{data:e}=await i.ZP.post("/api/generate_listing/generate_text/",{details:P});console.log("ai text ->",e.message),Ue(e.message)}catch(t){console.error("Error fetching data: ",t)}})())}),[D,P,De]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("section",{className:"agent-profile-page",children:[(0,d.jsx)("div",{className:"desktop-nav",children:(0,d.jsx)(l.Z,{navbarColour:"#FDF7F0"})}),(0,d.jsx)("div",{className:"mobile-nav",children:(0,d.jsx)(c.Z,{setProfileContent:k,profileContent:y,profileDetail:j,setProfileDetail:w})}),(0,d.jsx)(r.Z,{setProfileDetail:w,setProfileContent:k,userData:u}),u&&("Basic"===u.usage_stats[0].package&&u.usage_stats[0].listing_monthly_count<11||"Unlimited"===u.usage_stats[0].package||"Advanced Pilot"===u.usage_stats[0].package&&u.usage_stats[0].listing_monthly_count<101)?(0,d.jsx)("section",{className:"listing-generator",children:(0,d.jsxs)("div",{className:"listing-wrapper",children:[(0,d.jsx)("div",{className:"insight-inputs",children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:"Input details and select features you want to include your listing"}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udccd Postcode"}),(0,d.jsx)("input",{type:"text",value:M,onChange:e=>C(e.target.value.toUpperCase().replace(/\s+/g,"")),placeholder:"Enter postcode..."})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udccd Location"}),(0,d.jsx)("input",{type:"text",value:P.location,onChange:e=>T((t=>({...t,location:e.target.value}))),placeholder:"Enter location..."})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf0d Size"}),(0,d.jsx)("input",{type:"number",value:P.size,onChange:e=>T((t=>({...t,size:e.target.value}))),placeholder:"Enter size in sq.ft..."})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udecc Bedrooms"}),(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>T((t=>({...t,bedrooms:e.target.value}))),children:[(0,d.jsx)("option",{children:"--- Select ---"}),(0,d.jsx)("option",{value:0,children:"Studio"}),(0,d.jsx)("option",{children:"1"}),(0,d.jsx)("option",{children:"2"}),(0,d.jsx)("option",{children:"3"}),(0,d.jsx)("option",{children:"4"}),(0,d.jsx)("option",{children:"5"}),(0,d.jsx)("option",{children:"6"}),(0,d.jsx)("option",{children:"7"})]})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udec1 Bathrooms"}),(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>T((t=>({...t,bathrooms:e.target.value}))),children:[(0,d.jsx)("option",{children:"--- Select ---"}),(0,d.jsx)("option",{children:"0"}),(0,d.jsx)("option",{children:"1"}),(0,d.jsx)("option",{children:"2"}),(0,d.jsx)("option",{children:"3"}),(0,d.jsx)("option",{children:"4"}),(0,d.jsx)("option",{children:"5"}),(0,d.jsx)("option",{children:"6"}),(0,d.jsx)("option",{children:"7"})]})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udfe1 Property type"}),(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>T((t=>({...t,property_type:e.target.value}))),children:[(0,d.jsx)("option",{children:"--- Select ---"}),(0,d.jsx)("option",{children:"Flat"}),(0,d.jsx)("option",{children:"Bungalow"}),(0,d.jsx)("option",{children:"Terraced house"}),(0,d.jsx)("option",{children:"Semi-detached house"}),(0,d.jsx)("option",{children:"Detached house"})]})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udff7 Channel"}),(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>T((t=>({...t,channel:e.target.value}))),children:[(0,d.jsx)("option",{children:"--- Select ---"}),(0,d.jsx)("option",{children:"Sales"}),(0,d.jsx)("option",{children:"Rental"})]})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\u270d\ud83c\udffc Additional info"}),"Rental"===P.channel?(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>T((t=>({...t,additional_info:e.target.value}))),children:[(0,d.jsx)("option",{children:"--- Select ---"}),(0,d.jsx)("option",{children:"Furnished"}),(0,d.jsx)("option",{children:"Unfurnished"}),(0,d.jsx)("option",{children:"Part furnished"}),(0,d.jsx)("option",{children:"Furnished or unfurnished"})]}):(0,d.jsxs)("select",{className:"listing-dropdown",onChange:e=>T((t=>({...t,additional_info:e.target.value}))),children:[(0,d.jsx)("option",{children:"--- Select ---"}),(0,d.jsx)("option",{children:"Freehold"}),(0,d.jsx)("option",{children:"Share of Freehold"}),(0,d.jsx)("option",{children:"Leasehold"})]})]}),(0,d.jsxs)("div",{className:"input-block",onChange:e=>T((t=>({...t,price:e.target.value}))),children:[(0,d.jsx)("h3",{children:"\ud83d\udcb7 Price"}),(0,d.jsx)("input",{type:"number",value:P.price,onChange:e=>T((t=>({...t,price:e.target.value}))),placeholder:"Enter price..."})]}),(0,d.jsxs)("div",{className:"input-block",id:"features",children:[(0,d.jsx)("h3",{children:"Feature Selector"}),(0,d.jsx)("div",{className:"feature-section",children:["balcony","on-road parking","off-road parking","private gated","private garage","shared garage","lift","open-plan","concierge","gym","pool & spa","penthouse","duplex","garden"].map((e=>(0,d.jsx)("div",{children:(0,d.jsxs)("label",{children:[(0,d.jsx)("input",{className:"checkbox",type:"checkbox",checked:P.amenities.includes(e),onChange:()=>(e=>{T((t=>t.amenities.includes(e)?{...t,amenities:t.amenities.filter((t=>t!==e))}:{...t,amenities:[...t.amenities,e]}))})(e)}),e]})},e)))})]}),(0,d.jsx)("h3",{className:"lifestyle-indicator",children:"Lifestyle elements to include"}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udc76 Primary schools"}),(0,d.jsx)(h.Z,{checked:1===F.primary_schools,onChange:()=>Re("primary_schools"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf93 Secondary schools"}),(0,d.jsx)(h.Z,{checked:1===F.secondary_schools,onChange:()=>Re("secondary_schools"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\ude87 Tubes"}),(0,d.jsx)(h.Z,{checked:1===F.tubes,onChange:()=>Re("tubes"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\ude88 Trains"}),(0,d.jsx)(h.Z,{checked:1===F.trains,onChange:()=>Re("trains"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\u26fd\ufe0f Electric vehicles"}),(0,d.jsx)(h.Z,{checked:1===F.evs,onChange:()=>Re("evs"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf7d Restaurants"}),(0,d.jsx)(h.Z,{checked:1===F.restaurants,onChange:()=>Re("restaurants"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf7a Pubs"}),(0,d.jsx)(h.Z,{checked:1===F.pubs,onChange:()=>Re("pubs"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf33 Parks"}),(0,d.jsx)(h.Z,{checked:1===F.parks,onChange:()=>Re("parks"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f Gyms"}),(0,d.jsx)(h.Z,{checked:1===F.gyms,onChange:()=>Re("gyms"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\uded2 Supermarkets"}),(0,d.jsx)(h.Z,{checked:1===F.supermarkets,onChange:()=>Re("supermarkets"),onColor:"#ED6B86",offColor:"#051885"})]}),(0,d.jsx)("button",{onClick:()=>(async e=>{try{"listing_ai_total"===e&&N(!1);const{data:t}=await i.ZP.post("/api/postcodes/",{postcode:M});console.log("postcode data ->",t),L(t),Be(e),"listing_ai_total"===e&&Le(!0)}catch(t){s(!0),console.log(t)}})("listing_ai_total"),children:"Load description"})]})}),(0,d.jsxs)("div",{className:"insight-inputs",children:[D?(0,d.jsxs)("div",{className:"results-header",children:[(0,d.jsx)("h3",{className:"results-title",children:"Your listing"}),(0,d.jsx)("h3",{onClick:()=>{const e=x.current.innerText,t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},className:"copy-button",children:"\ud83d\udcd1"})]}):"",(0,d.jsx)("div",{className:"input-block",ref:x,children:(0,d.jsxs)("div",{className:"results-box",name:"description",children:[D&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h1",{children:"Key information"}),(0,d.jsxs)("h5",{children:["\ud83d\udccd Address: ",P.location]}),(0,d.jsxs)("h5",{children:["\ud83d\udcb7 Price: \xa3",P.price]}),(0,d.jsxs)("h5",{children:["\ud83c\udf0d Size: ",P.size," sq.ft"]})]})}):"",D&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h1",{children:"About this property"}),(0,d.jsx)("p",{children:Oe})]})}):"",D&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h1",{children:"Key features"}),(0,d.jsx)("ul",{children:P.amenities.map(((e,t)=>(0,d.jsx)("li",{children:e},t)))})]})}):"",D&&Oe?(0,d.jsx)("h1",{children:"What you should know about this area"}):"",ne&&1===F.restaurants&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Restaurants"}),(0,d.jsxs)("h5",{children:["\ud83c\udf7d ",ne.length," restaurants within 15 mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf7d more than ",pe," cuisines available"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf7d ",ge[0],", ",ge[1]," & ",ge[2]," are well rated"]})]})}):"",le&&1===F.pubs&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Pubs"}),(0,d.jsxs)("h5",{children:["\ud83c\udf7a ",le.length," pubs within 15 mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf7a ",fe[0],", ",fe[1]," & ",fe[2]," are well rated"]})]})}):"",ae&&1===F.gyms&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Gyms"}),(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f ",ae.length," gyms within 15 mins walk"]}),3===ye.length?(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f includes ",ye[0],", ",ye[1]," & ",ye[2]]}):2===ye.length?(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f includes ",ye[0]," & ",ye[1]," "]}):1===ye.length?(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f includes ",ye[0]]}):""]})}):"",ce&&1===F.supermarkets&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Supermarkets"}),(0,d.jsxs)("h5",{children:["\ud83d\uded2 ",ce.length," supermarkets within 15 mins walk"]}),3===je.length?(0,d.jsxs)("h5",{children:["\ud83d\uded2 includes ",je[0],", ",je[1]," & ",je[2]]}):2===je.length?(0,d.jsxs)("h5",{children:["\ud83d\uded2 includes ",je[0]," & ",je[1]," "]}):1===je.length?(0,d.jsxs)("h5",{children:["\ud83d\uded2 includes ",je[0]]}):""]})}):"",Se&&1===F.tubes&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Tube stations"}),(0,d.jsxs)("h5",{children:["\ud83d\ude87 ",Se.length," stations within 20 mins walk"]}),Se.slice(0,5).map(((e,t)=>(0,d.jsxs)("h5",{children:["\ud83d\ude87 ",e.station_name," - ",e.line," - ",e.walkTimeMin," mins walk"]},t)))]})}):"",Fe&&1===F.trains&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Train stations"}),(0,d.jsxs)("h5",{children:["\ud83d\ude88 ",Fe.length," stations within 20 mins walk"]}),Fe.slice(0,5).map(((e,t)=>(0,d.jsxs)("h5",{children:["\ud83d\ude88 ",e.station," - ",e.walkTimeMin," mins walk"]},t)))]})}):"",D&&1===F.parks&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Green space"}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 within top ",100-D[0].parks_lsoa[0].london_percentile,"% of areas in london for access to greenspace"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 ",D[0].parks_postcode.park_name0," - ",Math.ceil(D[0].parks_postcode.distance0/1e3/5*60)," mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 ",D[0].parks_postcode.park_name1," - ",Math.ceil(D[0].parks_postcode.distance1/1e3/5*60)," mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 ",D[0].parks_postcode.park_name2," - ",Math.ceil(D[0].parks_postcode.distance2/1e3/5*60)," mins walk"]})]})}):"",D&&1===F.evs&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Electric vehicles"}),(0,d.jsxs)("h5",{children:["\ud83d\ude87 ",D[0].ev.ev_10_mins," charging points within 10 mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83d\ude87 in the top ",Math.round(100*(1-D[0].ev.percentile)),"% of areas in London for ev charging access"]})]})}):"",I&&1===F.primary_schools&&Oe?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Primary schools"}),I.slice(0,5).map(((e,t)=>(0,d.jsxs)("h5",{children:["\ud83d\udc76 ",e.school_name," - ",e.ofsted_results," ofsted - ",e.walkTimeMin," mins walk"]},t)))]})}):""]})})]})]})}):""]})})}},50964:function(e,t,s){s.d(t,{Z:function(){return c}});var n=s(28381);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},i.apply(this,arguments)}var a=n.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},n.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),o=n.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},n.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function l(e){if(7===e.length)return e;for(var t="#",s=1;s<4;s+=1)t+=e[s]+e[s];return t}function r(e,t,s,n,i){return function(e,t,s,n,i){var a=(e-s)/(t-s);if(0===a)return n;if(1===a)return i;for(var o="#",l=1;l<6;l+=2){var r=parseInt(n.substr(l,2),16),c=parseInt(i.substr(l,2),16),h=Math.round((1-a)*r+a*c).toString(16);1===h.length&&(h="0"+h),o+=h}return o}(e,t,s,l(n),l(i))}var c=function(e){function t(t){e.call(this,t);var s=t.height,n=t.width,i=t.checked;this.t=t.handleDiameter||s-2,this.i=Math.max(n-s,n-(s+this.t)/2),this.o=Math.max(0,(s-this.t)/2),this.state={h:i?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.m=this.m.bind(this),this.M=this.M.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){this.W=!0},t.prototype.componentDidUpdate=function(e){e.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},t.prototype.componentWillUnmount=function(){this.W=!1},t.prototype.I=function(e){this.H.focus(),this.setState({R:e,j:!0,B:Date.now()})},t.prototype.L=function(e){var t=this.state,s=t.R,n=t.h,i=(this.props.checked?this.i:this.o)+e-s;t.N||e===s||this.setState({N:!0});var a=Math.min(this.i,Math.max(this.o,i));a!==n&&this.setState({h:a})},t.prototype.U=function(e){var t=this.state,s=t.h,n=t.N,i=t.B,a=this.props.checked,o=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var l=Date.now()-i;(!n||l<250||a&&s<=o||!a&&s>=o)&&this.A(e),this.W&&this.setState({N:!1,j:!1}),this.l=Date.now()},t.prototype.p=function(e){e.preventDefault(),"number"==typeof e.button&&0!==e.button||(this.I(e.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.g))},t.prototype.v=function(e){e.preventDefault(),this.L(e.clientX)},t.prototype.g=function(e){this.U(e),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.g)},t.prototype.k=function(e){this.X=null,this.I(e.touches[0].clientX)},t.prototype.m=function(e){this.L(e.touches[0].clientX)},t.prototype.M=function(e){e.preventDefault(),this.U(e)},t.prototype.$=function(e){Date.now()-this.l>50&&(this.A(e),Date.now()-this.u>50&&this.W&&this.setState({j:!1}))},t.prototype.C=function(){this.u=Date.now()},t.prototype.D=function(){this.setState({j:!0})},t.prototype.O=function(){this.setState({j:!1})},t.prototype.S=function(e){this.H=e},t.prototype.T=function(e){e.preventDefault(),this.H.focus(),this.A(e),this.W&&this.setState({j:!1})},t.prototype.A=function(e){var t=this.props;(0,t.onChange)(!t.checked,e,t.id)},t.prototype.render=function(){var e=this.props,t=e.checked,s=e.disabled,a=e.className,o=e.offColor,l=e.onColor,c=e.offHandleColor,h=e.onHandleColor,d=e.checkedIcon,u=e.uncheckedIcon,p=e.checkedHandleIcon,m=e.uncheckedHandleIcon,g=e.boxShadow,x=e.activeBoxShadow,f=e.height,b=e.width,y=e.borderRadius,k=function(e,t){var s={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&-1===t.indexOf(n)&&(s[n]=e[n]);return s}(e,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),j=this.state,w=j.h,v=j.N,_=j.j,M={position:"relative",display:"inline-block",textAlign:"left",opacity:s?.5:1,direction:"ltr",borderRadius:f/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},C={height:f,width:b,margin:Math.max(0,(this.t-f)/2),position:"relative",background:r(w,this.i,this.o,o,l),borderRadius:"number"==typeof y?y:f/2,cursor:s?"default":"pointer",WebkitTransition:v?null:"background 0.25s",MozTransition:v?null:"background 0.25s",transition:v?null:"background 0.25s"},S={height:f,width:Math.min(1.5*f,b-(this.t+f)/2+1),position:"relative",opacity:(w-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"},N={height:f,width:Math.min(1.5*f,b-(this.t+f)/2+1),position:"absolute",opacity:1-(w-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"},F={height:this.t,width:this.t,background:r(w,this.i,this.o,c,h),display:"inline-block",cursor:s?"default":"pointer",borderRadius:"number"==typeof y?y-1:"50%",position:"absolute",transform:"translateX("+w+"px)",top:Math.max(0,(f-this.t)/2),outline:0,boxShadow:_?x:g,border:0,WebkitTransition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},E={height:this.t,width:this.t,opacity:Math.max(2*(1-(w-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"},P={height:this.t,width:this.t,opacity:Math.max(2*((w-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"};return n.createElement("div",{className:a,style:M},n.createElement("div",{className:"react-switch-bg",style:C,onClick:s?null:this.T,onMouseDown:function(e){return e.preventDefault()}},d&&n.createElement("div",{style:S},d),u&&n.createElement("div",{style:N},u)),n.createElement("div",{className:"react-switch-handle",style:F,onClick:function(e){return e.preventDefault()},onMouseDown:s?null:this.p,onTouchStart:s?null:this.k,onTouchMove:s?null:this.m,onTouchEnd:s?null:this.M,onTouchCancel:s?null:this.O},m&&n.createElement("div",{style:E},m),p&&n.createElement("div",{style:P},p)),n.createElement("input",i({},{type:"checkbox",role:"switch","aria-checked":t,checked:t,disabled:s,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},k,{ref:this.S,onFocus:this.D,onBlur:this.O,onKeyUp:this.C,onChange:this.$})))},t}(n.Component);c.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:a,checkedIcon:o,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56}}}]);
//# sourceMappingURL=602.8606356c.chunk.js.map