"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[631,667],{55959:function(e,s,t){t(28381);var a=t(29343);s.Z=()=>(0,a.jsx)("div",{className:"loading-gif",children:(0,a.jsx)("img",{src:t(60782),alt:"loading gif"})})},37336:function(e,s,t){t.d(s,{Z:function(){return n}});var a=t(42524),i=t(28381);t(65293);t(63762),t(11535),t(31824);var r=t(29343);var n=e=>{let{setProfileContent:s,profileContent:t,profileDetail:n,setProfileDetail:o}=e;const l=(0,a.s0)(),[c,d]=((0,i.useRef)(null),(0,i.useState)(!1)),[h,u]=(0,i.useState)({email:"",password:"",passwordConfirmation:""}),[p,m]=(0,i.useState)("password"),[g,x]=(0,i.useState)("password"),[j,f]=(0,i.useState)(!1),[y,v]=(0,i.useState)(!1),[N,C]=(0,i.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[b,k]=(0,i.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),[S,_]=(0,i.useState)("#051885"),[P,F]=(0,i.useState)("#FFA7E5"),[A,E]=(0,i.useState)("#FFA7E5");return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{className:"centered-nav-bar",style:{backgroundColor:S},children:[(0,r.jsx)("section",{className:"top-section",children:(0,r.jsx)("div",{className:"logo",children:(0,r.jsx)("h2",{style:{color:P},onClick:()=>l("/"),children:"Wittle"})})}),(0,r.jsxs)("section",{className:"nav-slider",children:[(0,r.jsx)("h4",{style:{color:A,textDecoration:"My properties"===t?`underline 3px ${A}`:"",textUnderlineOffset:"My properties"===t?"5px":""},onClick:()=>{s("My properties"),o("My properties"),l("/agents/profile")},children:"MY PROPERTIES"}),(0,r.jsx)("h4",{style:{color:A,textDecoration:"Variables"===t?`underline 3px ${A}`:"",textUnderlineOffset:"Variables"===t?"5px":""},onClick:()=>{s("Variables"),o("Variables"),l("/agents/explore")},children:"EXPLORE"}),(0,r.jsx)("h4",{style:{color:A,textDecoration:"Comparison"===t?`underline 3px ${A}`:"",textUnderlineOffset:"Comparison"===t?"5px":""},onClick:()=>{s("Comparison"),o("Comparison"),l("/agents/compare")},children:"COMPARISON"}),(0,r.jsx)("h4",{style:{color:A,textDecoration:"Account"===t?`underline 3px ${A}`:"",textUnderlineOffset:"Account"===t?"5px":""},onClick:()=>{s("Account"),o("Account")},children:"ACCOUNT"})]})]})})}},48925:function(e,s,t){t(28381);var a=t(29343);s.Z=e=>{let{setProfileContent:s,profileContent:t,profileDetail:i,setProfileDetail:r}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"mobile-selector-section",children:(0,a.jsx)("div",{className:"mobile-title-slider",children:"Search"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"pills",onClick:()=>r("Wittle search"),style:{fontWeight:"Wittle search"===i?"700":"500",backgroundColor:"Wittle search"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Wittle search"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>r("Property search"),style:{fontWeight:"Property search"===i?"700":"500",backgroundColor:"Property search"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property search"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>r("Saved properties"),style:{fontWeight:"Saved properties"===i?"700":"500",backgroundColor:"Saved properties"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved properties"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>r("Saved searches"),style:{fontWeight:"Saved searches"===i?"700":"500",backgroundColor:"Saved searches"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved searches"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>r("Property comparison"),style:{fontWeight:"Property comparison"===i?"700":"500",backgroundColor:"Property comparison"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property comparison"})]}):"Lifestyle"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"pills",onClick:()=>r("Lifestyle search"),style:{fontWeight:"Lifestyle search"===i?"700":"500",backgroundColor:"Lifestyle search"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Search"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>r("List"),style:{fontWeight:"List"===i?"700":"500",backgroundColor:"List"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved places"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>r("Lifestyle insights"),style:{fontWeight:"Lifestyle insights"===i?"700":"500",backgroundColor:"Lifestyle insights"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Insights"})]}):"Admin"===t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"pills",onClick:()=>r("Admin dashboard"),style:{fontWeight:"Admin dashboard"===i?"700":"500",backgroundColor:"Admin dashboard"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Dashboard"}),(0,a.jsx)("h2",{className:"pills",onClick:()=>r("Admin opportunities"),style:{fontWeight:"Admin opportunities"===i?"700":"500",backgroundColor:"Admin opportunities"===i?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Opportunity"})]}):""})})})}},8772:function(e,s,t){var a=t(42524),i=(t(28381),t(65293),t(15211)),r=(t(63762),t(31824),t(29343));s.Z=e=>{let{navbarColour:s}=e;const t=(0,a.s0)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("section",{className:"nav-section no-print",style:{backgroundColor:s},children:[(0,r.jsx)("div",{className:"left-section",children:(0,r.jsx)("div",{className:"logo",children:(0,r.jsx)("h2",{onClick:()=>t("/"),children:"Wittle"})})}),(0,i.Hb)()?(0,r.jsx)("div",{className:"menu-container",children:(0,r.jsx)("h3",{className:"cta",onClick:e=>{localStorage.removeItem("wittle-user-token"),localStorage.removeItem("wittle-username"),window.location.reload()},children:(0,r.jsx)("a",{children:"Sign out"})})}):(0,r.jsx)("div",{className:"menu-container",children:(0,r.jsx)("h3",{className:"cta",onClick:()=>t("/login"),children:(0,r.jsx)("a",{children:"Sign in"})})})]})})}},8631:function(e,s,t){t.r(s);var a=t(28381),i=t(65293),r=t(42524),n=t(15211),o=(t(47142),t(95325),t(48925),t(8772)),l=t(59693),c=t(37336),d=t(55959),h=t(29343);i.ZP.defaults.xsrfCookieName="csrftoken",i.ZP.defaults.xsrfHeaderName="X-CSRFToken";s.default=()=>{const e=(0,r.s0)(),[s,t]=(0,a.useState)(),[u,p]=(0,a.useState)(),[m,g]=(0,a.useState)(),[x,j]=(0,a.useState)(!1),[f,y]=(0,a.useState)("Comparison"),[v,N]=(0,a.useState)("Comparison"),[C,b]=(0,a.useState)(!1),[k,S]=(0,a.useState)(""),[_,P]=(0,a.useState)(""),[F,A]=(0,a.useState)(),[E,w]=(0,a.useState)(),[L,W]=(0,a.useState)([]),[D,Z]=(0,a.useState)([]),[$,I]=(0,a.useState)(""),[M,O]=(0,a.useState)([]),[U,R]=(0,a.useState)(sessionStorage.getItem("sessionName")||""),H=()=>{if((0,n.Hb)()){(async()=>{try{const{data:e}=await i.ZP.get(`/api/auth/profile/${(0,n.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});console.log("user data ->",e),p(e)}catch(e){t(!0),console.log(e)}})()}else e("/access-denied"),console.log("no account")};(0,a.useEffect)((()=>{H()}),[]);const V=async()=>{console.log("trying to increase");try{const{data:e}=await i.ZP.post("/api/usage/",{},{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});console.log(e),"success"===e.status?console.log("Usage count increased successfully"):console.error("Failed to increase usage count:",e.message)}catch(e){console.error("Error:",e)}};function z(e){return M.some((s=>s.postcode===e.postcode&&s.address===e.address))}return(0,a.useEffect)((()=>{(async()=>{try{const{data:e}=await i.ZP.get("/api/epc_favourite/",{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});O(e)}catch(e){console.error("Error fetching favourites:",e)}})()}),[]),(0,a.useEffect)((()=>{U&&sessionStorage.setItem("sessionName",U)}),[U]),(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("section",{className:"agent-profile-page",children:[(0,h.jsx)("div",{className:"desktop-nav",children:(0,h.jsx)(o.Z,{navbarColour:"#FDF7F0"})}),(0,h.jsx)("div",{className:"mobile-nav",children:(0,h.jsx)(c.Z,{setProfileContent:y,profileContent:f,profileDetail:v,setProfileDetail:N})}),(0,h.jsx)(l.Z,{setProfileDetail:N,variableSide:C,setProfileContent:y,setVariableSide:b,userData:u}),(0,h.jsx)(h.Fragment,{children:u&&u.usage_stats[0]&&(1===u.usage_stats[0].epc_tier&&u.usage_stats[0].epc_monthly_count<11||0===u.usage_stats[0].epc_tier||2===u.usage_stats[0].epc_tier&&u.usage_stats[0].epc_monthly_count<101)?(0,h.jsxs)("section",{className:"property-finder",children:[(0,h.jsx)("h1",{children:"Find the full address of properties listed on the market"}),(0,h.jsxs)("div",{className:"epc-matcher",children:[(0,h.jsxs)("div",{className:"input-section",children:[(0,h.jsx)("h3",{className:"sub-title",children:"Add property details"}),m?(0,h.jsx)(d.Z,{}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"input-block",children:[(0,h.jsx)("h3",{children:"Property category"}),(0,h.jsx)("input",{type:"text",value:U,onChange:e=>R(e.target.value),placeholder:"Enter category..."})]}),(0,h.jsxs)("div",{className:"input-block",children:[(0,h.jsx)("h3",{children:"Postcode"}),(0,h.jsx)("input",{type:"text",value:k,onChange:e=>S(e.target.value),placeholder:"Enter postcode..."})]}),(0,h.jsxs)("div",{className:"input-block",children:[(0,h.jsx)("h3",{children:"Road name"}),(0,h.jsx)("input",{type:"text",value:_,onChange:e=>P(e.target.value)})]}),(0,h.jsxs)("div",{className:"input-block",children:[(0,h.jsx)("h3",{children:"Current Energy Efficiency"}),(0,h.jsx)("input",{type:"number",value:F,onChange:e=>A(e.target.value)})]}),(0,h.jsxs)("div",{className:"input-block",children:[(0,h.jsx)("h3",{children:"Potential Energy Efficiency"}),(0,h.jsx)("input",{type:"number",value:E,onChange:e=>w(e.target.value)})]}),(0,h.jsx)("button",{onClick:async()=>{g(!0),j(!1);try{const{data:e}=await i.ZP.get(`/api/epc/${k}`);if(console.log("Postcode data ->",e),W(e),e&&Array.isArray(e)&&e.length>0){const s=e.filter((e=>e.address.toLowerCase().includes(_.toLowerCase())&&e.current_energy_efficiency===Number(F)&&e.potential_energy_efficiency===Number(E))).sort(((e,s)=>new Date(s.inspection_date)-new Date(e.inspection_date)));Z(s),console.log("filtered data->",s),s.length>0&&V(),g(!1)}else console.log("No postcode data available"),g(!1)}catch(e){t(!0),console.log(e),g(!1)}j(!0),H()},children:"Load Properties"})]}),(0,h.jsxs)("div",{className:"tracking-results",children:[(0,h.jsxs)("h3",{className:"sub-title",children:["\ud83d\udcbb Current plan: ",u&&1===u.usage_stats[0].epc_tier?"Limited pilot":u&&2===u.usage_stats[0].epc_tier?"Advanced pilot":"Unlimited"]}),(0,h.jsxs)("h3",{className:"sub-title",children:["\ud83d\udd0e Searches this month: ",u?u.usage_stats[0].epc_monthly_count:""]}),(0,h.jsxs)("p",{children:["\ud83e\udd1d ",u&&1===u.usage_stats[0].epc_tier?"Upgrade to the advanced pilot for up to 100 searches per month":u&&0===u.usage_stats[0].epc_tier?"You have unlimited use of this tool":"Your search limit for this month is 100"]})]})]}),(0,h.jsxs)("div",{className:"property-results",children:[(0,h.jsx)("h3",{className:"sub-title",children:"Matching properties"}),(0,h.jsx)("div",{className:"results-block",children:0!==L.length||x?x&&0===D.length?(0,h.jsx)("h3",{className:"response",children:"\ud83e\udd26\u200d\u2640\ufe0f we couldn't find anything that matched your search"}):x&&D.length>0?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"results-headers",children:[(0,h.jsx)("h5",{id:"column1",className:"column",children:"#"}),(0,h.jsx)("div",{id:"column2",className:"column",children:(0,h.jsx)("h5",{children:"Address"})}),(0,h.jsx)("div",{id:"column3",className:"column",children:(0,h.jsx)("h5",{children:"Postcode"})}),(0,h.jsx)("div",{id:"column4",className:"column",children:(0,h.jsx)("h5",{children:"Last inspection"})}),(0,h.jsx)("div",{id:"column5",className:"column",children:(0,h.jsx)("h5",{})})]}),(0,h.jsx)("hr",{className:"property-divider"}),(0,h.jsx)("div",{className:"results-details",children:D?D.map(((e,s)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"results-content",children:[(0,h.jsx)("div",{className:"column",id:"column1",children:(0,h.jsx)("h5",{children:s+1})}),(0,h.jsx)("div",{className:"column",id:"column2",children:(0,h.jsx)("h5",{children:e.address})}),(0,h.jsx)("div",{className:"column",id:"column3",children:(0,h.jsx)("h5",{children:e.postcode})}),(0,h.jsx)("div",{className:"column",id:"column4",children:(0,h.jsx)("h5",{children:e.inspection_date})}),(0,h.jsx)("div",{className:"column",id:"column5",children:z(e)?(0,h.jsx)("button",{className:"added",children:"\u2714\ufe0f"}):(0,h.jsx)("button",{className:"add",onClick:()=>(async e=>{try{const{data:s}=await i.ZP.post("/api/epc_favourite/",{postcode:e.postcode,address:e.address,category:U},{headers:{Authorization:`Bearer ${(0,n.hP)()}`}});console.log("session name->",U),s.message&&!z(e)&&O((s=>[...s,{postcode:e.postcode,address:e.address,category:U}]))}catch(s){console.error("Error saving favourite:",s)}})(e),children:"+"})})]},s),(0,h.jsx)("hr",{className:"property-divider"})]}))):""})]}):"":(0,h.jsx)("h3",{className:"response",children:"\ud83d\udd0e Start new search to see results"})})]})]})]}):u&&1===u.usage_stats[0].epc_tier&&u.usage_stats[0].epc_monthly_count>=11?(0,h.jsxs)("section",{className:"property-finder",children:[(0,h.jsx)("h1",{children:"\ud83d\ude4f Thanks for enjoying Wittle!"}),(0,h.jsx)("h3",{className:"limit-reached",children:"You have reached the free limit of matches for this month, get in touch to unlock another 90 matches."})]}):u&&2===u.usage_stats[0].epc_tier&&u.usage_stats[0].epc_monthly_count>=101?(0,h.jsxs)("section",{className:"property-finder",children:[(0,h.jsx)("h1",{children:"\ud83d\ude4f Thanks for enjoying Wittle!"}),(0,h.jsx)("h3",{className:"limit-reached",children:"You have carried out 100 matches this month, get in touch to discuss increasing your limit."})]}):""})]})})}},59693:function(e,s,t){var a=t(42524),i=t(28381),r=t(15211),n=t(65293),o=t(29343);s.Z=e=>{let{setProfileDetail:s,variableSide:t,setProfileContent:l,setVariableSide:c}=e;const d=(0,a.s0)(),[h,u]=(0,i.useState)(),[p,m]=(0,i.useState)();return(0,i.useEffect)((()=>{(0,r.Hb)()?(async()=>{try{const{data:e}=await n.ZP.get(`/api/auth/profile/${(0,r.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,r.hP)()}`}});console.log("user data ->",e),u(e)}catch(e){m(!0),console.log(e)}})():(d("/access-denied"),console.log("no account"))}),[]),(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("section",{className:"profile-sidebar-open no-print remove-margin",children:[(0,o.jsx)("div",{className:"logo",children:(0,o.jsx)("h2",{onClick:()=>d("/"),children:"Wittle"})}),(0,o.jsxs)("div",{className:"profile-buttons",children:[(0,o.jsx)("div",{className:"profile-button-title",children:(0,o.jsx)("h2",{onClick:()=>{s("Home"),l("Home"),d("/agents/profile")},children:"\ud83e\uddd8\u200d\u2642\ufe0f Wittle home"})}),(0,o.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,o.jsx)("h2",{onClick:()=>{s("My things"),l("My things"),d("/agents/favourites")},children:"\ud83c\udfe1 My things"})}),(0,o.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,o.jsx)("h2",{onClick:()=>{s("Listing generator"),l("Listing generator"),d("/agents/listing-generator")},children:"\ud83e\udde0 Listing generator"})}),!h||1!==h.id&&55!==h.id?"":(0,o.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,o.jsx)("h2",{onClick:()=>{s("AI listing generator"),l("AI listing generator"),d("/agents/ai-listing-generator")},children:"\ud83e\udde0 AI Listing generator"})}),(0,o.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,o.jsx)("h2",{onClick:()=>{l("Property finder"),s("Property finder"),d("/agents/finder")},children:"\ud83d\udd0e Property finder"})})]})]})})}},60782:function(e,s,t){e.exports=t.p+"static/media/loading-gif-2.1a30597dcd8d7628a1a5.gif"}}]);
//# sourceMappingURL=631.bebc8326.chunk.js.4c0142474bf1.map