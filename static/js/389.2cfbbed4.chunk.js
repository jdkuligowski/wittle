"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[389],{74177:function(e,s,i){i(72791);var l=i(80184);s.Z=()=>(0,l.jsx)("div",{className:"loading-gif",children:(0,l.jsx)("img",{src:i(57837),alt:"loading gif"})})},19832:function(e,s,i){var l=i(72791),a=i(57689),t=i(96048),n=i.n(t),c=i(34648),o=(i(37879),i(88465),i(74177)),d=i(80184);s.Z=e=>{let{ev1:s,listType:i,setEv1:t,postcodeData:r,tableMapView:h}=e;(0,a.s0)();const[m,u]=(0,l.useState)([]),[x,j]=(0,l.useState)(null),[p,g]=(0,l.useState)(null),[N,v]=(0,l.useState)(),[b,w]=(0,l.useState)(""),[k,C]=(0,l.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[y,_]=(0,l.useState)(!0),[S,f]=(0,l.useState)(),[L,M]=(0,l.useState)(0),F=50*L,T=F+50,I=e=>{_(!0),console.log(y),f(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,l.useEffect)((()=>{r&&C((e=>({...e,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=e=>{let i="asc";x===e&&"asc"===p&&(i="desc"),j(e),g(i);const l=[...s].sort(((s,l)=>isNaN(s[e])||isNaN(l[e])?s[e]<l[e]?"asc"===i?-1:1:s[e]>l[e]?"asc"===i?1:-1:0:"asc"===i?s[e]-l[e]:l[e]-s[e]));t(l)};return(0,l.useEffect)((()=>{var e;s&&u(""===(e=b)?[...s]:s.filter((s=>s.location.toLowerCase().includes(e.toLowerCase())||s.fast_charging.toLowerCase().includes(e.toLowerCase()))))}),[b,s]),(0,d.jsx)(d.Fragment,{children:s?(0,d.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,d.jsxs)("div",{className:"school-block",children:[(0,d.jsxs)("div",{className:"school-table-headers",children:[(0,d.jsx)("h5",{id:"column1",children:"#"}),(0,d.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>E("location"),children:[(0,d.jsx)("h5",{children:"Charger location"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,d.jsxs)("div",{id:"column3",className:"gym-group sort-section",onClick:()=>E("power"),children:[(0,d.jsx)("h5",{children:"Power"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===i?(0,d.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,d.jsx)("h5",{children:"Distance"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,d.jsx)("h5",{id:"column4"}),(0,d.jsx)("h5",{id:"column5",className:"gym-final",children:"Fast Charging"})]}),(0,d.jsx)("div",{className:"school-table-details",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"school-content",children:[(0,d.jsx)("div",{className:"column",id:"column1",children:(0,d.jsx)("h5",{children:s+1})}),(0,d.jsx)("div",{className:"column gym-name",id:"column2",children:(0,d.jsx)("h5",{children:e.location})}),(0,d.jsx)("div",{className:"column gym-group",id:"column3",children:(0,d.jsxs)("h5",{children:[e.power," kW"]})}),(0,d.jsx)("div",{className:"column",id:"column4",children:"short list"===i?(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]}):(0,d.jsx)("h5",{})}),(0,d.jsx)("div",{className:"column gym-final",id:"column5",children:(0,d.jsx)("h5",{children:e.fast_charging})})]}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,d.jsx)("div",{className:"school-block",children:(0,d.jsxs)("div",{className:"map-grid-view",children:[(0,d.jsx)("div",{className:"grid-list",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"school-content",children:(0,d.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:I,children:[(0,d.jsxs)("h5",{className:"title",children:[s+1,". ",e.location]}),(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"evs"}),(0,d.jsxs)("h5",{children:[e.power,"kW"]})]}),"short list"===i?(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"distance"}),(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,d.jsx)("div",{className:"map-section",children:(0,d.jsxs)(c.ZP,{...k,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{C(e)},center:k,onMove:e=>C(e.viewport),className:"profile-map",children:[m&&m.map(((e,s)=>(0,d.jsx)(c.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{return s=e,console.log("selectd gym ->",s),void v(s);var s},children:(0,d.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(F,T),r&&(0,d.jsx)(c.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,d.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),N?(0,d.jsx)(c.GI,{longitude:N.longitude,latitude:N.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>v(null),children:(0,d.jsx)("div",{className:"popup-content",children:(0,d.jsxs)("div",{className:"popup-border",children:[(0,d.jsx)("h5",{className:"title",children:N.location}),(0,d.jsxs)("p",{children:["\u26fd\ufe0f Power:",N.power," kW"]}),(0,d.jsxs)("p",{children:["\u26fd\ufe0f Fast charging: ",N.fast_charging]})]})})}):""]})})]})}):"",m?(0,d.jsx)(n(),{pageCount:Math.ceil(m.length/50),onPageChange:e=>{const{selected:s}=e;M(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,d.jsx)("section",{className:"loading-screen",children:(0,d.jsx)(o.Z,{})})})}},32767:function(e,s,i){var l=i(72791),a=i(57689),t=i(96048),n=i.n(t),c=i(34648),o=(i(37879),i(88465),i(74177)),d=i(80184);s.Z=e=>{let{gyms1:s,listType:i,setGyms1:t,postcodeData:r,tableMapView:h}=e;(0,a.s0)();const[m,u]=(0,l.useState)([]),[x,j]=(0,l.useState)(null),[p,g]=(0,l.useState)(null),[N,v]=(0,l.useState)(),[b,w]=(0,l.useState)(""),[k,C]=(0,l.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[y,_]=(0,l.useState)(!0),[S,f]=(0,l.useState)(),[L,M]=(0,l.useState)(0),F=10*L,T=F+10,I=e=>{_(!0),console.log(y),f(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,l.useEffect)((()=>{r&&C((e=>({...e,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=e=>{let i="asc";x===e&&"asc"===p&&(i="desc"),j(e),g(i);const l=[...s].sort(((s,l)=>isNaN(s[e])||isNaN(l[e])?s[e]<l[e]?"asc"===i?-1:1:s[e]>l[e]?"asc"===i?1:-1:0:"asc"===i?s[e]-l[e]:l[e]-s[e]));t(l)};return(0,l.useEffect)((()=>{var e;s&&u(""===(e=b)?[...s]:s.filter((s=>s.gym_name.toLowerCase().includes(e.toLowerCase())||s.gym_group.toLowerCase().includes(e.toLowerCase())||s.class_type.toLowerCase().includes(e.toLowerCase()))))}),[b,s]),(0,d.jsx)(d.Fragment,{children:s?(0,d.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,d.jsxs)("div",{className:"school-block",children:[(0,d.jsxs)("div",{className:"school-table-headers",children:[(0,d.jsx)("h5",{id:"column1",children:"#"}),(0,d.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>E("gym_name"),children:[(0,d.jsx)("h5",{children:"Studio name"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,d.jsxs)("div",{id:"column3",className:"gym-group sort-section",onClick:()=>E("gym_group"),children:[(0,d.jsx)("h5",{children:"Studio group"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===i?(0,d.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,d.jsx)("h5",{children:"Distance"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,d.jsx)("h5",{id:"column4"}),(0,d.jsx)("h5",{id:"column5",className:"gym-final",children:"Class types"})]}),(0,d.jsx)("div",{className:"school-table-details",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"school-content",children:[(0,d.jsx)("div",{className:"column",id:"column1",children:(0,d.jsx)("h5",{children:s+1})}),(0,d.jsx)("div",{className:"column gym-name",id:"column2",children:(0,d.jsx)("h5",{children:e.gym_name})}),(0,d.jsx)("div",{className:"column gym-group",id:"column3",children:(0,d.jsx)("h5",{children:e.gym_group})}),(0,d.jsx)("div",{className:"column",id:"column4",children:"short list"===i?(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]}):(0,d.jsx)("h5",{})}),(0,d.jsx)("div",{className:"column gym-final",id:"column5",children:(0,d.jsx)("h5",{children:e.class_type})})]}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,d.jsx)("div",{className:"school-block",children:(0,d.jsxs)("div",{className:"map-grid-view",children:[(0,d.jsx)("div",{className:"grid-list",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"school-content",children:(0,d.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:I,children:[(0,d.jsxs)("h5",{className:"title",children:[s+1,". ",e.gym_name]}),(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"gyms"}),(0,d.jsx)("h5",{children:e.gym_group})]}),"short list"===i?(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"distance"}),(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,d.jsx)("div",{className:"map-section",children:(0,d.jsxs)(c.ZP,{...k,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{C(e)},center:k,onMove:e=>C(e.viewport),className:"profile-map",children:[m&&m.map(((e,s)=>(0,d.jsx)(c.Jx,{id:e.id,longitude:e.long,latitude:e.Lat,onClick:()=>{return s=e,console.log("selectd gym ->",s),void v(s);var s},children:(0,d.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(F,T),r&&(0,d.jsx)(c.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,d.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),N?(0,d.jsx)(c.GI,{longitude:N.long,latitude:N.Lat,closeOnClick:!1,className:"item-popup",onClose:()=>v(null),children:(0,d.jsx)("div",{className:"popup-content",children:(0,d.jsxs)("div",{className:"popup-border",children:[(0,d.jsx)("h5",{className:"title",children:N.gym_name}),(0,d.jsx)("p",{children:N.gym_group}),(0,d.jsx)("p",{children:N.class_type})]})})}):""]})})]})}):"",m?(0,d.jsx)(n(),{pageCount:Math.ceil(m.length/10),onPageChange:e=>{const{selected:s}=e;M(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,d.jsx)("section",{className:"loading-screen",children:(0,d.jsx)(o.Z,{})})})}},71213:function(e,s,i){var l=i(72791),a=i(57689),t=i(96048),n=i.n(t),c=i(34648),o=i(37879),d=(i(88465),i(74177)),r=i(80184);s.Z=e=>{let{primaryData1:s,listType:i,setPrimaryData1:t,postcodeData:h,tableMapView:m}=e;const u=(0,a.s0)(),[x,j]=(0,l.useState)([]),[p,g]=(0,l.useState)(""),[N,v]=(0,l.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[b,w]=(0,l.useState)(null),[k,C]=(0,l.useState)(null),[y,_]=(0,l.useState)(null),[S,f]=(0,l.useState)(!0),[L,M]=(0,l.useState)(),[F,T]=(0,l.useState)(0),I=10*F,E=I+10,D=e=>{f(!0),console.log(S),M(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,l.useEffect)((()=>{h&&v((e=>({...e,latitude:h[0].longitude,longitude:h[0].latitude,zoom:12.5})))}),[h]);const J=e=>{let i="asc";k===e&&"asc"===y&&(i="desc"),C(e),_(i);const l=[...s].sort(((s,l)=>isNaN(s[e])||isNaN(l[e])?s[e]<l[e]?"asc"===i?-1:1:s[e]>l[e]?"asc"===i?1:-1:0:"asc"===i?s[e]-l[e]:l[e]-s[e]));t(l)};return(0,l.useEffect)((()=>{var e;s&&j(""===(e=p)?[...s]:s.filter((s=>s.school_name.toLowerCase().includes(e.toLowerCase())||s.local_authority.toLowerCase().includes(e.toLowerCase())||s.school_type.toLowerCase().includes(e.toLowerCase())||s.ofsted_results&&s.ofsted_results.toString().toLowerCase().includes(e.toLowerCase())||s.total_pass_rate&&s.total_pass_rate.toString().toLowerCase().includes(e.toLowerCase())||s.total_top_rate&&s.total_top_rate.toString().toLowerCase().includes(e.toLowerCase())||"short list"===i&&s.within_catchment.toLowerCase().includes(e.toLowerCase())||"short list"===i&&s.walkTimeMin&&s.walkTimeMin.toString().toLowerCase().includes(e.toLowerCase())||"long list"===i&&s.max_distance&&s.max_distance.toString().toLowerCase().includes(e.toLowerCase()))))}),[p,s]),(0,r.jsx)(r.Fragment,{children:s?(0,r.jsxs)("section",{className:"primary-details-section",children:["Table"===m?(0,r.jsxs)("div",{className:"school-block",children:[(0,r.jsxs)("div",{className:"school-table-headers",children:[(0,r.jsx)("h5",{id:"column1",children:"#"}),(0,r.jsxs)("div",{id:"column2",className:"sort-section",onClick:()=>J("school_name"),children:[(0,r.jsx)("h5",{children:"School name"}),(0,r.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,r.jsx)("h5",{id:"column3",children:"Local authority"}),(0,r.jsx)("h5",{id:"column4",children:"Type"}),(0,r.jsxs)("div",{id:"column5",className:"sort-section",onClick:()=>J("ofsted_results"),children:[(0,r.jsx)("h5",{children:"Ofsted"}),(0,r.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,r.jsxs)("div",{id:"column6",className:"sort-section",onClick:()=>J("pupils_at_standard"),children:[(0,r.jsx)("h5",{children:"At standard"}),(0,r.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,r.jsxs)("div",{id:"column7",className:"sort-section",onClick:()=>J("pupils_exceeding_standard"),children:[(0,r.jsx)("h5",{children:"Exceeding standard"}),(0,r.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h5",{id:"column8",children:"Catchment"}),(0,r.jsxs)("div",{id:"column9",className:"sort-section",onClick:()=>J("distance_between"),children:[(0,r.jsx)("h5",{children:"Dist"}),(0,r.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})]}):"long list"===i?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{id:"column8",className:"sort-section",onClick:()=>J("max_distance"),children:[(0,r.jsx)("h5",{children:"Catchment distance"}),(0,r.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})}):""]}),(0,r.jsx)("div",{className:"school-table-details",children:x?x.map(((e,s)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"school-content",children:[(0,r.jsx)("div",{className:"column",id:"column1",children:(0,r.jsx)("h5",{children:s+1})}),(0,r.jsx)("div",{className:"column",id:"column2",children:(0,r.jsx)("h5",{onClick:()=>u(`/agents/primary-schools/${e.id}`),children:e.school_name})}),(0,r.jsx)("div",{className:"column",id:"column3",children:(0,r.jsx)("h5",{children:e.local_authority})}),(0,r.jsx)("div",{className:"column",id:"column4",children:(0,r.jsx)("h5",{children:e.school_type})}),(0,r.jsx)("div",{className:"column",id:"column5",children:(0,r.jsx)("h5",{children:null===e.ofsted_results?"N/a":e.ofsted_results})}),(0,r.jsx)("div",{className:"column",id:"column6",children:"Independent school"===e.school_type?(0,r.jsx)("h5",{children:"N/a"}):(0,r.jsxs)("h5",{children:[Math.round(100*e.pupils_at_standard),"%"]})}),(0,r.jsx)("div",{className:"column",id:"column7",children:"Independent school"===e.school_type?(0,r.jsx)("h5",{children:"N/a"}):(0,r.jsxs)("h5",{children:[Math.round(100*e.pupils_exceeding_standard),"%"]})}),"short list"===i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"column",id:"column8",children:(0,r.jsx)("h5",{children:e.within_catchment})}),(0,r.jsx)("div",{className:"column",id:"column9",children:(0,r.jsxs)("h5",{children:[e.walkTimeMin," mins"]})})]}):"long list"===i?(0,r.jsx)("div",{className:"column",id:"column8",children:null!==e.max_distance?(0,r.jsx)("h5",{children:e.max_distance}):(0,r.jsx)("h5",{children:"Not specified"})}):""]}),(0,r.jsx)("hr",{className:"dividing-line"})]}))).slice(I,E):""})]}):"Map"===m?(0,r.jsx)("div",{className:"school-block",children:(0,r.jsxs)("div",{className:"map-grid-view",children:[(0,r.jsx)("div",{className:"grid-list",children:x?x.map(((e,s)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"school-content",children:(0,r.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:D,children:[(0,r.jsxs)("h5",{className:"title",children:[s+1,". ",e.school_name]}),(0,r.jsxs)("div",{className:"details",children:[(0,r.jsx)("div",{className:"icon",id:"secondaries"}),(0,r.jsx)("h5",{children:e.school_type})]}),(0,r.jsxs)("div",{className:"details",children:[(0,r.jsx)("div",{className:"icon",id:"ofsted"}),(0,r.jsx)("h5",{children:null===e.ofsted_results?"N/a":e.ofsted_results})]}),"short list"===i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"details",children:[(0,r.jsx)("div",{className:"icon",id:"catchment"}),(0,r.jsx)("h5",{children:e.within_catchment})]}),(0,r.jsxs)("div",{className:"details",children:[(0,r.jsx)("div",{className:"icon",id:"distance"}),(0,r.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]})]}):"long list"===i?(0,r.jsxs)("div",{className:"details",children:[(0,r.jsx)("div",{className:"icon",id:"distance"}),(0,r.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,r.jsx)("hr",{className:"dividing-line"})]}))).slice(I,E):""}),(0,r.jsx)("div",{className:"map-section",children:(0,r.jsxs)(c.ZP,{...N,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{v(e)},center:N,onMove:e=>v(e.viewport),className:"profile-map",children:[x&&x.map(((e,s)=>(0,r.jsx)(c.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{return w(s=e),console.log(s.longitude),console.log(s.latitude),void console.log(s.max_distance);var s},children:(0,r.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(I,E),h&&(0,r.jsx)(c.Jx,{id:h[0].id,longitude:h[0].latitude,latitude:h[0].longitude,children:(0,r.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),b&&!["Does not apply","Check","Religion","On request","N/a",null].includes(b.max_distance)?(0,r.jsx)(r.Fragment,{children:"number"===typeof parseFloat(b.longitude)&&"number"===typeof parseFloat(b.latitude)&&"number"===typeof parseFloat(b.max_distance)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(c.Hw,{id:"catchment-area",type:"geojson",data:o.Xwo([parseFloat(b.longitude),parseFloat(b.latitude)],parseFloat(b.max_distance),{units:"kilometers"}),children:[(0,r.jsx)(c.mh,{id:"catchment-area-ring",type:"fill",paint:{"fill-color":"#FFA7E5","fill-opacity":.3}}),(0,r.jsx)(c.mh,{id:"catchment-area-outline",type:"line",paint:{"line-color":"#FFA7E5","line-width":2}})]}),(0,r.jsx)(c.Hw,{id:"radius-line",type:"geojson",data:o.TuJ([[parseFloat(b.longitude),parseFloat(b.latitude)],o.mY0([parseFloat(b.longitude),parseFloat(b.latitude)],parseFloat(b.max_distance),90,{units:"kilometers"}).geometry.coordinates]),children:(0,r.jsx)(c.mh,{id:"radius",type:"line",paint:{"line-color":"#051885","line-width":2,"line-dasharray":[2,1]}})}),(0,r.jsx)(c.Hw,{id:"radius-label",type:"geojson",data:o.mY0([parseFloat(b.longitude),parseFloat(b.latitude)],parseFloat(b.max_distance)/2,90,{units:"kilometers"}),children:(0,r.jsx)(c.mh,{id:"radius-label",type:"symbol",layout:{"text-field":`${b.max_distance} km`,"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12,"text-offset":[0,-1]},paint:{"text-color":"#051885"}})})]}):(0,r.jsx)("p",{children:"Invalid coordinates or distance."})}):b?(0,r.jsx)(c.GI,{longitude:parseFloat(b.longitude),latitude:parseFloat(b.latitude),closeOnClick:!1,className:"item-popup",onClose:()=>w(null),children:(0,r.jsx)("div",{className:"popup-content",children:(0,r.jsx)("div",{className:"popup-border",children:(0,r.jsx)("h5",{className:"title",children:"This school has no catchment area"})})})}):""]})})]})}):"",x?(0,r.jsx)(n(),{pageCount:Math.ceil(x.length/10),onPageChange:e=>{const{selected:s}=e;T(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,r.jsx)("section",{className:"loading-screen",children:(0,r.jsx)(d.Z,{})})})}},82213:function(e,s,i){var l=i(72791),a=i(57689),t=i(96048),n=i.n(t),c=i(34648),o=(i(37879),i(88465),i(74177)),d=i(80184);s.Z=e=>{let{pubs1:s,listType:i,setPubs1:t,postcodeData:r,tableMapView:h}=e;(0,a.s0)();const[m,u]=(0,l.useState)([]),[x,j]=(0,l.useState)(null),[p,g]=(0,l.useState)(null),[N,v]=(0,l.useState)(),[b,w]=(0,l.useState)(""),[k,C]=(0,l.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[y,_]=(0,l.useState)(!0),[S,f]=(0,l.useState)(),[L,M]=(0,l.useState)(0),F=10*L,T=F+10,I=e=>{_(!0),console.log(y),f(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,l.useEffect)((()=>{r&&C((e=>({...e,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=e=>{let i="asc";x===e&&"asc"===p&&(i="desc"),j(e),g(i);const l=[...s].sort(((s,l)=>isNaN(s[e])||isNaN(l[e])?s[e]<l[e]?"asc"===i?-1:1:s[e]>l[e]?"asc"===i?1:-1:0:"asc"===i?s[e]-l[e]:l[e]-s[e]));t(l)};return(0,l.useEffect)((()=>{var e;s&&u(""===(e=b)?[...s]:s.filter((s=>s.name.toLowerCase().includes(e.toLowerCase())||s.operator.toLowerCase().includes(e.toLowerCase())||s.walkTimeMin.toLowerCase().includes(e.toLowerCase()))))}),[b,s]),(0,d.jsx)(d.Fragment,{children:s?(0,d.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,d.jsxs)("div",{className:"school-block",children:[(0,d.jsxs)("div",{className:"school-table-headers",children:[(0,d.jsx)("h5",{id:"column1",children:"#"}),(0,d.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>E("name"),children:[(0,d.jsx)("h5",{children:"Pub name"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===i?(0,d.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,d.jsx)("h5",{children:"Distance"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,d.jsx)("h5",{id:"column4"})]}),(0,d.jsx)("div",{className:"school-table-details",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"school-content",children:[(0,d.jsx)("div",{className:"column",id:"column1",children:(0,d.jsx)("h5",{children:s+1})}),(0,d.jsx)("div",{className:"column gym-name",id:"column2",children:(0,d.jsx)("h5",{children:e.name})}),(0,d.jsx)("div",{className:"column",id:"column4",children:"short list"===i?(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]}):(0,d.jsx)("h5",{})})]}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,d.jsx)("div",{className:"school-block",children:(0,d.jsxs)("div",{className:"map-grid-view",children:[(0,d.jsx)("div",{className:"grid-list",children:m?m.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"school-content",children:(0,d.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:I,children:[(0,d.jsxs)("h5",{className:"title",children:[s+1,". ",e.name]}),"short list"===i?(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"distance"}),(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,d.jsx)("div",{className:"map-section",children:(0,d.jsxs)(c.ZP,{...k,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{C(e)},center:k,onMove:e=>C(e.viewport),className:"profile-map",children:[m&&m.map(((e,s)=>(0,d.jsx)(c.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{return s=e,console.log("selected pub ->",s),void v(s);var s},children:(0,d.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(F,T),r&&(0,d.jsx)(c.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,d.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),N?(0,d.jsx)(c.GI,{longitude:N.longitude,latitude:N.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>v(null),children:(0,d.jsx)("div",{className:"popup-content",children:(0,d.jsxs)("div",{className:"popup-border",children:[(0,d.jsx)("h5",{className:"title",children:N.name}),(0,d.jsxs)("p",{children:["\ud83c\udf7a ",N.operator," pub group"]}),(0,d.jsxs)("p",{children:["\ud83c\udf7a Distance: ",N.walkTimeMin," mins"]})]})})}):""]})})]})}):"",m?(0,d.jsx)(n(),{pageCount:Math.ceil(m.length/10),onPageChange:e=>{const{selected:s}=e;M(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,d.jsx)("section",{className:"loading-screen",children:(0,d.jsx)(o.Z,{})})})}},20264:function(e,s,i){var l=i(72791),a=i(57689),t=i(96048),n=i.n(t),c=i(34648),o=(i(37879),i(88465),i(74177)),d=i(80184);s.Z=e=>{let{restaurants1:s,listType:i,setRestaurants1:t,postcodeData:r,tableMapView:h}=e;(0,a.s0)();const[m,u]=(0,l.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[x,j]=(0,l.useState)(null),[p,g]=(0,l.useState)([]),[N,v]=(0,l.useState)(null),[b,w]=(0,l.useState)(null),[k,C]=(0,l.useState)(""),[y,_]=(0,l.useState)(!0),[S,f]=(0,l.useState)(),[L,M]=(0,l.useState)(0),F=10*L,T=F+10,I=e=>{_(!0),console.log(y),f(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,l.useEffect)((()=>{r&&u((e=>({...e,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=e=>{let i="asc";N===e&&"asc"===b&&(i="desc"),v(e),w(i);const l=[...s].sort(((s,l)=>isNaN(s[e])||isNaN(l[e])?s[e]<l[e]?"asc"===i?-1:1:s[e]>l[e]?"asc"===i?1:-1:0:"asc"===i?s[e]-l[e]:l[e]-s[e]));t(l)};return(0,l.useEffect)((()=>{var e;s&&g(""===(e=k)?[...s]:s.filter((s=>s.restaurant_name.toLowerCase().includes(e.toLowerCase()))))}),[k,s]),(0,d.jsx)(d.Fragment,{children:s?(0,d.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,d.jsxs)("div",{className:"school-block",children:[(0,d.jsxs)("div",{className:"school-table-headers",children:[(0,d.jsx)("h5",{id:"column1",children:"#"}),(0,d.jsxs)("div",{id:"column2",className:"sort-section",onClick:()=>E("restaurant_name"),children:[(0,d.jsx)("h5",{children:"Restaurant name"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,d.jsxs)("div",{id:"column3",className:"sort-section",onClick:()=>E("rating"),children:[(0,d.jsx)("h5",{children:"Rating"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===i?(0,d.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,d.jsx)("h5",{children:"Distance"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,d.jsx)("h5",{id:"column4"}),(0,d.jsx)("h5",{id:"column5",children:"Website"})]}),(0,d.jsx)("div",{className:"school-table-details",children:p?p.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"school-content",children:[(0,d.jsx)("div",{className:"column",id:"column1",children:(0,d.jsx)("h5",{children:s+1})}),(0,d.jsx)("div",{className:"column",id:"column2",children:(0,d.jsx)("h5",{children:e.restaurant_name})}),(0,d.jsx)("div",{className:"column",id:"column3",children:(0,d.jsx)("h5",{children:e.rating>4.8?"Excellent":e.rating>4.5?"Very good":e.rating>4.2?"Good":e.rating>3.9?"Average":e.rating>0?"Poor":"N/a"})}),(0,d.jsx)("div",{className:"column",id:"column4",children:"short list"===i?(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins "]}):(0,d.jsx)("h5",{})}),(0,d.jsx)("div",{className:"column",id:"column5",children:(0,d.jsx)("a",{target:"_blank",rel:"noreferrer",href:e.url,children:"Visit website"})})]}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,d.jsx)("div",{className:"school-block",children:(0,d.jsxs)("div",{className:"map-grid-view",children:[(0,d.jsx)("div",{className:"grid-list",children:p?p.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"school-content",children:(0,d.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:I,children:[(0,d.jsxs)("h5",{className:"title",children:[s+1,". ",e.restaurant_name]}),(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"catchment"}),(0,d.jsx)("h5",{children:e.rating>4.8?"Excellent":e.rating>4.5?"Very good":e.rating>4.2?"Good":e.rating>3.9?"Average":e.rating>0?"Poor":"N/a"})]}),"short list"===i?(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"distance"}),(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,d.jsx)("div",{className:"map-section",children:(0,d.jsxs)(c.ZP,{...m,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{u(e)},center:m,onMove:e=>u(e.viewport),className:"profile-map",children:[p&&p.map(((e,s)=>(0,d.jsx)(c.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{return s=e,console.log("selectd restaurant ->",s),void j(s);var s},children:(0,d.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(F,T),r&&(0,d.jsx)(c.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,d.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),x?(0,d.jsx)(c.GI,{longitude:x.longitude,latitude:x.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>j(null),children:(0,d.jsx)("div",{className:"popup-content",children:(0,d.jsxs)("div",{className:"popup-border",children:[(0,d.jsx)("h5",{className:"title",children:x.restaurant_name}),(0,d.jsx)("p",{children:x.master_cuisine})]})})}):""]})})]})}):"",p?(0,d.jsx)(n(),{pageCount:Math.ceil(p.length/10),onPageChange:e=>{const{selected:s}=e;M(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,d.jsx)("section",{className:"loading-screen",children:(0,d.jsx)(o.Z,{})})})}},39577:function(e,s,i){var l=i(72791),a=i(57689),t=i(96048),n=i.n(t),c=i(34648),o=i(37879),d=(i(88465),i(74177)),r=i(37107),h=i(80184);s.Z=e=>{let{propertyData:s,secondaryData1:i,listType:t,setSecondaryData1:m,postcodeData:u,tableMapView:x,secondaryDetail:j,setSecondaryDetail:p,setSliderSelection:g,setPropertyView:N}=e;(0,a.s0)();const[v,b]=(0,l.useState)([]),[w,k]=(0,l.useState)(null),[C,y]=(0,l.useState)(null),[_,S]=(0,l.useState)(null),[f,L]=(0,l.useState)(""),[M,F]=(0,l.useState)(!0),[T,I]=(0,l.useState)(),[E,D]=(0,l.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[J,G]=(0,l.useState)(0),A=10*J,V=A+10,z=e=>{F(!0),console.log(M),I(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,l.useEffect)((()=>{u&&D((e=>({...e,latitude:u[0].longitude,longitude:u[0].latitude,zoom:12.5})))}),[u]);const Z=e=>{let s="asc";C===e&&"asc"===_&&(s="desc"),y(e),S(s);const l=[...i].sort(((i,l)=>isNaN(i[e])||isNaN(l[e])?i[e]<l[e]?"asc"===s?-1:1:i[e]>l[e]?"asc"===s?1:-1:0:"asc"===s?i[e]-l[e]:l[e]-i[e]));m(l)};(0,l.useEffect)((()=>{var e;i&&b(""===(e=f)?[...i]:i.filter((s=>s.school_name.toLowerCase().includes(e.toLowerCase())||s.local_authority.toLowerCase().includes(e.toLowerCase())||s.school_type.toLowerCase().includes(e.toLowerCase())||s.ofsted_results&&s.ofsted_results.toString().toLowerCase().includes(e.toLowerCase())||s.total_pass_rate&&s.total_pass_rate.toString().toLowerCase().includes(e.toLowerCase())||s.total_top_rate&&s.total_top_rate.toString().toLowerCase().includes(e.toLowerCase())||"short list"===t&&s.within_catchment.toLowerCase().includes(e.toLowerCase())||"short list"===t&&s.walkTimeMin&&s.walkTimeMin.toString().toLowerCase().includes(e.toLowerCase())||"long list"===t&&s.max_distance&&s.max_distance.toString().toLowerCase().includes(e.toLowerCase()))))}),[f,i]);return(0,h.jsx)(h.Fragment,{children:i&&"Table"===j?(0,h.jsxs)("section",{className:"primary-details-section",children:["Table"===x?(0,h.jsxs)("div",{className:"school-block",children:[(0,h.jsxs)("div",{className:"school-table-headers",children:[(0,h.jsx)("h5",{id:"column1",children:"#"}),(0,h.jsxs)("div",{id:"column2",className:"sort-section",onClick:()=>Z("school_name"),children:[(0,h.jsx)("h5",{children:"School name"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,h.jsx)("h5",{id:"column3",children:"Local authority"}),(0,h.jsx)("h5",{id:"column4",children:"Type"}),(0,h.jsxs)("div",{id:"column5",className:"sort-section",onClick:()=>Z("ofsted_results"),children:[(0,h.jsx)("h5",{children:"Ofsted"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,h.jsxs)("div",{id:"column6",className:"sort-section",onClick:()=>Z("total_pass_rate"),children:[(0,h.jsx)("h5",{children:"GCSE pass rate"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,h.jsxs)("div",{id:"column7",className:"sort-section",onClick:()=>Z("total_top_rate"),children:[(0,h.jsx)("h5",{children:"GCSE A/A*"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h5",{id:"column8",children:"Catchment"}),(0,h.jsxs)("div",{id:"column9",className:"sort-section",onClick:()=>Z("distance_between"),children:[(0,h.jsx)("h5",{children:"Dist"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})]}):"long list"===t?(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{id:"column8",className:"sort-section",onClick:()=>Z("max_distance"),children:[(0,h.jsx)("h5",{children:"Catchment distance"}),(0,h.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})}):""]}),(0,h.jsx)("div",{className:"school-table-details",children:v?v.map(((e,s)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"school-content",children:[(0,h.jsx)("div",{className:"column",id:"column1",children:(0,h.jsx)("h5",{children:s+1})}),(0,h.jsx)("div",{className:"column",id:"column2",children:(0,h.jsx)("h5",{onClick:()=>{return s=e.id,N("Details"),p("School"),g("Secondary schools"),window.localStorage.setItem("school-id",s),void console.log(s);var s},children:e.school_name})}),(0,h.jsx)("div",{className:"column",id:"column3",children:(0,h.jsx)("h5",{children:e.local_authority})}),(0,h.jsx)("div",{className:"column",id:"column4",children:(0,h.jsx)("h5",{children:e.school_type})}),(0,h.jsx)("div",{className:"column",id:"column5",children:(0,h.jsx)("h5",{children:null===e.ofsted_results?"N/a":e.ofsted_results})}),(0,h.jsx)("div",{className:"column",id:"column6",children:(0,h.jsx)("h5",{children:null===e.total_pass_rate?"N/a":e.total_pass_rate})}),(0,h.jsx)("div",{className:"column",id:"column7",children:(0,h.jsx)("h5",{children:null===e.total_top_rate?"N/a":e.total_top_rate})}),"short list"===t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"column",id:"column8",children:(0,h.jsx)("h5",{children:e.within_catchment})}),(0,h.jsx)("div",{className:"column",id:"column9",children:(0,h.jsxs)("h5",{children:[e.walkTimeMin," mins"]})})]}):"long list"===t?(0,h.jsx)("div",{className:"column",id:"column8",children:(0,h.jsx)("h5",{children:"Independent school"===e.school_type?"N/a":e.max_distance})}):""]}),(0,h.jsx)("hr",{className:"dividing-line"})]}))).slice(A,V):""})]}):"Map"===x?(0,h.jsx)("div",{className:"school-block",children:(0,h.jsxs)("div",{className:"map-grid-view",children:[(0,h.jsx)("div",{className:"grid-list",children:v?v.map(((e,s)=>(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:"school-content",children:(0,h.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:z,children:[(0,h.jsxs)("h5",{className:"title",children:[s+1,". ",e.school_name]}),(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"secondaries"}),(0,h.jsx)("h5",{children:e.school_type})]}),(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"ofsted"}),(0,h.jsx)("h5",{children:e.ofsted_results})]}),(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"catchment"}),(0,h.jsx)("h5",{children:e.within_catchment})]}),(0,h.jsxs)("div",{className:"details",children:[(0,h.jsx)("div",{className:"icon",id:"distance"}),(0,h.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]})]})}),(0,h.jsx)("hr",{className:"dividing-line"})]}))).slice(A,V):""}),(0,h.jsx)("div",{className:"map-section",children:(0,h.jsxs)(c.ZP,{...E,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{D(e)},center:E,onMove:e=>D(e.viewport),className:"profile-map",children:[v&&v.map(((e,s)=>(0,h.jsx)(c.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{k(e)},children:(0,h.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(A,V),u&&(0,h.jsx)(c.Jx,{id:u[0].id,longitude:u[0].latitude,latitude:u[0].longitude,children:(0,h.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),w&&!["Does not apply","Check","Religion",null].includes(w.max_distance)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(c.Hw,{id:"catchment-area",type:"geojson",data:o.Xwo([w.longitude,w.latitude],w.max_distance,{units:"kilometers"}),children:[(0,h.jsx)(c.mh,{id:"catchment-area-ring",type:"fill",paint:{"fill-color":"#FFA7E5","fill-opacity":.3}}),(0,h.jsx)(c.mh,{id:"catchment-area-outline",type:"line",paint:{"line-color":"#FFA7E5","line-width":2}})]}),(0,h.jsx)(c.Hw,{id:"radius-line",type:"geojson",data:o.TuJ([[w.longitude,w.latitude],o.mY0([w.longitude,w.latitude],w.max_distance,90,{units:"kilometers"}).geometry.coordinates]),children:(0,h.jsx)(c.mh,{id:"radius",type:"line",paint:{"line-color":"#051885","line-width":2,"line-dasharray":[2,1]}})}),(0,h.jsx)(c.Hw,{id:"radius-label",type:"geojson",data:o.mY0([w.longitude,w.latitude],w.max_distance/2,90,{units:"kilometers"}),children:(0,h.jsx)(c.mh,{id:"radius-label",type:"symbol",layout:{"text-field":`${w.max_distance} km`,"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12,"text-offset":[0,-1]},paint:{"text-color":"#051885"}})})]}):w?(0,h.jsx)(c.GI,{longitude:w.longitude,latitude:w.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>k(null),children:(0,h.jsx)("div",{className:"popup-content",children:(0,h.jsx)("div",{className:"popup-border",children:(0,h.jsx)("h5",{className:"title",children:"This school has no catchment area"})})})}):""]})})]})}):"",v?(0,h.jsx)(n(),{pageCount:Math.ceil(v.length/10),onPageChange:e=>{const{selected:s}=e;G(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):"School"===j?(0,h.jsx)(r.default,{}):(0,h.jsx)("section",{className:"loading-screen",children:(0,h.jsx)(d.Z,{})})})}},92514:function(e,s,i){var l=i(72791),a=i(57689),t=i(96048),n=i.n(t),c=i(34648),o=(i(37879),i(88465),i(74177)),d=i(80184);s.Z=e=>{let{propertyData:s,supermarkets1:i,listType:t,setSupermarkets1:r,postcodeData:h,tableMapView:m}=e;(0,a.s0)();const[u,x]=(0,l.useState)([]),[j,p]=(0,l.useState)(),[g,N]=(0,l.useState)(null),[v,b]=(0,l.useState)(null),[w,k]=(0,l.useState)(""),[C,y]=(0,l.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[_,S]=(0,l.useState)(!0),[f,L]=(0,l.useState)(),[M,F]=(0,l.useState)(0),T=10*M,I=T+10,E=e=>{S(!0),console.log(_),L(parseInt(e.target.id)),console.log(parseInt(e.target.id))};(0,l.useEffect)((()=>{h&&y((e=>({...e,latitude:h[0].longitude,longitude:h[0].latitude,zoom:12.5})))}),[h]);const D=e=>{let s="asc";g===e&&"asc"===v&&(s="desc"),N(e),b(s);const l=[...i].sort(((i,l)=>isNaN(i[e])||isNaN(l[e])?i[e]<l[e]?"asc"===s?-1:1:i[e]>l[e]?"asc"===s?1:-1:0:"asc"===s?i[e]-l[e]:l[e]-i[e]));r(l)};return(0,l.useEffect)((()=>{var e;i&&x(""===(e=w)?[...i]:i.filter((s=>s.cleansed_name.toLowerCase().includes(e.toLowerCase())||s.segment.toLowerCase().includes(e.toLowerCase())||s.size.toLowerCase().includes(e.toLowerCase()))))}),[w,i]),(0,d.jsx)(d.Fragment,{children:i?(0,d.jsxs)("section",{className:"primary-details-section",children:["Table"===m?(0,d.jsxs)("div",{className:"school-block",children:[(0,d.jsxs)("div",{className:"school-table-headers",children:[(0,d.jsx)("h5",{id:"column1",children:"#"}),(0,d.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>D("supermarket_store_name"),children:[(0,d.jsx)("h5",{children:"Supermarket name"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,d.jsxs)("div",{id:"column3",className:"sort-section supermarket",onClick:()=>D("segment"),children:[(0,d.jsx)("h5",{children:"Segment"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,d.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>D("store_size"),children:[(0,d.jsx)("h5",{children:"Size"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===t?(0,d.jsxs)("div",{id:"column5",className:"sort-section",onClick:()=>D("walkTimeMin"),children:[(0,d.jsx)("h5",{children:"Distance"}),(0,d.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,d.jsx)("h5",{id:"column5"})]}),(0,d.jsx)("div",{className:"school-table-details",children:u?u.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"school-content",children:[(0,d.jsx)("div",{className:"column",id:"column1",children:(0,d.jsx)("h5",{children:s+1})}),(0,d.jsx)("div",{className:"column gym-name",id:"column2",children:(0,d.jsx)("h5",{children:e.supermarket_store_name})}),(0,d.jsx)("div",{className:"column supermarket",id:"column3",children:(0,d.jsx)("h5",{children:e.segment})}),(0,d.jsx)("div",{className:"column",id:"column4",children:(0,d.jsx)("h5",{children:e.store_size})}),(0,d.jsx)("div",{className:"column",id:"column5",children:"short list"===t?(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]}):(0,d.jsx)("h5",{})})]}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(T,I):""})]}):"Map"===m?(0,d.jsx)("div",{className:"school-block",children:(0,d.jsxs)("div",{className:"map-grid-view",children:[(0,d.jsx)("div",{className:"grid-list",children:u?u.map(((e,s)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"school-content",children:(0,d.jsxs)("div",{className:"grid-right",id:e.id,onMouseEnter:E,children:[(0,d.jsxs)("h5",{className:"title",children:[s+1,". ",e.supermarket_store_name]}),(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"supermarkets"}),(0,d.jsx)("h5",{children:e.store_size})]}),"short list"===t?(0,d.jsxs)("div",{className:"details",children:[(0,d.jsx)("div",{className:"icon",id:"distance"}),(0,d.jsxs)("h5",{children:[e.walkTimeMin," mins"]})]}):""]})}),(0,d.jsx)("hr",{className:"dividing-line"})]}))).slice(T,I):""}),(0,d.jsx)("div",{className:"map-section",children:(0,d.jsxs)(c.ZP,{...C,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:e=>{y(e)},center:C,onMove:e=>y(e.viewport),className:"profile-map",children:[u&&u.map(((e,s)=>(0,d.jsx)(c.Jx,{id:e.id,longitude:e.longitude,latitude:e.latitude,onClick:()=>{return s=e,console.log("selectd supermarket ->",s),void p(s);var s},children:(0,d.jsx)("div",{className:"poi-background",children:s+1})},s))).slice(T,I),h&&(0,d.jsx)(c.Jx,{id:h[0].id,longitude:h[0].latitude,latitude:h[0].longitude,children:(0,d.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),j?(0,d.jsx)(c.GI,{longitude:j.longitude,latitude:j.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>p(null),children:(0,d.jsx)("div",{className:"popup-content",children:(0,d.jsxs)("div",{className:"popup-border",children:[(0,d.jsx)("h5",{className:"title",children:j.supermarket_store_name}),(0,d.jsx)("p",{children:j.store_size})]})})}):""]})})]})}):"",u?(0,d.jsx)(n(),{pageCount:Math.ceil(u.length/10),onPageChange:e=>{const{selected:s}=e;F(s)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,d.jsx)("section",{className:"loading-screen",children:(0,d.jsx)(o.Z,{})})})}},57837:function(e,s,i){e.exports=i.p+"static/media/new-loading.a788dadda3b120785a81.gif"}}]);
//# sourceMappingURL=389.2cfbbed4.chunk.js.map