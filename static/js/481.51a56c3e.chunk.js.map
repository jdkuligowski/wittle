{"version":3,"file":"static/js/481.51a56c3e.chunk.js","mappings":"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","sources":["components/helpers/Loading.js","components/tools/NavBar.js","components/tools/WhiteNavbar.js","components/helpers/ImageSlider.js","components/helpers/modals/Favouriting.js","components/helpers/modals/Heatmap.js","components/helpers/modals/EditSearch.js","components/helpers/modals/MatchInsights.js","components/helpers/modals/AllPropertiesMap.js","../node_modules/react-infinite-scroll-component/node_modules/tslib/tslib.es6.js","../node_modules/react-infinite-scroll-component/node_modules/throttle-debounce/dist/index.esm.js","components/wittleSearch/resultBlocks.js/PropertyResultsWittle.js","components/wittleSearch/resultBlocks.js/propertyComponents/PropertyDetails.js","../node_modules/react-lazyload/lib/index.js","../node_modules/react-lazyload/lib/utils/debounce.js","../node_modules/react-lazyload/lib/utils/event.js","../node_modules/react-lazyload/lib/utils/scrollParent.js","../node_modules/react-lazyload/lib/utils/throttle.js"],"sourcesContent":["import React from 'react'\n\nconst Loading = () => (\n  <div className=\"loading-gif\">\n    <img src={require('../../styles/loading-gif-2.gif')} alt=\"loading gif\"/>\n  </div>\n)\n\nexport default Loading","import { useNavigate, Link } from 'react-router-dom'\nimport React, { useState, useEffect, useRef } from 'react'\nimport axios from 'axios'\nimport { isUserAuth, getUserToken, getAccessToken } from '../auth/Auth'\nimport Select from 'react-select'\nimport { Modal } from 'react-bootstrap'\nimport { GoogleLogin } from '@react-oauth/google'\nimport { isEmail, isLength, matches } from 'validator'\nimport MenuModal from '../helpers/modals/MenuModal'\n\n\nconst NavBar = ({ navbarColour }) => {\n\n  // remove login token from storage\n  const removeItemFromStorage = (token) => {\n    localStorage.removeItem('wittle-user-token')\n    localStorage.removeItem('wittle-username')\n    window.location.reload()\n    setIsActive(false)\n  }\n\n  // state to enable navigation between pages\n  const navigate = useNavigate()\n\n  // state to manage navbar colour depending on page\n  // const [navbarColour, setNavBarColour] = useState('#051885')\n\n  const dropdownRef = useRef(null)\n  // const [isActive, setIsActive] = useDetectOutsideClick(dropdownRef, false)\n  const [isActive, setIsActive] = useState(false)\n  const openDropdown = () => setIsActive(!isActive)\n\n\n  // ? Section for login form detail within navbar\n  // set form data required for login\n\n  const [errors, setErrors] = useState({\n    email: '',\n    // username: '',\n    password: '',\n    passwordConfirmation: '',\n    // first_name: '',\n    // last_name: '',\n  })\n\n  // function for setting user to local storage when log in is successful\n  const setUserTokenToLocalStorage = (token) => {\n    window.localStorage.setItem('wittle-user-token', token)\n  }\n\n  // send form to back end to log in\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    try {\n      const { data } = await axios.post('/api/auth/login/', registerData)\n      console.log(registerData)\n      setUserTokenToLocalStorage(data.token)\n      //console.log(data.token)\n      console.log({ data })\n      window.localStorage.setItem('wittle-username', data.username)\n      console.log('username ->', data.username)\n      navigate('/')\n    } catch (error) {\n      setErrors(true)\n    }\n  }\n\n  // update form dtail when logging in\n  const handleChange = (e) => {\n    setRegisterData({ ...registerData, [e.target.name]: e.target.value })\n    setErrors(false)\n  }\n\n  // state for determining password state type\n  const [loginPasswordType, setLoginPasswordType] = useState('password')\n  const [registerPasswordType, setRegisterPasswordType] = useState('password')\n\n  // password reveal button\n  const passwordReveal = () => {\n    if (loginPasswordType === 'password') {\n      setLoginPasswordType('text')\n    } else {\n      setLoginPasswordType('password')\n    }\n  }\n\n  // password reveal button\n  const passwordRegisterReveal = () => {\n    if (registerPasswordType === 'password') {\n      setRegisterPasswordType('text')\n    } else {\n      setRegisterPasswordType('password')\n    }\n  }\n\n  // ? Menu modal\n  // state for the menu modal\n  const [menuShow, setMenuShow] = useState(false)\n\n  // close modal\n  const handleMenuClose = () => {\n    setMenuShow(false)\n  }\n\n  // open modal\n  const handleMenuShow = () => {\n    setMenuShow(true)\n  }\n\n  // ? Registration modal\n  // set state for showing insights modal\n  const [registerShow, setRegisterShow] = useState(false)\n\n  // close modal\n  const handleRegisterClose = () => {\n    setRegisterShow(false)\n  }\n\n  // show the modal\n  const handleRegisterShow = () => {\n    setRegisterShow(true)\n  }\n\n  // register data\n  const [registerData, setRegisterData] = useState({\n    email: '',\n    username: '',\n    password: '',\n    password_confirmation: '',\n    first_name: '',\n    last_name: '',\n  })\n\n  // register data erros\n  const [registerError, setRegisterError] = useState({\n    email: '',\n    username: '',\n    password: '',\n    password_confirmation: '',\n    first_name: '',\n    last_name: '',\n    post: '',\n  })\n\n  // function to validate the password\n  const validatePassword = (password) => {\n    const minLength = 8\n    const hasUppercase = matches(password, /[A-Z]/)\n    const hasLowercase = matches(password, /[a-z]/)\n    const hasDigit = matches(password, /\\d/)\n    const hasSpecialChar = matches(password, /[^A-Za-z0-9]/)\n\n    if (!isLength(password, { min: minLength })) {\n      return 'Password must be at least 8 characters long'\n    }\n    if (!hasUppercase) {\n      return 'Password must contain at least one uppercase letter'\n    }\n    if (!hasLowercase) {\n      return 'Password must contain at least one lowercase letter'\n    }\n    if (!hasDigit) {\n      return 'Password must contain at least one digit'\n    }\n    if (!hasSpecialChar) {\n      return 'Password must contain at least one special character'\n    }\n    return ''\n  }\n\n  // update registration data and enter errors where relevant\n  const registerChange = (e) => {\n    setRegisterData({ ...registerData, [e.target.name]: e.target.value })\n    if (!isEmail(registerData.email)) {\n      setRegisterError({ ...registerError, email: 'Invalid email address' })\n\n    } else if (e.target.name === 'first_name') {\n      if (e.target.value.length < 1) {\n        setRegisterError({ ...registerError, first_name: 'Add first name' })\n      } else {\n        setRegisterError({ ...registerError, first_name: '' })\n      }\n\n    } else if (e.target.name === 'last_name') {\n      if (e.target.value.length < 1) {\n        setRegisterError({ ...registerError, last_name: 'Add last name' })\n      } else {\n        setRegisterError({ ...registerError, last_name: '' })\n      }\n\n    } else if (e.target.name === 'username') {\n      if (e.target.value.length < 1) {\n        setRegisterError({ ...registerError, username: 'Add username' })\n      } else {\n        setRegisterError({ ...registerError, username: '' })\n      }\n\n    } else if (e.target.name === 'password') {\n      const passwordError = validatePassword(e.target.value)\n      setRegisterError({ ...registerError, password: passwordError })\n\n    } else if (e.target.name === 'password_confirmation') {\n      if (e.target.value !== registerData.password) {\n        setRegisterError({ ...registerError, password_confirmation: 'Passwords don\\'t match' })\n      } else {\n        setRegisterError({ ...registerError, password_confirmation: '' })\n      }\n    }\n  }\n\n  // submit registration form\n  const registerSubmit = async (e) => {\n    e.preventDefault()\n    try {\n      await axios.post('/api/auth/register/', registerData)\n      const { data } = await axios.post('/api/auth/login/', registerData)\n      setUserTokenToLocalStorage(data.token)\n      window.localStorage.setItem('wittle-username', data.username)\n      console.log('username ->', data.username)\n      handleRegisterClose()\n      setRegisterData()\n    } catch (err) {\n      console.log(err)\n      setRegisterError({ ...registerError, post: 'Wittle account with this email already exists' })\n    }\n  }\n\n\n  const responseMessage = (response) => {\n    console.log(response)\n  }\n\n  const errorMessage = (error) => {\n    console.log(error)\n  }\n\n\n  // post google information for authentication\n  const googleLogin = async (response) => {\n    try {\n      // await axios.post('/api/auth/google/', registerData)\n      const auth = { 'auth_token': response.credential }\n      console.log(auth)\n      const { data } = await axios.post('/api/auth/google/', {\n        body: JSON.stringify(auth),\n      })\n      console.log(data)\n    } catch (err) {\n      setErrors(err)\n      console.log(err)\n      console.log(err.response.data)\n    }\n  }\n\n  return (\n    <>\n      <section className='nav-section' style={{ backgroundColor: navbarColour }}>\n        <div className='left-section'>\n          <div className='logo'>\n            <h2 onClick={() => navigate('/')}>Wittle</h2>\n            {/* <div className='logo-image'></div> */}\n          </div>\n          <h4 onClick={() => navigate('/agents')} className='agent-button'>For agents</h4>\n        </div>\n        <div className='menu-container' onClick={handleMenuShow}>\n          <div className=\"menu-trigger\">\n            <span>\n              <div className='burger-icon'>\n                <hr className='burger-icon-line' />\n                <hr className='burger-icon-line' />\n                <hr className='burger-icon-line' />\n              </div>\n            </span>\n          </div>\n        </div>\n      </section>\n      <MenuModal\n        menuShow={menuShow}\n        setMenuShow={setMenuShow}\n        handleMenuClose={handleMenuClose}\n        removeItemFromStorage={removeItemFromStorage}\n      />\n    </>\n  )\n\n}\n\nexport default NavBar","import { useNavigate, Link } from 'react-router-dom'\nimport React, { useState, useEffect, useRef } from 'react'\nimport axios from 'axios'\nimport { isUserAuth, getUserToken, getAccessToken } from '../auth/Auth'\nimport Select from 'react-select'\nimport { Modal } from 'react-bootstrap'\nimport { GoogleLogin } from '@react-oauth/google'\nimport { isEmail, isLength, matches } from 'validator'\nimport MenuModal from '../helpers/modals/MenuModal'\n\n\nconst WhiteNavbar = ({ navbarColour }) => {\n\n  // remove login token from storage\n  const removeItemFromStorage = (token) => {\n    localStorage.removeItem('wittle-user-token')\n    localStorage.removeItem('wittle-username')\n    window.location.reload()\n  }\n\n  // state to enable navigation between pages\n  const navigate = useNavigate()\n\n\n  return (\n    <>\n      <section className='nav-section no-print' style={{ backgroundColor: navbarColour }}>\n        <div className='left-section'>\n          <div className='logo'>\n            <h2 onClick={() => navigate('/')}>Wittle</h2>\n            {/* <div className='logo-image'></div> */}\n          </div>\n        </div>\n    \n        {isUserAuth() ?\n          <div className=\"menu-container\" >\n            <h3 className='cta' onClick={removeItemFromStorage}><a>Sign out</a></h3>\n          </div>\n\n          :\n          <div className=\"menu-container\" >\n            <h3 className='cta' onClick={() => navigate('/login')}><a>Sign in</a></h3>\n          </div>\n\n        }\n      </section>\n\n    </>\n  )\n\n}\n\nexport default WhiteNavbar","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport 'react-slideshow-image/dist/styles.css'\nimport { Slide } from 'react-slideshow-image'\nimport { NumericFormat } from 'react-number-format'\n// import { getUserToken, getAccessToken, isUserAuth } from '../../auth/Auth'\n\n\n\nconst ImageSlider = ({ calc10, formData, listFavourites, postFavourite }) => {\n\n  // // state for determining whether a property is favoruited - this is used on the conditional for adding/deleting a favourite\n  // const [listFavourites, setListFavourites] = useState()\n\n  // // ? Section 8: FAVOURITES - section toi handle favouriting and deleting properties from favourites\n  // // Favorite button handler\n  // const [favouriteError, setFavouriteError] = useState()\n\n  // const postFavourite = async (e) => {\n  //   if (isUserAuth())\n  //     if (listFavourites.includes(parseInt(e.target.id)))\n  //       try {\n  //         console.log('deleting favourite')\n  //         const { data } = await axios.delete(`/api/favourites/${parseInt(e.target.id)}/`, {\n  //           headers: {\n  //             Authorization: `Bearer ${getAccessToken()}`,\n  //           },\n  //         })\n  //         loadUserData()\n  //       } catch (error) {\n  //         console.log(error)\n  //       }\n  //     else\n  //       try {\n  //         const propertyData = calc10.filter(property => {\n  //           return property.id === parseInt(e.target.id)\n  //         })\n  //         console.log('property to favourite', propertyData)\n  //         console.log('form data to favourite ->', formData)\n  //         const additionalData =\n  //         {\n  //           favourite: true,\n  //           property: e.target.id,\n  //           owner: parseInt(userData.id),\n  //           property_name: propertyData[0].property_name,\n  //           restaurant_score: propertyData[0].final_restaurant,\n  //           takeaway_score: propertyData[0].final_takeaway,\n  //           pubs_score: propertyData[0].final_pub,\n  //           cafes_score: propertyData[0].final_cafe,\n  //           tube_score: propertyData[0].final_tube,\n  //           train_score: propertyData[0].final_train,\n  //           primary_score: propertyData[0].final_primary,\n  //           secondary_score: propertyData[0].final_secondary,\n  //           college_score: propertyData[0].final_college,\n  //           supermarket_score: propertyData[0].final_supermarket,\n  //           gym_score: propertyData[0].final_gym,\n  //           park_score: propertyData[0].final_park,\n  //           workplace_score: propertyData[0].final_workplace,\n  //           family1_score: propertyData[0].final_family1,\n  //           total_score: propertyData[0].first_match,\n  //           restaurant_input: formData.restaurant_distance,\n  //           takeaway_input: formData.takeaway_distance,\n  //           pubs_input: formData.pubs_distance,\n  //           cafes_input: formData.cafes_distance,\n  //           tube_input: formData.tube_distance,\n  //           train_input: formData.train_distance,\n  //           primary_input: formData.primary_distance,\n  //           secondary_input: formData.secondary_distance,\n  //           college_input: formData.college_distance,\n  //           supermarket_input: formData.supermarket_distance,\n  //           gym_input: formData.gym_distance,\n  //           park_input: formData.park_distance,\n  //           workplace_input: formData.workplace_distance,\n  //           friends_input: formData.family_distance_1,\n  //           restaurant_selection: formData.restaurant_selection,\n  //           takeaway_selection: formData.takeaway_selection,\n  //           pubs_selection: formData.pubs_selection,\n  //           cafes_selection: formData.cafes_selection,\n  //           tube_selection: formData.tube_selection,\n  //           train_selection: formData.train_selection,\n  //           primary_selection: formData.primary_selection,\n  //           secondary_selection: formData.secondary_selection,\n  //           college_selection: formData.college_selection,\n  //           supermarket_selection: formData.supermarket_selection,\n  //           gym_selection: formData.gym_selection,\n  //           park_selection: formData.park_selection,\n  //           workplace_selection: formData.workplace_selection,\n  //           friends_selection: formData.family_selection,\n  //         }\n  //         const { data } = await axios.post('/api/favourites/', additionalData, {\n  //           headers: {\n  //             Authorization: `Bearer ${getAccessToken()}`,\n  //           },\n  //         })\n  //         console.log('favourited data ->', data)\n  //         loadUserData()\n  //       } catch (error) {\n  //         console.log(error)\n  //       }\n  //   else\n  //     try {\n  //       setFavouriteError(true)\n  //       console.log('must have an account to favourite')\n  //     } catch (error) {\n  //       console.log('error')\n  //     }\n  // }\n\n\n  return (\n    <>\n\n\n      <Slide className='slide-import' autoplay={false} transitionDuration={750} arrows={true} indicators={true}>\n        {calc10.map((property, index) => {\n          {\n            property.property_images.map((images, index) => {\n              return (\n                <>\n                  <div className='image-card' id={property.id} style={{ backgroundImage: `url('${images.url}')` }} key={index}>\n                    <div className='property-image-details'>\n                      {formData.search_channel === 'Renting' ?\n                        <h3><NumericFormat value={property.monthly} displayType={'text'} thousandSeparator={true} prefix={'£'} /> pcm</h3>\n                        :\n                        <h3>Fixed Price: <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </h3>\n                      }\n                    </div>\n                    {listFavourites ?\n                      <div className='favourite-section' id={property.id} onClick={postFavourite}>\n                        {listFavourites.includes(property.id) ?\n                          <div className='favourite-button-on' id={property.id} ></div>\n                          :\n                          <div className='favourite-button-off' id={property.id} ></div>\n                        }\n                      </div>\n                      : ''}\n                  </div>\n                </>\n              )\n            })\n          }\n        })\n        }\n      </Slide>\n\n\n    </>\n  )\n\n}\n\n\nexport default ImageSlider","import React, { useState, useEffect } from 'react'\nimport { NumericFormat } from 'react-number-format'\nimport { Modal, ModalBody } from 'react-bootstrap'\nimport { useParams, useNavigate, Link } from 'react-router-dom'\n\n\n\nconst Favouriting = ({ favouritingShow, handleFavouriteClose, favourited, otherFavourites,\n  currentFavInfo, otherFavInfo, deleteShow, handleDeleteClose,\n  favouriteAuth, handleFavAuthClose, deleted }) => {\n\n\n\n  return (\n    <>\n      <Modal show={favouritingShow} onHide={handleFavouriteClose} backdrop='static' className='favouriting-modal'>\n        <ModalBody>\n          <div className='favourite-modal-body'>\n            <div className='favourites-title'>\n              <h1 className='title-message'>😎 Property saved</h1>\n              <h1 className='closing-x' onClick={handleFavouriteClose}>x</h1>\n            </div>\n\n            {favourited ?\n              <div className='favourites-recent'>\n                {favourited.map((property, index) => {\n                  return (\n                    <>\n                      <div className='favourite-property' key={index}>\n                        <Link to={(`/wittle-results/${property.id}`)}>\n                          <div className='property-image' style={{ backgroundImage: `url('${property.property_image_1}')` }}></div>\n                        </Link>\n                        <div className='property-content'>\n                          <h3>🏠 {property.property_name}</h3>\n                          <h3>🔥 {currentFavInfo.total_score}% match</h3>\n                          <h3 key={index}>🔎 Original search: {currentFavInfo.search_name}</h3>\n                          <h3>💷 <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /></h3>\n                          <h3>🛌 {property.bedrooms} bedrooms</h3>\n                        </div>\n                      </div>\n                    </>\n                  )\n                })}\n\n              </div>\n              : ''\n            }\n            <hr className='favourite-section-splitter' />\n            {otherFavourites ?\n              <div className='favourites-other'>\n                <h1 className='title-message'>🏠 {otherFavourites.length} other saved properties</h1>\n                {otherFavourites.map((property, index) => {\n                  return (\n                    <>\n                      <div className='favourite-property' key={index}>\n                        <Link to={(`/wittle-results/${property.id}`)}>\n                          <div className='property-image' style={{ backgroundImage: `url('${property.property_image_1}')` }}></div>\n                        </Link>\n                        <div className='property-content'>\n                          <h3>🏠 {property.property_name}</h3>\n                          {otherFavInfo.map((fav, index) => {\n                            return (\n                              fav.property === property.id ?\n                                <>\n                                  <h3>🔥 {fav.total_score}% match</h3>\n                                  <h3 key={index}>🔎 Original search: {fav.search_name}</h3>\n                                </>\n                                : ''\n                            )\n                          })}\n                          <h3>💷 <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /></h3>\n                          <h3>🛌 {property.bedrooms} bedrooms</h3>\n                        </div>\n                      </div>\n                      <hr className='favourite-property-splitter' />\n\n                    </>\n                  )\n                })}\n\n              </div>\n              : ''\n            }\n          </div>\n        </ModalBody>\n      </Modal>\n\n\n      <Modal show={favouriteAuth} onHide={handleFavAuthClose} backdrop='static' className='favourite-auth-modal'>\n        <ModalBody>\n          <div className='favourite-modal-body'>\n            <div className='favourites-title'>\n              <h1 className='title-message'>😬 Oops! </h1>\n              <h1 className='closing-x' onClick={handleFavAuthClose}>x</h1>\n            </div>\n            <div className='favourites-non-auth'>\n              <h3>Only fully fledged Wittlers can save properties.</h3>\n              {/* <div className='non-auth-buttons'>\n                <button>Sign in</button>\n                <button>Register</button>\n              </div> */}\n            </div>\n\n\n          </div>\n        </ModalBody>\n      </Modal>\n\n      <Modal show={deleteShow} onHide={handleDeleteClose} backdrop='static' className='deleting-modal'>\n        <ModalBody>\n          <div className='favourite-modal-body'>\n            <div className='favourites-title'>\n              <h1 className='title-message'>🗑 Property deleted</h1>\n              <h1 className='closing-x' onClick={handleDeleteClose}>x</h1>\n            </div>\n\n            {deleted ?\n              <div className='favourites-recent'>\n                {deleted.map((property, index) => {\n                  return (\n                    <>\n                      <div className='favourite-property' key={index}>\n                        <Link to={(`/wittle-results/${property.id}`)}>\n                          <div className='property-image' style={{ backgroundImage: `url('${property.property_image_1}')` }}></div>\n                        </Link>\n                        <div className='property-content'>\n                          <h3>🏠 {property.property_name}</h3>\n                          <h3>🔥 {property.first_match}% match</h3>\n                          <h3 key={index}>🔎 Original search: {currentFavInfo.search_name}</h3>\n                          <h3>💷 <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /></h3>\n                          <h3>🛌 {property.bedrooms} bedrooms</h3>\n                        </div>\n                      </div>\n                    </>\n                  )\n                })}\n\n              </div>\n              : ''\n            }\n          </div>\n        </ModalBody>\n      </Modal>\n    </>\n  )\n}\n\n\nexport default Favouriting","import React from 'react'\nimport 'react-slideshow-image/dist/styles.css'\nimport { NumericFormat } from 'react-number-format'\nimport { Modal } from 'react-bootstrap'\n\n\nconst Heatmap = ({ calc11, heatmapShow, handleHeatmapClose, handleHeatmapShow }) => {\n\n\n  // // set state for showing edit modal\n  // const [heatmapShow, setHeatmapShow] = useState(false)\n\n  // // close modal\n  // const handleHeatmapClose = () => {\n  //   setHeatmapShow(false)\n  // }\n\n  // // show the modal\n  // const handleHeatmapShow = (e) => {\n  //   setHeatmapShow(true)\n  // }\n\n  return (\n    <>\n      <Modal show={heatmapShow} onHide={handleHeatmapClose} backdrop='static' className='heatmap-details'>\n        <Modal.Body>\n          <div className='heatmap-overall'>\n            {calc11 ?\n              <>\n                <div className='heatmap-rows'>\n                  <h2>Properties</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-names'>{property.index}</p>\n                        </div>\n                      </div>\n                    )\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Restaurants</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.restaurant_rank_perc}>\n                        <div className='heatmap-property-title' >\n                          <p className='property-numbers'>{property.restaurant_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Pubs</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.pub_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.pub_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Cafes</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.cafe_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.cafe_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Takeaways</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.takeaway_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.takeaway_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Gyms</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.gym_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.gym_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Supermarkets</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.supermarket_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.supermarket_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Parks</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.park_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.park_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Tubes</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.tube_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.tube_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n              </>\n              : ''}\n          </div>\n        </Modal.Body>\n      </Modal>\n    </>\n  )\n}\n\nexport default Heatmap","import React, { useState, useEffect, useRef } from 'react'\nimport 'react-slideshow-image/dist/styles.css'\nimport { NumericFormat } from 'react-number-format'\nimport { Modal } from 'react-bootstrap'\nimport { useParams, useNavigate, Link } from 'react-router-dom'\n\nimport axios from 'axios'\nimport { isUserAuth, getUserToken, getAccessToken } from '../../auth/Auth'\n\n\n\nconst EditSearch = ({ editSearch, setEditSearch, handleSearchClose, searchShow, calc10, formData, setFormData, setErrors, editShow, setEditShow, handleEditClose, handleEditShow }) => {\n\n\n  // state to enable navigation between pages\n  const navigate = useNavigate()\n\n  // state for determining whether a property is favoruited - this is used on the conditional for adding/deleting a favourite\n  const [listFavourites, setListFavourites] = useState()\n\n  // state to collect properties\n  const [properties, setProperties] = useState()\n\n  // state to collect the user information\n  const [userData, setUserData] = useState([])\n\n  // state for extracting the users searches from user data\n  const [propertySearch, setPropertySearch] = useState({})\n\n  // set first run of the form data\n  const [initialForm, setInitialForm] = useState()\n\n  // adsitional state for testing - used for extracting the results from state when saved there\n  const [localProp, setLocalProp] = useState()\n\n  // another state for properties - this is used as the final property list before calculations are carried out\n  const [finalProp, setFinalProp] = useState()\n\n  // loadinig user information\n  const loadUserData = async () => {\n    if (isUserAuth())\n      try {\n        const { data } = await axios.get(`/api/auth/profile/${getUserToken()}/`, {\n          headers: {\n            Authorization: `Bearer ${getAccessToken()}`,\n          },\n        })\n        setPropertySearch(data.property_search_details)\n        console.log('property search array ->', data.property_search_details)\n        setUserData(data)\n        console.log('userdata ->', data)\n        const favouriteList = []\n        data.favourites.forEach(item => favouriteList.includes(item.property) ? '' : favouriteList.push(item.property))\n        setListFavourites(favouriteList)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    else\n      try {\n        const { data } = await axios.get('/api/auth/profile/xplw7aq5r/AdminData/')\n        setPropertySearch(data.property_search_details)\n        console.log('property search array ->', data.property_search_details)\n        setUserData(data)\n        console.log('userdata ->', data)\n        const favouriteList = []\n        data.favourites.forEach(item => favouriteList.includes(item.property) ? '' : favouriteList.push(item.property))\n        setListFavourites(favouriteList)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    const input = JSON.parse(localStorage.getItem('wittle-form-input'))\n    setInitialForm(input)\n    console.log('initial form ->', input)\n  }\n\n  // loadnig property data\n  const getProperties = async () => {\n    if (!localProp)\n      try {\n        const { data } = await axios.get('/api/properties/results')\n        setProperties(data)\n        console.log('property data ->', data)\n        setResultsToLocalStorage()\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n  }\n\n  // define function for setting results to storage\n  const setResultsToLocalStorage = (token) => {\n    window.localStorage.setItem('wittle-results', JSON.stringify(localProp))\n    setFinalProp(localProp)\n  }\n\n  // function for posting an edit to the search\n  const postEditSearch = async (e) => {\n    try {\n      const formData = {\n        owner: editSearch.owner,\n        start_search: editSearch.start_search,\n        search_name: editSearch.search_name,\n        search_type: 'Wittle',\n        search_channel: editSearch.search_channel,\n        restaurant_selection: editSearch.restaurant_selection,\n        restaurant_decision: editSearch.restaurant_decision,\n        restaurant_distance: editSearch.restaurant_distance,\n        restaurant_cuisine_1: editSearch.restaurant_cuisine_1,\n        restaurant_cuisine_2: editSearch.restaurant_cuisine_2,\n        takeaway_selection: editSearch.takeaway_selection,\n        takeaway_decision: editSearch.takeaway_decision,\n        takeaway_distance: editSearch.takeaway_distance,\n        takeaway_cuisine_1: editSearch.takeaway_cuisine_1,\n        takeaway_cuisine_2: editSearch.takeaway_cuisine_2,\n        pubs_selection: editSearch.pubs_selection,\n        pubs_distance: editSearch.pubs_distance,\n        cafes_selection: editSearch.cafes_selection,\n        cafes_decision: editSearch.cafes_decision,\n        cafes_detail: editSearch.cafes_detail,\n        cafes_distance: editSearch.cafes_distance,\n        tube_selection: editSearch.tube_selection,\n        tube_decision: editSearch.tube_decision,\n        tube_detail: editSearch.tube_detail,\n        tube_distance: editSearch.tube_distance,\n        train_selection: editSearch.train_selection,\n        train_decision: editSearch.train_decision,\n        train_detail: editSearch.train_detail,\n        train_distance: editSearch.train_distance,\n        primary_selection: editSearch.primary_selection,\n        primary_religion: editSearch.primary_religion,\n        primary_mode: editSearch.primary_mode,\n        primary_distance: editSearch.primary_distance,\n        college_selection: editSearch.college_selection,\n        college_religion: editSearch.college_religion,\n        college_mode: editSearch.college_mode,\n        college_distance: editSearch.college_distance,\n        secondary_selection: editSearch.secondary_selection,\n        secondary_religion: editSearch.secondary_religion,\n        secondary_mode: editSearch.secondary_mode,\n        secondary_distance: editSearch.secondary_distance,\n        supermarket_selection: editSearch.supermarket_selection,\n        supermarket_decision: editSearch.supermarket_decision,\n        supermarket_segment: editSearch.supermarket_segment,\n        supermarket_size: editSearch.supermarket_size,\n        supermarket_distance: editSearch.supermarket_distance,\n        gym_selection: editSearch.gym_selection,\n        gym_studio_name: editSearch.gym_studio_name,\n        gym_class_type: editSearch.gym_class_type,\n        gym_distance: editSearch.gym_distance,\n        park_selection: editSearch.park_selection,\n        park_type: editSearch.park_type,\n        park_distance: editSearch.park_distance,\n        workplace_selection: editSearch.workplace_selection,\n        workplace_detail: editSearch.workplace_detail,\n        workplace_transport: editSearch.workplace_transport,\n        workplace_distance: editSearch.workplace_distance,\n        family_selection: editSearch.family_selection,\n        family_detail_1: editSearch.family_detail_1,\n        family_distance_1: editSearch.family_distance_1,\n        family_detail_2: editSearch.family_detail_2,\n        family_distance_2: editSearch.family_distance_2,\n        family_detail_3: editSearch.family_detail_3,\n        family_distance_3: editSearch.family_distance_3,\n        family_mode_1: editSearch.family_mode_1,\n        family_mode_2: editSearch.family_mode_2,\n        family_mode_3: editSearch.family_mode_3,\n        property_price_min: editSearch.property_price_min,\n        property_price_max: editSearch.property_price_max,\n        property_bed_min: editSearch.property_bed_min,\n        property_bed_max: editSearch.property_bed_max,\n        property_type: editSearch.property_type,\n      }\n      console.log(e.target.value)\n      const { data } = await axios.put(`/api/property-search/${e.target.value}`, formData, {\n        headers: {\n          Authorization: `Bearer ${getAccessToken()}`,\n        },\n      })\n      window.localStorage.setItem('wittle-form-input', JSON.stringify(data))\n      console.log('new form data->', data)\n      if (e.target.id === 'Submit')\n        navigate('/wittle-results/')\n      else if (e.target.id === 'Save')\n        getProperties()\n      setEditShow(false)\n      loadUserData()\n      setFormData(data)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n\n\n  // Managing states for the drop down menus of stations and lines to be used in the edit search modal\n  // states for holding the tube information\n  const [tubeDataset, setTubeDataset] = useState([])\n  const [stations, setStations] = useState([])\n  const [lines, setLines] = useState([])\n\n  // states for holding the train information\n  const [trains, setTrains] = useState([])\n  const [trainStations, setTrainStations] = useState([])\n\n  // ectract tube data from the database\n  useEffect(() => {\n    const getTubes = async () => {\n      try {\n        const { data } = await axios.get('/api/tubes/')\n        setTubeDataset(data)\n        // console.log('tube data ->', data)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    }\n    getTubes()\n  }, [])\n\n  // extract train data from the database\n  useEffect(() => {\n    const getTrains = async () => {\n      try {\n        const { data } = await axios.get('/api/trains/')\n        setTrains(data)\n        // console.log('train data ->', data)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    }\n    getTrains()\n  }, [])\n\n  // create lsits so we have a dropdown\n  useEffect(() => {\n    if (trains.length) {\n      const stationList = []\n      trains.forEach(station => stationList.includes(station.station_name) ? '' : stationList.push(station.station_name))\n      setTrainStations(stationList)\n    }\n  }, [trains])\n\n  // create lsits so we have a dropdown\n  useEffect(() => {\n    if (tubeDataset.length) {\n      const stationList = []\n      const lineList = []\n      tubeDataset.forEach(station => stationList.includes(station.station_name) ? '' : stationList.push(station.station_name))\n      tubeDataset.forEach(line => lineList.includes(line.line) ? '' : lineList.push(line.line))\n      setStations(stationList)\n      setLines(lineList)\n    }\n  }, [tubeDataset])\n\n\n\n  return (\n    <>\n      <Modal show={editShow} onHide={handleEditClose} backdrop='static' className='edit-modal'>\n        <Modal.Body>\n          {editSearch ?\n            <>\n              <div className='modal-header'>\n                <div className='modal-header-text'>\n                  <h1 className='submit-title'>Edit your Wittle search</h1>\n                  <p className='submit-detail'>Make changes to current inputs, or add some that you missed off last time</p>\n\n                </div>\n                <button onClick={handleEditClose} className='edit-close'>Close</button>\n              </div>\n              <hr className='edit-divider' />\n              <div className='modal-detail'>\n                <div className='input-section'>\n                  <h1 className='section-header'>Hospitality</h1>\n                  {/* Restaurants */}\n\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Restaurants</h3>\n\n                      <div className='section-buttons'>\n                        {editSearch.restaurant_selection ? <button name='restaurant_selection' onClick={() => setEditSearch({ ...editSearch, restaurant_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='restaurant_selection' onClick={() => setEditSearch({ ...editSearch, restaurant_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.restaurant_selection ?\n                      <div className='section-detail'>\n                        <h3>Restaurant decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, restaurant_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='restaurant_decision'>\n                          <option>{editSearch.restaurant_decision} (selected)</option>\n                          <option>Any restaurants</option>\n                          <option>Specific cuisine</option>\n                        </select>\n\n                        <h3>Cuisine</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, restaurant_cuisine_1: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='restaurant_cuisine_1'>\n                          <option>{editSearch.restaurant_cuisine_1} (selected)</option>\n                          <option>American</option>\n                          <option>Asian</option>\n                          <option>Bar</option>\n                          <option>British</option>\n                          <option>Central American</option>\n                          <option>Central Asian</option>\n                          <option>Chicken</option>\n                          <option>Chinese</option>\n                          <option>European</option>\n                          <option>French</option>\n                          <option>Gastro Pub</option>\n                          <option>Greek</option>\n                          <option>Indian</option>\n                          <option>International</option>\n                          <option>Italian</option>\n                          <option>Japanese</option>\n                          <option>Meat & Grill</option>\n                          <option>Mediterranean</option>\n                          <option>Mexican</option>\n                          <option>Middle Eastern</option>\n                          <option>Modern</option>\n                          <option>North African</option>\n                          <option>Pizza</option>\n                          <option>Pub food</option>\n                          <option>Seafood</option>\n                          <option>South African</option>\n                          <option>South American</option>\n                          <option>South East Asian</option>\n                          <option>Spanish</option>\n                          <option>Thai</option>\n                          <option>Turkish</option>\n                          <option>Vegetarian/ Vegan</option>\n                          <option>Vietnamese</option>\n                          <option>Wine Bar</option>\n                        </select>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, restaurant_distance: e.target.value })} name='restaurant_distance' placeholder={editSearch.restaurant_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Cafes */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Cafes</h3>\n                      <div className='section-buttons'>\n                        {editSearch.cafes_selection ? <button name='cafes_selection' onClick={() => setEditSearch({ ...editSearch, cafes_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='cafes_selection' onClick={() => setEditSearch({ ...editSearch, cafes_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.cafes_selection ?\n                      <div className='section-detail'>\n                        <h3>Cafe decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, cafes_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='cafes_decision'>\n                          <option>{editSearch.cafes_decision} (selected)</option>\n                          <option>General cafes</option>\n                          <option>Specific cafe</option>\n                        </select>\n                        {editSearch.cafes_decision !== '' || editSearch.cafes_decision === 'Specific cafe' ?\n                          <>\n                            <h3>Cafe</h3>\n                            <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, cafes_detail: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='cafes_detail'>\n                              <option>{editSearch.cafes_detail} (selected)</option>\n                              <option>Black Sheep Coffee</option>\n                              <option>Cafe Nero</option>\n                              <option>Costa Coffee</option>\n                              <option>Gail&apos;s</option>\n                              <option>Grind</option>\n                              <option>Joe & The Juice</option>\n                              <option>Pattiserie Valerie</option>\n                              <option>Pret</option>\n                            </select>\n                          </>\n                          : ''}\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, cafes_distance: e.target.value })} name='cafes_distance' placeholder={editSearch.cafes_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Takeaways */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Takeaways</h3>\n\n                      <div className='section-buttons'>\n                        {editSearch.takeaway_selection ? <button name='takeaway_selection' onClick={() => setEditSearch({ ...editSearch, takeaway_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='takeaway_selection' onClick={() => setEditSearch({ ...editSearch, takeaway_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.takeaway_selection ?\n                      <div className='section-detail'>\n                        <h3>Takeaway decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, takeaway_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='takeaway_decision'>\n                          <option>{editSearch.takeaway_decision} (selected)</option>\n                          <option>Any takeaway</option>\n                          <option>Specific cuisine</option>\n                        </select>\n                        <h3>Cuisine</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, takeaway_cuisine_1: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='takeaway_cuisine_1'>\n                          <option>{editSearch.takeaway_cuisine_1} (selected)</option>\n                          <option>American</option>\n                          <option>Asianfusion</option>\n                          <option>Breakfast</option>\n                          <option>British</option>\n                          <option>Brunch</option>\n                          <option>Chinese</option>\n                          <option>Healthy</option>\n                          <option>Indian</option>\n                          <option>Italian</option>\n                          <option>Japanese</option>\n                          <option>Korean</option>\n                          <option>Mediterranean</option>\n                          <option>Mexican</option>\n                          <option>Thai</option>\n                          <option>Turkish</option>\n                          <option>Vietnamese</option>\n                        </select>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, takeaway_distance: e.target.value })} name='takeaway_distance' placeholder={editSearch.takeaway_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Pubs */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Pubs</h3>\n                      <div className='section-buttons'>\n                        {editSearch.pubs_selection ? <button name='pubs_selection' onClick={() => setEditSearch({ ...editSearch, pubs_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='pubs_selection' onClick={() => setEditSearch({ ...editSearch, pubs_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.pubs_selection ?\n                      <div className='section-detail'>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, pubs_distance: e.target.value })} name='pubs_distance' placeholder={editSearch.pubs_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  <hr className='inner-divider' />\n                  {/* Second section - lifestyle */}\n                  <h1 className='section-header'>Lifestyle</h1>\n                  {/* Supermarkets */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Supermarkets</h3>\n                      <div className='section-buttons'>\n                        {editSearch.supermarket_selection ? <button name='supermarket_selection' onClick={() => setEditSearch({ ...editSearch, supermarket_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='supermarket_selection' onClick={() => setEditSearch({ ...editSearch, supermarket_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.supermarket_selection ?\n                      <div className='section-detail'>\n                        <h3>Supermarket decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, supermarket_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='supermarket_decision'>\n                          <option>{editSearch.supermarket_decision} (selected)</option>\n                          <option>Any supermarket</option>\n                          <option>Specific supermarket</option>\n                        </select>\n                        <h3>Type</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, supermarket_segment: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='supermarket_segment'>\n                          <option>{editSearch.supermarket_segment} (selected)</option>\n                          <option>Budget</option>\n                          <option>Convenience</option>\n                          <option>Mainstream</option>\n                          <option>Premium</option>\n                        </select>\n                        <h3>Size</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, supermarket_size: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='supermarket_size'>\n                          <option>{editSearch.supermarket_size} (selected)</option>\n                          <option>Don&apos;t mind</option>\n                          <option>Small </option>\n                          <option>Medium</option>\n                          <option>Large</option>\n                        </select>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, supermarket_distance: e.target.value })} name='supermarket_distance' placeholder={editSearch.supermarket_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Gyms */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Gyms</h3>\n                      <div className='section-buttons'>\n                        {editSearch.gym_selection ? <button name='gym_selection' onClick={() => setEditSearch({ ...editSearch, gym_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='gym_selection' onClick={() => setEditSearch({ ...editSearch, gym_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.gym_selection ?\n                      <div className='section-detail'>\n                        <h3>Studio</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, gym_studio_name: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='gym_studio_name'>\n                          <option>{editSearch.gym_studio_name} (selected)</option>\n                          <option>No preference</option>\n                          <option>1Rebel</option>\n                          <option>Barry&apos;s</option>\n                          <option>Fitness First</option>\n                          <option>Gymbox</option>\n                          <option>MoreYoga</option>\n                          <option>Nuffield Health</option>\n                          <option>Pure Gym</option>\n                          <option>The Gym Group</option>\n                          <option>Third Space</option>\n                          <option>Virgin</option>\n                        </select>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, gym_distance: e.target.value })} name='gym_distance' placeholder={editSearch.gym_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Parks */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Parks</h3>\n\n                      <div className='section-buttons'>\n                        {editSearch.park_selection ? <button name='park_selection' onClick={() => setEditSearch({ ...editSearch, park_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='park_selection' onClick={() => setEditSearch({ ...editSearch, park_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.park_selection ?\n                      <div className='section-detail'>\n                        <h3>Park</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, park_type: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='park_type'>\n                          <option>{editSearch.park_type} (selected)</option>\n                          <option>Large park &#40;long walks or runs&#41;</option>\n                          <option>Medium sized park &#40;big enough for activities&#41;</option>\n                          <option>Small square &#40;read a book&#41;</option>\n                        </select>\n\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, park_distance: e.target.value })} name='park_distance' placeholder={editSearch.park_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Workplace */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Workplace</h3>\n                      <div className='section-buttons'>\n                        {editSearch.workplace_selection ? <button name='workplace_selection' onClick={() => setEditSearch({ ...editSearch, workplace_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='workplace_selection' onClick={() => setEditSearch({ ...editSearch, workplace_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.workplace_selection ?\n                      <div className='section-detail'>\n                        <h3>Postcode</h3>\n                        <input className='input-postcode' onChange={(e) => setEditSearch({ ...editSearch, workplace_detail: e.target.value })} name='workplace_detail' placeholder={editSearch.workplace_detail}></input>\n                        <h3>Transport</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, workplace_transport: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='workplace_transport'>\n                          <option>{editSearch.workplace_transport} (selected)</option>\n                          <option>Walking</option>\n                          <option>Cycling</option>\n                          <option>Driving/ transport</option>\n                        </select>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, workplace_distance: e.target.value })} name='workplace_distance' placeholder={editSearch.workplace_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  <hr className='inner-divider' />\n\n                  {/* Third section - Travel */}\n                  <h1 className='section-header'>Travel</h1>\n                  {/* Tubes */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Tubes</h3>\n                      <div className='section-buttons'>\n                        {editSearch.tube_selection ? <button name='tube_selection' onClick={() => setEditSearch({ ...editSearch, tube_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='tube_selection' onClick={() => setEditSearch({ ...editSearch, tube_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.tube_selection ?\n                      <div className='section-detail'>\n                        <h3>Tube decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, tube_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='tube_decision'>\n                          <option>{editSearch.tube_decision} (selected)</option>\n                          <option>General tube station</option>\n                          <option>Specific tube station</option>\n                          <option>Specific tube line</option>\n                        </select>\n                        {editSearch.tube_decision === 'Specific tube station' ?\n                          <>\n                            <h3>Station</h3>\n                            <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, tube_detail: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='tube_detail'>\n                              <option>{editSearch.tube_detail} (selected)</option>\n                              {stations ? stations.map(station => <option key={station} value={station}>{station}</option>) : ''}\n                            </select>\n                          </>\n                          : editSearch.tube_decision === 'Specific tube line' ?\n                            <>\n                              <h3>Line</h3>\n                              <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, tube_detail: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='tube_detail'>\n                                <option>{editSearch.tube_detail} (selected)</option>\n                                {lines.map(line => <option key={line} value={line}>{line}</option>)}\n                              </select>\n                            </>\n                            : ''}\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, tube_distance: e.target.value })} name='tube_distance' placeholder={editSearch.tube_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Trains */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Trains</h3>\n                      <div className='section-buttons'>\n                        {editSearch.train_selection ? <button name='train_selection' onClick={() => setEditSearch({ ...editSearch, train_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='train_selection' onClick={() => setEditSearch({ ...editSearch, train_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.train_selection ?\n                      <div className='section-detail'>\n                        <h3>Train decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, train_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='train_decision'>\n                          <option>{editSearch.train_decision} (selected)</option>\n                          <option>General train station</option>\n                          <option>Specific train station</option>\n                        </select>\n                        {editSearch.tube_decision === 'Specific train station' ?\n                          <>\n                            <h3>Station</h3>\n                            <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, train_detail: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='train_detail'>\n                              <option>{editSearch.train_detail} (selected)</option>\n                              {trainStations.map(station => <option key={station} value={station}>{station}</option>)}\n                            </select>\n                          </>\n                          : ''}\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, train_distance: e.target.value })} name='train_distance' placeholder={editSearch.train_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  <hr className='inner-divider' />\n\n                  {/* Fourth section - Family */}\n                  <h1 className='section-header'>Family</h1>\n                  {/* Primary schools */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Primary Schools</h3>\n                      <div className='section-buttons'>\n                        {editSearch.primary_selection ? <button name='primary_selection' onClick={() => setEditSearch({ ...editSearch, primary_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='primary_selection' onClick={() => setEditSearch({ ...editSearch, primary_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.primary_selection ?\n                      <div className='section-detail'>\n                        <h3>Distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, primary_distance: e.target.value })} name='primary_distance' placeholder={editSearch.primary_distance}></input>\n                        <h3>Transport</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, primary_mode: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='primary_mode'>\n                          <option>{editSearch.primary_mode} (selected)</option>\n                          <option>Walk</option>\n                          <option>Cycle</option>\n                          <option>Drive/ transport</option>\n                        </select>\n                        <h3>Religion</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, primary_religion: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='primary_religion'>\n                          <option>{editSearch.primary_religion} (selected)</option>\n                          <option>No requirement</option>\n                          <option>Anglican/ Church of England</option>\n                          <option>Islam</option>\n                          <option>Jewish</option>\n                          <option>Roman Catholic</option>\n                        </select>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Secondary schools */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Secondary Schools</h3>\n                      <div className='section-buttons'>\n                        {editSearch.secondary_selection ? <button name='secondary_selection' onClick={() => setEditSearch({ ...editSearch, secondary_selection: false })} value={false} className='delete-button'>Remove</button> : <button name='secondary_selection' onClick={() => setEditSearch({ ...editSearch, secondary_selection: true })} value={true} className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.secondary_selection ?\n                      <div className='section-detail'>\n                        <h3>Distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, secondary_distance: e.target.value })} name='secondary_distance' placeholder={editSearch.secondary_distance}></input>\n                        <h3>Transport</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, secondary_mode: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='secondary_mode'>\n                          <option>{editSearch.secondary_mode} (selected)</option>\n                          <option>Walk</option>\n                          <option>Cycle</option>\n                          <option>Drive/ transport</option>\n                        </select>\n                        <h3>Religion</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, secondary_religion: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='secondary_religion'>\n                          <option>{editSearch.secondary_religion} (selected)</option>\n                          <option>No requirement</option>\n                          <option>Anglican/ Church of England</option>\n                          <option>Islam</option>\n                          <option>Jewish</option>\n                          <option>Roman Catholic</option>\n                        </select>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* 6th forms */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>6th Forms</h3>\n                      <div className='section-buttons'>\n                        {editSearch.college_selection ? <button name='college_selection' onClick={() => setEditSearch({ ...editSearch, college_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='college_selection' onClick={() => setEditSearch({ ...editSearch, college_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.college_selection ?\n                      <div className='section-detail'>\n                        <h3>Distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, college_distance: e.target.value })} name='college_distance' placeholder={editSearch.college_distance}></input>\n                        <h3>Transport</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, college_mode: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='college_mode'>\n                          <option>{editSearch.college_mode} (selected)</option>\n                          <option>Walk</option>\n                          <option>Cycle</option>\n                          <option>Drive/ transport</option>\n                        </select>\n                        <h3>Religion</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, college_religion: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='college_religion'>\n                          <option>{editSearch.college_religion} (selected)</option>\n                          <option>No requirement</option>\n                          <option>Anglican/ Church of England</option>\n                          <option>Islam</option>\n                          <option>Jewish</option>\n                          <option>Roman Catholic</option>\n                        </select>\n                      </div>\n                      : ''}\n                  </div>\n                  <hr className='inner-divider' />\n                  <h1 className='section-header'>Property details</h1>\n                  {/* Property price */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Price</h3>\n                    </div>\n                    <div className='section-detail'>\n                      <h3>Min price</h3>\n                      <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, property_price_min: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='property_price_min'>\n                        <option><NumericFormat value={editSearch.property_price_min} displayType={'text'} thousandSeparator={true} prefix={'£'} /> (selected)</option>                          <option>No min</option>\n                        <option>£200,000</option>\n                        <option>£300,000</option>\n                        <option>£400,000</option>\n                        <option>£500,000</option>\n                        <option>£600,000</option>\n                        <option>£700,000</option>\n                        <option>£800,000</option>\n                        <option>£900,000</option>\n                        <option>£1,000,000</option>\n                        <option>£1,250,000</option>\n                        <option>£1,500,000</option>\n                        <option>£1,750,000</option>\n                        <option>£2,000,000</option>\n                        <option>£2,500,000</option>\n                        <option>£3,000,000</option>\n                        <option>£3,500,000</option>\n                        <option>£4,000,000</option>\n                        <option>£5,000,000</option>\n                      </select>\n                      <h3>Max price</h3>\n                      <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, property_price_max: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='property_price_max'>\n                        <option><NumericFormat value={editSearch.property_price_max} displayType={'text'} thousandSeparator={true} prefix={'£'} /> (selected)</option>\n                        <option>No max</option>\n                        <option>£300,000</option>\n                        <option>£400,000</option>\n                        <option>£500,000</option>\n                        <option>£600,000</option>\n                        <option>£700,000</option>\n                        <option>£800,000</option>\n                        <option>£900,000</option>\n                        <option>£1,000,000</option>\n                        <option>£1,250,000</option>\n                        <option>£1,500,000</option>\n                        <option>£1,750,000</option>\n                        <option>£2,000,000</option>\n                        <option>£2,500,000</option>\n                        <option>£3,000,000</option>\n                        <option>£3,500,000</option>\n                        <option>£4,000,000</option>\n                        <option>£5,000,000</option>\n                        <option>£10,000,000</option>\n                      </select>\n                    </div>\n                  </div>\n                  {/* Property Bedrooms */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Bedrooms</h3>\n                    </div>\n                    <div className='section-detail'>\n                      <h3>Min bedrooms</h3>\n                      <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, property_bed_min: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='property_bed_min'>\n                        <option>{editSearch.property_bed_min} (selected)</option>\n                        <option>No min</option>\n                        <option>1</option>\n                        <option>2</option>\n                        <option>3</option>\n                        <option>4</option>\n                      </select>\n                      <h3>Max bedrooms</h3>\n                      <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, property_bed_max: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='property_bed_max'>\n                        <option>{editSearch.property_bed_max} (selected)</option>\n                        <option>No min</option>\n                        <option>1</option>\n                        <option>2</option>\n                        <option>3</option>\n                        <option>4</option>\n                        <option>5</option>\n                      </select>\n                    </div>\n                  </div>\n                  {/* Property type */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Other details</h3>\n                    </div>\n                    <div className='section-detail'>\n                      <h3>Type</h3>\n                      <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, property_type: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='property_type'>\n                        <option>{editSearch.property_type} (selected)</option>\n                        <option>Any</option>\n                        <option>House</option>\n                        <option>Flat</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                <hr className='inner-divider' />\n              </div>\n              <div className='edit-footer'>\n                <div className='submission'>\n                  <button name='result_id' value={editSearch.result_id} id='Save' onClick={postEditSearch} className='edit-submit'>Save</button>\n                  <button name='result_id' value={editSearch.result_id} id='Submit' onClick={postEditSearch} className='edit-submit'>View Results</button>\n                </div>\n                <button onClick={handleEditClose} className='edit-close'>Close</button>\n\n              </div>\n            </>\n            : ''}\n        </Modal.Body>\n      </Modal>\n      <Modal show={searchShow} onHide={handleSearchClose} backdrop='static' className='search-details'>\n        <Modal.Body>\n          {calc10 ?\n            <>\n              <h3>Search details &gt;</h3>\n              <div className='input-sections'>\n                <h5>Property</h5>\n                <div className='poi'><p>Type: {formData.property_type}</p></div>\n\n\n                <div className='poi'><p>Price: <NumericFormat value={formData.property_price_min} displayType={'text'} thousandSeparator={true} prefix={'£'} /> - <NumericFormat value={formData.property_price_max} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </p></div>\n                <div className='poi'><p>Bedrooms: {formData.property_bed_min} - {formData.property_bed_max}</p></div>\n              </div>\n              <div className='input-sections'>\n                <h5>Points of interest</h5>\n                {formData.restaurant_selection ? <div className='poi'><p>👨‍🍳 Restaurants: {formData.restaurant_distance} min walk</p></div> : ''}\n                {formData.takeaway_selection ? <div className='poi'><p>🍜 Takeaways: {formData.takeaway_distance} min walk</p></div> : ''}\n                {formData.cafes_selection ? <div className='poi'><p>☕️ Cafes: {formData.cafes_distance} min walk</p></div> : ''}\n                {formData.pubs_selection ? <div className='poi'><p>🍻 Pubs: {formData.pubs_distance} min walk</p></div> : ''}\n                {formData.supermarket_selection ? <div className='poi'><p>🛒 Supermarkets: {formData.supermarket_distance} min walk</p></div> : ''}\n                {formData.gym_selection ? <div className='poi'><p>🏋️‍♂️ Gyms: {formData.gym_distance} min walk</p></div> : ''}\n                {formData.park_selection ? <div className='poi'><p>🌳 Park: {formData.park_distance} min walk</p></div> : ''}\n                {formData.workplace_selection ? <div className='poi'><p>✍🏼 Workplace: {formData.workplace_distance} min walk</p></div> : ''}\n                {formData.tube_selection ? <div className='poi'><p>🚇 Tube stations: {formData.tube_distance} min walk</p></div> : ''}\n                {formData.train_selection ? <div className='poi'><p>🚅 Train stations: {formData.train_distance} min walk</p></div> : ''}\n                {formData.primary_selection ? <div className='poi'><p>🏫 Primary schools: {formData.primary_distance} min walk</p></div> : ''}\n                {formData.secondary_selection ? <div className='poi'><p>🏫 Secondary schools: {formData.secondary_distance} min walk</p></div> : ''}\n                {formData.college_selection ? <div className='poi'><p>🏫 6th forms: {formData.college_distance} min walk</p></div> : ''}\n                {formData.family_selection ? <div className='poi'><p>👨‍👩‍👧‍👦 Friends & family: {formData.family_distance_1} min walk</p></div> : ''}\n              </div>\n              <div className='bottom-buttons'>\n                <button onClick={handleEditShow} className='edit-button'>Edit</button>\n                <button onClick={handleSearchClose} className='close-button'>Close</button>\n              </div>\n            </>\n            : ''}\n        </Modal.Body>\n      </Modal>\n\n    </>\n\n  )\n}\n\nexport default EditSearch\n\n","import React, { useState, useEffect, useRef } from 'react'\nimport 'react-slideshow-image/dist/styles.css'\nimport { NumericFormat } from 'react-number-format'\nimport { Modal } from 'react-bootstrap'\nimport axios from 'axios'\nimport { isUserAuth, getUserToken, getAccessToken } from '../../auth/Auth'\n\n\n\nconst MatchInsights = ({ calc10, formData, insightShow, handleInsightClose, currentId, insightChange, insightToggle }) => {\n\n\n  return (\n    <>\n      <Modal show={insightShow} onHide={handleInsightClose} backdrop='static' className='insights-modal'>\n        <Modal.Body>\n          {calc10 ?\n            <>\n              <div className='insights-body'>\n                {calc10.filter(property => property.id === currentId).map((property, index) => {\n                  return (\n                    <>\n                      <div className='insights-modal-header'>\n                        <h3 className='insights-title'>Property insight summary</h3>\n                        <button onClick={handleInsightClose} className='insights-modal-close'>Close</button>\n                      </div>\n                      <div className='insights-modal-title' key={index}>\n                        <h3 className='insights-property-name'>{property.property_name}</h3>\n                        <h3 className='insights-match'>🔥 {property.first_match}% match</h3>\n                      </div>\n                      <div className='insights-modal-sub-title'>\n                        <h5>Variable</h5>\n                        <select className='insight-toggle' name='selection' onChange={insightChange}>\n                          <option>Rank</option>\n                          <option>Match %</option>\n                        </select>\n                      </div>\n                      <div className='insights-modal-content'>\n                        {/* restaurant bars */}\n                        {formData.restaurant_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>👨‍🍳 Restaurants</h4>\n                            <div className='insights-modal-right'>\n                              {property.restaurants.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_restaurant)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_restaurant)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No restaurants within {formData.restaurant_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_restaurant}%</h4> : <h4 className='insights-modal-score'>#{property.restaurant_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n\n                        {/* takeaways bars */}\n                        {formData.takeaway_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🍜 Takeaways</h4>\n                            <div className='insights-modal-right'>\n                              {property.takeaways.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_takeaway)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_takeaway)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No takeaways within {formData.takeaway_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_takeaway}%</h4> : <h4 className='insights-modal-score'>#{property.takeaway_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* pub bars */}\n                        {formData.pubs_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🍻 Pubs</h4>\n                            <div className='insights-modal-right'>\n                              {property.bars.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_pub)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_pub)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No pubs within {formData.pubs_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_pub}%</h4> : <h4 className='insights-modal-score'>#{property.pub_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* cafe bars */}\n                        {formData.cafes_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>☕️ Cafes</h4>\n                            <div className='insights-modal-right'>\n                              {property.cafes.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_cafe)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_cafe)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No cafes within {formData.cafes_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_cafe}%</h4> : <h4 className='insights-modal-score'>#{property.cafe_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* primaries bars */}\n                        {formData.primary_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🏫 Primaries</h4>\n                            <div className='insights-modal-right'>\n                              {property.primaries.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_primary)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_primary)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No Primary Schools within {formData.primary_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_primary}%</h4> : <h4 className='insights-modal-score'>#{property.primary_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* secondaries bars */}\n                        {formData.secondary_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🏫 Secondaries</h4>\n                            <div className='insights-modal-right'>\n                              {property.secondaries.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_secondary)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_secondary)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No Secondary Schools within {formData.secondary_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_secondary}%</h4> : <h4 className='insights-modal-score'>#{property.secondary_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* supermarkets bars */}\n                        {formData.supermarket_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>👨‍🍳 Supermarkets</h4>\n                            <div className='insights-modal-right'>\n                              {property.supermarkets.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_supermarket)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_supermarket)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No supermarkets within {formData.supermarket_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_supermarket}%</h4> : <h4 className='insights-modal-score'>#{property.supermarket_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* gyms bars */}\n                        {formData.gym_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🏋️‍♂️ Gyms</h4>\n                            <div className='insights-modal-right'>\n                              {property.gyms.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_gym)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_gym)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No gyms within {formData.gym_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_gym}%</h4> : <h4 className='insights-modal-score'>#{property.gym_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* tubes bars */}\n                        {formData.tube_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🚇 Tubes</h4>\n                            <div className='insights-modal-right'>\n                              {property.tubes.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_tube)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_tube)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No tube stations within {formData.tube_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_tube}%</h4> : <h4 className='insights-modal-score'>#{property.tube_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* parks bars */}\n                        {formData.park_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🌳 Parks</h4>\n                            <div className='insights-modal-right'>\n                              {property.parks.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_park)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_park)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No parks within {formData.park_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_park}%</h4> : <h4 className='insights-modal-score'>#{property.park_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* workplace bars */}\n                        {formData.workplace_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🏢 Office</h4>\n                            <div className='insights-modal-right'>\n                              <div className='bar-container'>\n                                {[...Array(property.final_workplace)].map((choice, index) => {\n                                  return (\n                                    <div className='bars' key={index} >\n                                      <div>.</div>\n                                    </div>\n                                  )\n                                })}\n                                {\n                                  [...Array(100 - property.final_workplace)].map((choice, index) => {\n                                    return (\n                                      <div className='blank-bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })\n                                }\n                              </div>\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_workplace}%</h4> : <h4 className='insights-modal-score'>#{property.workplace_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* family 1 bars */}\n                        {formData.family_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>👨‍👩‍👧‍👦 Friends & Fam</h4>\n                            <div className='insights-modal-right'>\n                              <div className='bar-container'>\n                                {[...Array(property.final_family1)].map((choice, index) => {\n                                  return (\n                                    <div className='bars' key={index} >\n                                      <div>.</div>\n                                    </div>\n                                  )\n                                })}\n                                {\n                                  [...Array(100 - property.final_family1)].map((choice, index) => {\n                                    return (\n                                      <div className='blank-bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })\n                                }\n                              </div>\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_family1}%</h4> : <h4 className='insights-modal-score'>#{property.family1_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                      </div>\n                    </>\n                  )\n                })}\n              </div>\n            </>\n            : ''}\n        </Modal.Body>\n      </Modal>\n\n    </>\n\n  )\n}\n\nexport default MatchInsights","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport 'react-slideshow-image/dist/styles.css'\nimport { Slide } from 'react-slideshow-image'\nimport { useParams, useNavigate, Link } from 'react-router-dom'\nimport { NumericFormat } from 'react-number-format'\nimport { getUserToken, getAccessToken, isUserAuth } from '../../auth/Auth'\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl'\nimport { Modal } from 'react-bootstrap'\n\n\n\nconst AllPropertiesMap = ({ calc10, formData, mapShow, handleMapClose, viewport, setViewport, normalMapShow, normalMapClose, normalHandleMapShow, navigation }) => {\n\n  // state to enable navigation between pages\n  const navigate = useNavigate()\n\n\n  // ? Section 9: MODALS - section for managing the numerous modals on the page\n  // * Modal 1 - Map mdoal\n\n  // state for showing map property detail\n  const [mapPropertyShow, setMapProperty] = useState(false)\n\n  // function for closing the map detail modal\n  const handleMapDetailClose = () => {\n    setMapProperty(false)\n  }\n\n  // state for showing the map detail\n  const handleMapDetailShow = () => setMapProperty(true)\n\n  // states for handling the popups on the map\n  const [showPopup, setShowPopup] = useState(true)\n  const [iconId, setIconId] = useState()\n  // const openDetail = () => setbuttonActive(!buttonActive)\n\n  const iconSetting = (e) => {\n    setShowPopup(true)\n    console.log(showPopup)\n    setIconId(parseInt(e.target.id))\n    console.log(parseInt(e.target.id))\n  }\n\n\n  return (\n    <>\n      {/* Map modal for wittle search */}\n      {formData ?\n        <Modal show={mapShow} onHide={handleMapClose} backdrop='static' className='map-modal'>\n          <Modal.Body>\n            {calc10 ?\n              <>\n                <div className='map-header'>\n                  {isUserAuth() ? <h3 className='map-title'>{formData.search_name}: {calc10.length} properties</h3> : !isUserAuth() ? <h3 className='map-title'>Wittle Search: {calc10.length} properties</h3> : ''}\n                  <button onClick={handleMapClose}>Close map</button>\n                </div>\n                <ReactMapGL {...viewport}\n                  mapboxAccessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n                  mapStyle='mapbox://styles/mapbox/streets-v11'\n                  onViewportChange={viewport => {\n                    setViewport(viewport)\n                  }}\n                  center={viewport}\n                  onMove={evt => setViewport(evt.viewport)}>\n                  {calc10 ?\n                    <div className='poi-icons'>\n                      {calc10.map((property, index) => {\n                        return (\n                          <div key={property.id}>\n                            <>\n                              <Marker longitude={property.long} latitude={property.Lat} key={index} titleAccess={property.property_name} id='house-icon' >\n                                <div className='house-btn' onClick={() => navigate(`/${navigation}/${property.id}`)} id={property.id} onMouseEnter={iconSetting}>\n                                </div>\n                              </Marker>\n                              {(showPopup & property.id === iconId) && (\n                                <Popup key={index} id={property.id} longitude={property.long} latitude={property.Lat} closeOnClick={false}>\n                                  <div className='property-popup'>\n                                    <div className='property-image' style={{ backgroundImage: `url('${property.property_image_1}')` }}>\n                                    </div>\n                                    <div className='property-details'>\n                                      <h1>{property.property_name}</h1>\n                                      <h4>{property.first_match}% match</h4>\n\n                                      <h4><NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> offers over</h4>\n                                    </div>\n                                  </div>\n                                </Popup>\n                              )}\n                            </>\n                          </div>\n                        )\n                      })}\n                    </div>\n                    : ''}\n                </ReactMapGL>\n              </>\n              : ''}\n          </Modal.Body>\n        </Modal>\n        : ''}\n\n      {/* Map modal for normal search */}\n      <Modal show={normalMapShow} onHide={normalMapClose} backdrop='static' className='map-modal'>\n        <Modal.Body>\n          {calc10 ?\n            <>\n              <div className='map-header'>\n                <h3 className='map-title'> {calc10.length} properties</h3>\n                <button onClick={normalMapClose}>Close map</button>\n              </div>\n              <ReactMapGL {...viewport}\n                mapboxAccessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n                mapStyle='mapbox://styles/mapbox/streets-v11'\n                onViewportChange={viewport => {\n                  setViewport(viewport)\n                }}\n                center={viewport}\n                onMove={evt => setViewport(evt.viewport)}>\n                {calc10 ?\n                  <div className='poi-icons'>\n                    {calc10.map((property, index) => {\n                      return (\n                        <div key={property.id}>\n                          <>\n                            <Marker longitude={property.long} latitude={property.Lat} key={index} titleAccess={property.property_name} id='house-icon' >\n                              <div className='house-btn' onClick={() => navigate(`/${navigation}/${property.id}`)} id={property.id} onMouseEnter={iconSetting}>\n                              </div>\n                            </Marker>\n                            {(showPopup & property.id === iconId) && (\n                              <Popup key={index} id={property.id} longitude={property.long} latitude={property.Lat} closeOnClick={false}>\n                                <div className='property-popup'>\n                                  <div className='property-image' style={{ backgroundImage: `url('${property.property_image_1}')` }}>\n                                  </div>\n                                  <div className='property-details'>\n                                    <h1>{property.property_name}</h1>\n                                    <h4><NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> offers over</h4>\n                                  </div>\n                                </div>\n                              </Popup>\n                            )}\n                          </>\n                        </div>\n                      )\n                    })}\n                  </div>\n                  : ''}\n              </ReactMapGL>\n            </>\n            : ''}\n        </Modal.Body>\n      </Modal>\n    </>\n  )\n\n}\n\n\nexport default AllPropertiesMap","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}   [noTrailing]   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset)\n * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {Boolean}   [debounceMode] If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @return {Function}  A new, throttled, function.\n */\nfunction throttle (delay, noTrailing, callback, debounceMode) {\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel() {\n    clearExistingTimeout();\n    cancelled = true;\n  } // `noTrailing` defaults to falsy.\n\n\n  if (typeof noTrailing !== 'boolean') {\n    debounceMode = callback;\n    callback = noTrailing;\n    noTrailing = undefined;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n    var args = arguments;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, args);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      /*\n       * In throttle mode, if `delay` time has been exceeded, execute\n       * `callback`.\n       */\n      exec();\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n\n/* eslint-disable no-undefined */\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}  [atBegin]     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @return {Function} A new, debounced function.\n */\n\nfunction debounce (delay, atBegin, callback) {\n  return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { throttle, debounce };\n","/* eslint-disable camelcase */\nimport React, { useRef, useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { useParams, useNavigate, Link } from 'react-router-dom'\nimport { getUserToken, getAccessToken, isUserAuth } from '../../auth/Auth'\nimport { Modal } from 'react-bootstrap'\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport { NumericFormat } from 'react-number-format'\nimport NavBar from '../../tools/NavBar'\nimport Loading from '../../helpers/Loading'\nimport 'react-slideshow-image/dist/styles.css'\nimport { Slide } from 'react-slideshow-image'\nimport ImageSlider from '../../helpers/ImageSlider'\nimport Favouriting from '../../helpers/modals/Favouriting'\nimport Heatmap from '../../helpers/modals/Heatmap'\nimport EditSearch from '../../helpers/modals/EditSearch'\nimport MatchInsights from '../../helpers/modals/MatchInsights'\nimport AllPropertiesMap from '../../helpers/modals/AllPropertiesMap'\nimport LazyLoad from 'react-lazyload'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport PropertyDetails from './propertyComponents/PropertyDetails'\nimport WhiteNavbar from '../../tools/WhiteNavbar'\n\n\nconst PropertyResultsWittle = () => {\n\n  // ? Section 1: Set the states for the items throughout the page\n\n  // state for switching page\n  const { id } = useParams()\n\n  // state for setting the current property id clicked - this will be used for the insigfhts modal\n  const [currentId, setCurrentId] = useState(0)\n\n  // state for determining whether a property is favoruited - this is used on the conditional for adding/deleting a favourite\n  const [listFavourites, setListFavourites] = useState()\n\n  // capturing the most recent favourited item\n  const [favourited, setFavourited] = useState()\n\n  // capturing info for most recent deleted iteem\n  const [deleted, setDeleted] = useState()\n\n  // capturing all other favourited properties\n  const [otherFavourites, setOtherFavourites] = useState()\n\n  // capturing the favoruite search information for the properties\n  const [favouriteInfo, setFavouriteInfo] = useState()\n  const [currentFavInfo, setCurrentFavInfo] = useState()\n  const [otherFavInfo, setOthrFavInfo] = useState()\n\n  // capture whethr action was deleting or favouriting\n  const [favouriteAction, setFavouriteAction] = useState()\n\n  // state to collect properties\n  const [properties, setProperties] = useState()\n\n  // state to collect the user information\n  const [userData, setUserData] = useState([])\n\n  // state for extracting the users searches from user data\n  const [propertySearch, setPropertySearch] = useState({})\n\n  // state for defining the name of the current property search\n  const [searchName, setSearchName] = useState()\n\n  // set first run of the form data\n  const [initialForm, setInitialForm] = useState()\n\n  // adsitional state for testing - used for extracting the results from state when saved there\n  const [localProp, setLocalProp] = useState()\n\n  // another state for properties - this is used as the final property list before calculations are carried out\n  const [finalProp, setFinalProp] = useState()\n\n  // states for calculation fields - there are a number of levels of calculation casrried out to transform the data\n  const [filteredProperties1, setFilteredProperties1] = useState()\n  const [filteredProperties2, setFilteredProperties2] = useState()\n  const [filteredProperties3, setFilteredProperties3] = useState()\n  const [filteredProperties4, setFilteredProperties4] = useState()\n  const [workFamilyCalc1, setWorkFamilyCalc1] = useState()\n  const [workFamilyCalc2, setWorkFamilyCalc2] = useState()\n  const [calc1, setCalc1] = useState()\n  const [calc2, setCalc2] = useState()\n  const [calc3, setCalc3] = useState()\n  const [calc4, setCalc4] = useState()\n  const [calc5, setCalc5] = useState()\n  const [calc6, setCalc6] = useState()\n  const [calc7, setCalc7] = useState()\n  const [calc8, setCalc8] = useState()\n  const [calc9, setCalc9] = useState()\n  const [calc10, setCalc10] = useState()\n  const [calc11, setCalc11] = useState()\n\n  // state to enable navigation between pages\n  const navigate = useNavigate()\n\n  // set error state for capturing errors\n  const [errors, setErrors] = useState(false)\n\n  // set for capturing the id of the edit search - used when editing a search and submitting to the database\n  const [editSearch, setEditSearch] = useState()\n\n  // states for filling out the form\n  const [formData, setFormData] = useState({\n    start_search: true,\n    search_name: '',\n    search_type: 'Wittle',\n    search_channel: '',\n    restaurant_selection: false,\n    restaurant_decision: '',\n    restaurant_distance: 0,\n    restaurant_cuisine_1: '',\n    restaurant_cuisine_2: '',\n    takeaway_selection: false,\n    takeaway_decision: '',\n    takeaway_distance: 0,\n    takeaway_cuisine_1: '',\n    takeaway_cuisine_2: '',\n    pubs_selection: false,\n    pubs_distance: 0,\n    cafes_selection: '',\n    cafes_decision: '',\n    cafes_detail: '',\n    cafes_distance: 0,\n    tube_selection: false,\n    tube_decision: '',\n    tube_detail: '',\n    tube_distance: 0,\n    train_selection: false,\n    train_decision: '',\n    train_detail: '',\n    train_distance: 0,\n    primary_selection: false,\n    primary_religion: '',\n    primary_mode: '',\n    primary_distance: 0,\n    college_selection: false,\n    college_religion: '',\n    college_mode: '',\n    college_distance: 0,\n    secondary_selection: false,\n    secondary_religion: '',\n    secondary_mode: '',\n    secondary_distance: 0,\n    supermarket_selection: false,\n    supermarket_decision: '',\n    supermarket_segment: '',\n    supermarket_size: '',\n    supermarket_distance: 0,\n    gym_selection: false,\n    gym_studio_name: '',\n    gym_class_type: '',\n    gym_distance: 0,\n    park_selection: false,\n    park_type: '',\n    park_distance: 0,\n    workplace_selection: false,\n    workplace_detail: '',\n    workplace_transport: '',\n    workplace_distance: 0,\n    family_selection: false,\n    family_detail_1: '',\n    family_distance_1: 0,\n    family_detail_2: '',\n    family_distance_2: 0,\n    family_detail_3: '',\n    family_distance_3: 0,\n    family_mode_1: '',\n    family_mode_2: '',\n    family_mode_3: '',\n    property_price_min: '',\n    property_price_max: '',\n    property_bed_min: '',\n    property_bed_max: '',\n    property_type: '',\n    owner: 31,\n  })\n\n  // set states for proeprty detail buttons\n  const [propertyButtons, setPropertyButtons] = useState('Details')\n\n  // set states for sidebar feature\n  const [sidebar, setSidebar] = useState('Close')\n\n  // set states for calculating the longitude and latitude of the workplaces\n  const [workLong, setWorkLong] = useState()\n  const [workLat, setWorkLat] = useState()\n  const [famLong1, setFamLong1] = useState()\n  const [famLat1, setFamLat1] = useState()\n  const [famLong2, setFamLong2] = useState()\n  const [famLat2, setFamLat2] = useState()\n  const [geoData, setGeoData] = useState()\n  const [workRun, setWorkRun] = useState(false)\n  const [famRun, setFamRun] = useState(false)\n\n  // set state for the image values\n  const [imageTracking, setImageTracking] = useState(1)\n\n  // define state for currenmt image\n  const [currentImage, setCurrentImage] = useState()\n\n  // state for calculations compelte\n  const [calculationsDone, setCalculationsDone] = useState(false)\n\n  // ? Section 2: SETTING SEARCH CRITERIA - Define the search criteria that we will be using to filter the properties\n  // Section 2: Step 1 - load in user information so w can extract th latest search\n  const loadUserData = async () => {\n    if (isUserAuth())\n      try {\n        const { data } = await axios.get(`/api/auth/profile/${getUserToken()}/`, {\n          headers: {\n            Authorization: `Bearer ${getAccessToken()}`,\n          },\n        })\n        setPropertySearch(data.property_search_details)\n        console.log('property search array ->', data.property_search_details)\n        setUserData(data)\n        setFavouriteInfo(data.favourites)\n        console.log('favourite info ->', data.favourites)\n        console.log('userdata ->', data)\n        const favouriteList = []\n        data.favourites.forEach(item => favouriteList.includes(item.property) ? '' : favouriteList.push(item.property))\n        setListFavourites(favouriteList)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    else\n      try {\n        const { data } = await axios.get('/api/auth/profile/xplw7aq5r/AdminData/')\n        setPropertySearch(data.property_search_details)\n        console.log('property search array ->', data.property_search_details)\n        setUserData(data)\n        console.log('userdata ->', data)\n        const favouriteList = []\n        data.favourites.forEach(item => favouriteList.includes(item.property) ? '' : favouriteList.push(item.property))\n        setListFavourites(favouriteList)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    const input = JSON.parse(localStorage.getItem('wittle-form-input'))\n    setInitialForm(input)\n    console.log('initial form ->', input)\n  }\n\n  // load this data in\n  useEffect(() => {\n    loadUserData()\n  }, [])\n\n\n  // Section 2: Step 2 - extract the name of the search from storage and filter to get the current search\n  // if we just use the wholke form data from storage, we don't get access to the 'result_id' (pk), which stops us from editing it effectively\n  const extractFormName = () => {\n    if (initialForm)\n      try {\n        const result = propertySearch.filter(property => {\n          return property.search_name === initialForm.search_name\n        })\n        setFormData(result[0])\n        console.log('form data', result[0])\n        setSearchName(result[0])\n        // if (result[0] === undefined)\n        //   navigate('/access-denied')\n      } catch (error) {\n        console.log('unable to set form name')\n      }\n  }\n\n  // load this data in\n  useEffect(() => {\n    if (propertySearch.length > 0)\n      extractFormName()\n  }, [propertySearch])\n\n\n  // useEffect(() => {\n  //   if (initialForm)\n  //     contentChecking()\n  // }, [initialForm])\n\n\n\n  // ? Section 3: FETCHING PROPERTIES - extract properties from the database and apply initialy filters to these\n  // Section 3: Step 1 - get properties from the database\n  // Option 1 - search hasn't been done before and isn't in storage\n  // useEffect(() => {\n  const getProperties = async () => {\n    if (!localProp)\n      try {\n        const params = {\n          // page: page,\n          min_price: formData.property_price_min || undefined,\n          max_price: formData.property_price_max || undefined,\n          min_bedrooms: formData.property_bed_min || undefined,\n          max_bedrooms: formData.property_bed_max || undefined,\n          channel: formData.channel || undefined,\n          restaurants_dist: formData.restaurant_selection ? parseFloat(formData.restaurant_distance) || undefined : undefined,\n          pubs_dist: formData.pubs_selection ? parseFloat(formData.pubs_distance) || undefined : undefined,\n          cafes_dist: formData.cafes_selection ? parseFloat(formData.cafes_distance) || undefined : undefined,\n          takeaways_dist: formData.takeaway_selection ? parseFloat(formData.takeaway_distance) || undefined : undefined,\n          gyms_dist: formData.gym_selection ? parseFloat(formData.gym_distance) || undefined : undefined,\n          park_dist: formData.park_selection ? parseFloat(formData.park_distance) || undefined : undefined,\n          supermarkets_dist: formData.supermarket_selection ? parseFloat(formData.supermarket_distance) || undefined : undefined,\n          primaries_dist: formData.primary_selection ? parseFloat(formData.primary_distance) || undefined : undefined,\n          secondaries_dist: formData.secondary_selection ? parseFloat(formData.secondary_distance) || undefined : undefined,\n          colleges_dist: formData.college_selection ? parseFloat(formData.college_distance) || undefined : undefined,\n          tubes_dist: formData.tube_selection ? parseFloat(formData.tube_distance) || undefined : undefined,\n          trains_dist: formData.train_selection ? parseFloat(formData.train_distance) || undefined : undefined,\n        }\n        console.log('Frontend API call params ->', params)\n        const { data } = await axios.get('/api/properties/results', { params })\n        setProperties(data)\n        setResultsToLocalStorage()\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n  }\n\n\n  // const contentChecking = () => {\n  //   if (initialForm.search_name === '') \n  //     navigate('/access-denied') \n  // }\n\n\n  useEffect(() => {\n    if (propertySearch.length > 0 && searchName)\n      getProperties()\n  }, [propertySearch, searchName])\n\n  // Option 2 - search has been carried out before and is contained in storage\n  const getResults = (token) => {\n    if (propertySearch.length > 0)\n      try {\n        const data = JSON.parse(localStorage.getItem('wittle-results'))\n        if (data)\n          setLocalProp(data)\n        setFinalProp(data)\n        // setProperties(data)\n      } catch (error) {\n        console.log('no storage data')\n      }\n  }\n\n\n  // Section 3: Step 2 - define criteria to remove any properties that don't fit the criteria\n  const removeEmpties = () => {\n    const calculation =\n      properties.filter(property =>\n        property.gyms.length !== 0 &\n        property.primaries.length !== 0 &\n        property.supermarkets.length !== 0 &\n        property.restaurants.length !== 0 &\n        property.parks.length !== 0 &\n        property.cafes.length !== 0 &\n        property.tubes.length !== 0 &\n        property.trains.length !== 0 &\n        property.bars.length !== 0 &\n        property.takeaways.length !== 0 &\n        property.secondaries.length !== 0 &\n        property.colleges.length !== 0)\n    setLocalProp(calculation)\n    setFinalProp(calculation)\n  }\n\n\n  // apply the changes from section 3\n  useEffect(() => {\n    (properties && propertySearch) ? removeEmpties() : getResults()\n  }, [properties, propertySearch])\n\n  // define function for setting results to storage\n  const setResultsToLocalStorage = (token) => {\n    window.localStorage.setItem('wittle-results', JSON.stringify(localProp))\n    setFinalProp(localProp)\n  }\n\n\n\n  // ? Section 4: APPLY FORM FILTERS - take the inputs freom the form and apply these to the properties before we carry out calculations\n  // Section 4: Step 1 - filter the properties based on the bvalue inputted by the user\n  const propertyFilter = () => {\n    const calculation =\n      finalProp.filter(property => {\n        return (formData.search_channel === 'Buying') ? (property.value <= formData.property_price_max && property.value >= formData.property_price_min) : (formData.search_channel === 'Renting') ? (property.monthly <= formData.property_price_max && property.monthly >= formData.property_price_min) : property\n      })\n    console.log('filtered properties ->', calculation)\n    setFilteredProperties1(calculation)\n  }\n\n  // apply the value filterr\n  useEffect(() => {\n    if (finalProp)\n      propertyFilter()\n  }, [finalProp])\n\n\n  // Section 4: Step 2 - filter the property based on the number of bedrooms inputted by the user\n  const bedroomFilter = () => {\n    const calculation2 =\n      filteredProperties1.filter(property => {\n        return (property.bedrooms <= formData.property_bed_max && property.bedrooms >= formData.property_bed_min)\n      })\n    console.log('filtered properties 2 ->', calculation2)\n    setFilteredProperties2(calculation2)\n  }\n\n  // apply the bedroom filter\n  useEffect(() => {\n    if (filteredProperties1)\n      bedroomFilter()\n  }, [filteredProperties1])\n\n\n  // Section 4: Step 3 - fitler the property based on the type of property\n  const propertyType = () => {\n    const calculation =\n      filteredProperties2.filter(property => {\n        return (formData.property_type === 'House' ? property.type = 'house' : formData.property_type === 'Flat' ? property.type = 'flat' : property)\n      })\n    console.log('filtered properties 3 ->', calculation)\n    setFilteredProperties3(calculation)\n  }\n\n  // apply the property type filter\n  useEffect(() => {\n    if (filteredProperties2)\n      propertyType()\n  }, [filteredProperties2])\n\n\n  // Section 4: Step 4 - filter out any restaurants not in the desired radius\n  const formFilters = () => {\n    const calculation =\n      filteredProperties3.map(property => {\n        return {\n          ...property,\n          restaurants: formData.restaurant_selection ? property.restaurants.filter(restaurant => {\n            return restaurant.walking_time_mins <= formData.restaurant_distance\n          }) : property.restaurants,\n          takeaways: formData.takeaway_selection ? property.takeaways.filter(restaurant => {\n            return restaurant.walking_time_mins <= formData.takeaway_distance\n          }) : property.takeaways,\n          bars: formData.pubs_selection ? property.bars.filter(bar => {\n            return bar.walking_time_mins <= formData.pubs_distance\n          }) : property.bars,\n          cafes: formData.cafes_selection ? property.cafes.filter(cafe => {\n            return cafe.walking_time_mins <= formData.cafes_distance\n          }) : property.cafes,\n          supermarkets: formData.supermarket_selection ? property.supermarkets.filter(shop => {\n            return shop.walking_time_mins <= formData.supermarket_distance\n          }) : property.supermarkets,\n          gyms: formData.gym_selection ? property.gyms.filter(gym => {\n            return gym.walking_time_mins <= formData.gym_distance\n          }) : property.gyms,\n          parks: formData.park_selection ? property.parks.filter(park => {\n            return park.walking_time_mins <= formData.park_distance\n          }) : property.parks,\n          tubes: formData.tube_selection ? property.tubes.filter(tube => {\n            return tube.walking_time_mins <= formData.tube_distance\n          }) : property.tubes,\n          primaries: formData.primary_selection ? property.primaries.filter(school => {\n            return school.walking_time_mins <= formData.primary_distance\n          }) : property.primaries,\n          secondaries: formData.secondary_selection ? property.secondaries.filter(school => {\n            return school.walking_time_mins <= formData.secondary_distance\n          }) : property.secondaries,\n        }\n      })\n    console.log('filtered properties 4->', calculation)\n    setFilteredProperties4(calculation)\n  }\n\n  useEffect(() => {\n    if (filteredProperties3)\n      formFilters()\n  }, [filteredProperties3])\n\n\n\n  // ? Section 5: CALCULATE MISSING FIELDS - if a user selects workplace or family as options, we need to calculate distances for these so we can filter on them\n  // Step 1: Extract coordinates from the postcvode using 3rd party API\n  const getWork = async () => {\n    try {\n      let postcode = initialForm.workplace_detail\n      if (postcode === 'False')\n        postcode = ''\n      else\n        postcode === postcode\n      const { data } = await axios.get(`https://api.postcodes.io/postcodes/${postcode}`)\n      // const { data } = await axios.get('http://getthedata.com/postcode/E11NH')\n      setWorkLat(parseFloat(data.result.latitude))\n      setWorkLong(parseFloat(data.result.longitude))\n      console.log(data.result.longitude)\n      setGeoData(data)\n      console.log('workplace coordinates retrieved')\n    } catch (error) {\n      setErrors(true)\n    }\n    setWorkRun(true)\n  }\n\n  // run calculation for work postcode data\n  useEffect(() => {\n    if (finalProp)\n      getWork()\n  }, [finalProp])\n\n\n  // extract family postcode from third party api\n  const getFam = async () => {\n    if (initialForm)\n      try {\n        let postcode = initialForm.family_detail_1\n        if (postcode === 'False')\n          postcode = ''\n        else\n          postcode === postcode\n        const { data } = await axios.get(`https://api.postcodes.io/postcodes/${postcode}`)\n        setFamLat1(parseFloat(data.result.latitude))\n        setFamLong1(parseFloat(data.result.longitude))\n        console.log(data.result.longitude)\n\n      } catch (error) {\n        setErrors(true)\n        console.log('family postcode error ->', error.response.data.error)\n      }\n    setFamRun(true)\n  }\n\n  // run calculation for family postcode fata \n  useEffect(() => {\n    if (workRun)\n      getFam()\n  }, [workRun])\n\n\n  // Step 2: calculate the distance between the properties and the workplace\n  const workPlaceCalc1 = () => {\n    const calculation =\n      filteredProperties4.map(property => {\n        return {\n          ...property,\n          workplace:\n          {\n            workplace_long: workLong,\n            workplace_lat: workLat,\n            workplace_distance_km: (12742 * Math.sin(Math.sqrt(0.5 - Math.cos((property.Lat - parseFloat(workLat)) * (Math.PI / 180)) / 2 + Math.cos(parseFloat(workLat) * (Math.PI / 180)) * Math.cos(property.Lat * (Math.PI / 180)) * (1 - Math.cos((property.long - parseFloat(workLong)) * (Math.PI / 180))) / 2))) * 1.2,\n          },\n          family1:\n          {\n            family_long: famLong1,\n            family_lat: famLat1,\n            family_distance_km: (12742 * Math.sin(Math.sqrt(0.5 - Math.cos((property.Lat - parseFloat(famLat1)) * (Math.PI / 180)) / 2 + Math.cos(parseFloat(famLat1) * (Math.PI / 180)) * Math.cos(property.Lat * (Math.PI / 180)) * (1 - Math.cos((property.long - parseFloat(famLong1)) * (Math.PI / 180))) / 2))) * 1.2,\n          },\n        }\n      })\n    setWorkFamilyCalc1(calculation)\n  }\n\n  // run calculation - we need to wait for the work and family postcode calculatinos to runpostcode \n  useEffect(() => {\n    // if (filteredProperties3 & workRun & famRun)\n    if (famRun)\n      workPlaceCalc1()\n  }, [famRun])\n\n\n  // Step 3: define the drive/cycle/walk time between the workplace and properties\n  const workPlaceCalc2 = () => {\n    const calculation =\n      workFamilyCalc1.map(property => {\n        return {\n          ...property,\n          workplace:\n            [{\n              workplace_long: property.workplace.workplace_long,\n              workplace_lat: property.workplace.workplace_lat,\n              workplace_distance_km: property.workplace.workplace_distance_km,\n              workplace_cycling_mins: (property.workplace.workplace_distance_km / 20) * 60,\n              workplace_walking_mins: (property.workplace.workplace_distance_km / 5) * 60,\n              workplace_driving_mins: (property.workplace.workplace_distance_km / 22) * 60,\n            }],\n          workplace_extra:\n          {\n            workplace_long: property.workplace.workplace_long,\n            workplace_lat: property.workplace.workplace_lat,\n            workplace_distance_km: property.workplace.workplace_distance_km,\n            workplace_cycling_mins: ((property.workplace.workplace_distance_km / 20) * 60).toFixed(0),\n            workplace_walking_mins: ((property.workplace.workplace_distance_km / 5) * 60).toFixed(0),\n            workplace_driving_mins: ((property.workplace.workplace_distance_km / 22) * 60).toFixed(0),\n          },\n          family1:\n            [{\n              family_long: property.family1.family_long,\n              family_lat: property.family1.family_lat,\n              family_distance_km: property.family1.family_distance_km,\n              family_cycling_mins: (property.family1.family_distance_km / 20) * 60,\n              family_walking_mins: (property.family1.family_distance_km / 5) * 60,\n              family_driving_mins: (property.family1.family_distance_km / 22) * 60,\n            }],\n          family1_extra:\n          {\n            family_long: property.family1.family_long,\n            family_lat: property.family1.family_lat,\n            family_distance_km: property.family1.family_distance_km,\n            family_cycling_mins: ((property.family1.family_distance_km / 20) * 60).toFixed(0),\n            family_walking_mins: ((property.family1.family_distance_km / 5) * 60).toFixed(0),\n            family_driving_mins: ((property.family1.family_distance_km / 22) * 60).toFixed(0),\n          },\n        }\n      })\n    setWorkFamilyCalc2(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (workFamilyCalc1)\n      workPlaceCalc2()\n  }, [workFamilyCalc1])\n\n\n\n  // ? Section 6: CONVERT VARIABLE VALUES - to imporve database efficiency, some fields have been converted to numbers. These need to be updated to show actual values\n  // Section 6: Step 1 - updating first set of values\n  const calculation1 = () => {\n    const calculation =\n      workFamilyCalc2.map(property => {\n        return {\n          ...property,\n          restaurants: property.restaurants.map(restaurant => {\n            return (restaurant.cuisine_value === 0) ? { ...restaurant, cuisine: 'Indian' } : (restaurant.cuisine_value === 1) ? { ...restaurant, cuisine: 'British' } : (restaurant.cuisine_value === 2) ? { ...restaurant, cuisine: 'American' } : (restaurant.cuisine_value === 3) ? { ...restaurant, cuisine: 'French' } : (restaurant.cuisine_value === 4) ? { ...restaurant, cuisine: 'European' } :\n              (restaurant.cuisine_value === 5) ? { ...restaurant, cuisine: 'Spanish' } : (restaurant.cuisine_value === 6) ? { ...restaurant, cuisine: 'Italian' } : (restaurant.cuisine_value === 7) ? { ...restaurant, cuisine: 'South American' } : (restaurant.cuisine_value === 8) ? { ...restaurant, cuisine: 'Chinesee' } : (restaurant.cuisine_value === 9) ? { ...restaurant, cuisine: 'Gastro Pub' } :\n                (restaurant.cuisine_value === 10) ? { ...restaurant, cuisine: 'Japanese' } : (restaurant.cuisine_value === 11) ? { ...restaurant, cuisine: 'Pub food' } : (restaurant.cuisine_value === 12) ? { ...restaurant, cuisine: 'Thai' } : (restaurant.cuisine_value === 13) ? { ...restaurant, cuisine: 'Seafood' } : (restaurant.cuisine_value === 14) ? { ...restaurant, cuisine: 'Middle Eastern' } :\n                  (restaurant.cuisine_value === 15) ? { ...restaurant, cuisine: 'Pizza' } : (restaurant.cuisine_value === 16) ? { ...restaurant, cuisine: 'Vietnamese' } : (restaurant.cuisine_value === 17) ? { ...restaurant, cuisine: 'Modern' } : (restaurant.cuisine_value === 18) ? { ...restaurant, cuisine: 'North African' } : (restaurant.cuisine_value === 19) ? { ...restaurant, cuisine: 'Central American' } :\n                    (restaurant.cuisine_value === 20) ? { ...restaurant, cuisine: 'South East Asian' } : (restaurant.cuisine_value === 21) ? { ...restaurant, cuisine: 'No Cuisine Data' } : (restaurant.cuisine_value === 22) ? { ...restaurant, cuisine: 'No Cuisine Data' } : (restaurant.cuisine_value === 23) ? { ...restaurant, cuisine: 'Turkish' } : (restaurant.cuisine_value === 24) ? { ...restaurant, cuisine: 'Other' } :\n                      (restaurant.cuisine_value === 25) ? { ...restaurant, cuisine: 'Mediterranean' } : (restaurant.cuisine_value === 26) ? { ...restaurant, cuisine: 'Asian' } : (restaurant.cuisine_value === 27) ? { ...restaurant, cuisine: 'Meat & Grill' } : (restaurant.cuisine_value === 28) ? { ...restaurant, cuisine: 'International' } : (restaurant.cuisine_value === 29) ? { ...restaurant, cuisine: 'Bar' } :\n                        (restaurant.cuisine_value === 30) ? { ...restaurant, cuisine: 'Mexican' } : (restaurant.cuisine_value === 31) ? { ...restaurant, cuisine: 'Greek' } : (restaurant.cuisine_value === 32) ? { ...restaurant, cuisine: 'Afternoon Tea' } : (restaurant.cuisine_value === 33) ? { ...restaurant, cuisine: 'Vegetarian/ Vegan' } : (restaurant.cuisine_value === 34) ? { ...restaurant, cuisine: 'Chicken' } :\n                          (restaurant.cuisine_value === 35) ? { ...restaurant, cuisine: 'Wine Bar' } : (restaurant.cuisine_value === 36) ? { ...restaurant, cuisine: 'Central Asian' } : (restaurant.cuisine_value === 37) ? { ...restaurant, cuisine: 'South African' } : { ...restaurant, cuisine: 'No Cuisine Data' }\n          }),\n          takeaways: property.takeaways.map(restaurant => {\n            return (restaurant.cuisine.length > 50) ? { ...restaurant, cuisine: 'Multiple' } : { ...restaurant, cuisine: restaurant.cuisine }\n          }),\n          bars: property.bars.map(pub => {\n            return (pub.pub_category_value === 0) ? { ...pub, pub_category: 'Worth a visit' } : (pub.pub_category_value === 1) ? { ...pub, pub_category: 'Other pubs' } : (pub.pub_category_value === 2) ? { ...pub, pub_category: 'Timeout100' } : (pub.pub_category_value === 3) ? { ...pub, pub_category: 'Other Pubs' } : { ...pub, pub_category: 'Recommended' }\n          }),\n          gyms: property.gyms.map(gym => {\n            return (gym.gym_group_value === 0) ? { ...gym, gym_group: 'Other' } : (gym.gym_group_value === 1) ? { ...gym, gym_group: 'Fitness First' } : (gym.gym_group_value === 2) ? { ...gym, gym_group: 'MoreYoga' } : (gym.gym_group_value === 3) ? { ...gym, gym_group: 'Virgin' } : (gym.gym_group_value === 4) ? { ...gym, gym_group: 'Pure Gym' } : (gym.gym_group_value === 5) ? { ...gym, gym_group: 'The Gym Group' } : (gym.gym_group_value === 6) ? { ...gym, gym_group: 'Barrecore' } : (gym.gym_group_value === 7) ? { ...gym, gym_group: 'Nuffield Health' } :\n              (gym.gym_group_value === 8) ? { ...gym, gym_group: '1Rebel' } : (gym.gym_group_value === 9) ? { ...gym, gym_group: 'Gymbox' } : (gym.gym_group_value === 10) ? { ...gym, gym_group: 'Barrys' } : { ...gym, gym_group: 'Third Space' }\n          }),\n          supermarkets: property.supermarkets.map(supermarket => {\n            return (supermarket.cleansed_name_value === 0) ? { ...supermarket, cleansed_name: 'Co-op' } : (supermarket.cleansed_name_value === 1) ? { ...supermarket, cleansed_name: 'Tesco' } : (supermarket.cleansed_name_value === 2) ? { ...supermarket, cleansed_name: 'Sainsburys' } : (supermarket.cleansed_name_value === 3) ? { ...supermarket, cleansed_name: 'Nisa' } : (supermarket.cleansed_name_value === 4) ? { ...supermarket, cleansed_name: 'Budgens' } : (supermarket.cleansed_name_value === 5) ? { ...supermarket, cleansed_name: 'Amazon Fresh' } :\n              (supermarket.cleansed_name_value === 6) ? { ...supermarket, cleansed_name: 'Spar' } : (supermarket.cleansed_name_value === 7) ? { ...supermarket, cleansed_name: 'Asda' } : (supermarket.cleansed_name_value === 8) ? { ...supermarket, cleansed_name: 'Morrisons' } : (supermarket.cleansed_name_value === 9) ? { ...supermarket, cleansed_name: 'M&S Food' } : (supermarket.cleansed_name_value === 10) ? { ...supermarket, cleansed_name: 'Waitrose' } : (supermarket.cleansed_name_value === 11) ? { ...supermarket, cleansed_name: 'Whole Foods' } :\n                (supermarket.cleansed_name_value === 12) ? { ...supermarket, cleansed_name: 'Iceland' } : (supermarket.cleansed_name_value === 13) ? { ...supermarket, cleansed_name: 'Farmfoods' } : (supermarket.cleansed_name_value === 14) ? { ...supermarket, cleansed_name: 'Lidl' } : (supermarket.cleansed_name_value === 16) ? { ...supermarket, cleansed_name: 'Londis' } : (supermarket.cleansed_name_value === 17) ? { ...supermarket, cleansed_name: 'Local Convenience Store' } : (supermarket.cleansed_name_value === 18) ? { ...supermarket, cleansed_name: 'Costcutter' } :\n                  (supermarket.segment_value === 0) ? { ...supermarket, segment: 'Mainstream' } : (supermarket.segment_value === 1) ? { ...supermarket, segment: 'Premium' } : (supermarket.segment_value === 2) ? { ...supermarket, segment: 'Budget' } : (supermarket.segment_value === 3) ? { ...supermarket, segment: 'Convenience' } :\n                    (supermarket.size_value === 0) ? { ...supermarket, size: 'Local' } : (supermarket.size_value === 1) ? { ...supermarket, size: 'Convenience' } : { ...supermarket, size: 'Large' }\n          }),\n          primaries: property.primaries.map(school => {\n            return (school.ofsted_value === 0) ? { ...school, ofsted_results: 'Outstanding' } : (school.ofsted_value === 1) ? { ...school, ofsted_results: 'Good' } : (school.ofsted_value === 2) ? { ...school, ofsted_results: 'No assessment' } : (school.ofsted_value === 3) ? { ...school, ofsted_results: 'Requires Improvement' } : (school.ofsted_value === 4) ? { ...school, ofsted_results: 'Serious Weaknesses' } : { ...school, ofsted_results: 'Special Measures' }\n          }),\n          secondaries: property.secondaries.map(school => {\n            return (school.ofsted_value === 0) ? { ...school, ofsted_results: 'Outstanding' } : (school.ofsted_value === 1) ? { ...school, ofsted_results: 'Good' } : (school.ofsted_value === 2) ? { ...school, ofsted_results: 'No assessment' } : (school.ofsted_value === 3) ? { ...school, ofsted_results: 'Requires Improvement' } : (school.ofsted_value === 4) ? { ...school, ofsted_results: 'Serious Weaknesses' } : { ...school, ofsted_results: 'Special Measures' }\n          }),\n          // colleges: property.colleges.map(school => {\n          //   return (school.ofsted_value === 0) ? { ...school, ofsted_results: 'Outstanding' } : (school.ofsted_value === 1) ? { ...school, ofsted_results: 'Good' } : (school.ofsted_value === 2) ? { ...school, ofsted_results: 'No assessment' } : (school.ofsted_value === 3) ? { ...school, ofsted_results: 'Requires Improvement' } : (school.ofsted_value === 4) ? { ...school, ofsted_results: 'Serious Weaknesses' } : { ...school, ofsted_results: 'Special Measures' }\n          // }),\n        }\n      })\n    setCalc1(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (workFamilyCalc2)\n      calculation1()\n  }, [workFamilyCalc2])\n\n\n  // Section 6: Step 2 - updating second set of values  \n  const calculation2 = () => {\n    const calculation =\n      calc1.map(property => {\n        return {\n          ...property,\n          restaurants: property.restaurants.map(restaurant => {\n            return (restaurant.source_value === 0) ? { ...restaurant, source: 'Open Table' } : (restaurant.source_value === 1) ? { ...restaurant, source: 'Google' } : (restaurant.source_value === 2) ? { ...restaurant, source: 'Open Table & Google' } : (restaurant.source_value === 3) ? { ...restaurant, source: 'Michelin Guide' } : (restaurant.source_value === 0) ? { ...restaurant, source: 'Michelin & Google' } : (restaurant.source_value === 5) ? { ...restaurant, source: 'Open Table & Michelin' } : { ...restaurant, source: 'Open Table, Michelin & Google' }\n          }),\n          supermarkets: property.supermarkets.map(supermarket => {\n            return (supermarket.segment_value === 0) ? { ...supermarket, segment: 'Mainstream' } : (supermarket.segment_value === 1) ? { ...supermarket, segment: 'Premium' } : (supermarket.segment_value === 2) ? { ...supermarket, segment: 'Budget' } : { ...supermarket, segment: 'Convenience' }\n          }),\n          primaries: property.primaries.map(school => {\n            return (school.ofsted_recency_value === 0) ? { ...school, ofsted_recncy: 'Over 8 Years' } : (school.ofsted_recency_value === 1) ? { ...school, ofsted_recency: 'Within 5 Years' } : (school.ofsted_recency_value === 2) ? { ...school, ofsted_recency: 'Within 8 Years' } : (school.ofsted_recency_value === 3) ? { ...school, ofsted_recency: 'Within 3 Years' } : (school.ofsted_recency_value === 4) ? { ...school, ofsted_recency: 'Within 1 Year' } : { ...school, ofsted_results: 'No assessment' }\n          }),\n          secondaries: property.secondaries.map(school => {\n            return (school.ofsted_recency_value === 0) ? { ...school, ofsted_recncy: 'Over 8 Years' } : (school.ofsted_recency_value === 1) ? { ...school, ofsted_recency: 'Within 5 Years' } : (school.ofsted_recency_value === 2) ? { ...school, ofsted_recency: 'Within 8 Years' } : (school.ofsted_recency_value === 3) ? { ...school, ofsted_recency: 'Within 3 Years' } : (school.ofsted_recency_value === 4) ? { ...school, ofsted_recency: 'Within 1 Year' } : { ...school, ofsted_results: 'No assessment' }\n          }),\n          // colleges: property.colleges.map(school => {\n          //   return (school.ofsted_recency_value === 0) ? { ...school, ofsted_recncy: 'Over 8 Years' } : (school.ofsted_recency_value === 1) ? { ...school, ofsted_recency: 'Within 5 Years' } : (school.ofsted_recency_value === 2) ? { ...school, ofsted_recency: 'Within 8 Years' } : (school.ofsted_recency_value === 3) ? { ...school, ofsted_recency: 'Within 3 Years' } : (school.ofsted_recency_value === 4) ? { ...school, ofsted_recency: 'Within 1 Year' } : { ...school, ofsted_results: 'No assessment' }\n          // }),\n        }\n      })\n    setCalc2(calculation)\n  }\n\n  // run calculatino\n  useEffect(() => {\n    if (calc1)\n      calculation2()\n  }, [calc1])\n\n\n  // Section 6: Step 3 - updating third set of values  \n  const calculation3 = () => {\n    const calculation =\n      calc2.map(property => {\n        return {\n          ...property,\n          supermarkets: property.supermarkets.map(supermarket => {\n            return (supermarket.size_value === 0) ? { ...supermarket, size: 'Local' } : (supermarket.size_value === 1) ? { ...supermarket, size: 'Convenience' } : { ...supermarket, size: 'Large' }\n          }),\n          primaries: property.primaries.map(school => {\n            return (school.religion_value === 0) ? { ...school, religious_grouping: 'Does not apply' } : (school.religion_value === 1) ? { ...school, religious_grouping: 'Church of England' } : (school.religion_value === 2) ? { ...school, religious_grouping: 'Roman Catholic' } : (school.religion_value === 3) ? { ...school, religious_grouping: 'None' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Muslim' } : (school.religion_value === 5) ? { ...school, religious_grouping: 'Jewish' } : (school.religion_value === 6) ? { ...school, religious_grouping: 'Christian' } : (school.religion_value === 7) ? { ...school, religious_grouping: 'Catholic' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Church of England/Christian' } : { ...school, religious_grouping: 'Hindu' }\n          }),\n          secondaries: property.secondaries.map(school => {\n            return (school.religion_value === 0) ? { ...school, religious_grouping: 'Does not apply' } : (school.religion_value === 1) ? { ...school, religious_grouping: 'Church of England' } : (school.religion_value === 2) ? { ...school, religious_grouping: 'Roman Catholic' } : (school.religion_value === 3) ? { ...school, religious_grouping: 'None' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Muslim' } : (school.religion_value === 5) ? { ...school, religious_grouping: 'Jewish' } : (school.religion_value === 6) ? { ...school, religious_grouping: 'Christian' } : (school.religion_value === 7) ? { ...school, religious_grouping: 'Catholic' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Church of England/Christian' } : { ...school, religious_grouping: 'Hindu' }\n          }),\n          // colleges: property.colleges.map(school => {\n          //   return (school.religion_value === 0) ? { ...school, religious_grouping: 'Does not apply' } : (school.religion_value === 1) ? { ...school, religious_grouping: 'Church of England' } : (school.religion_value === 2) ? { ...school, religious_grouping: 'Roman Catholic' } : (school.religion_value === 3) ? { ...school, religious_grouping: 'None' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Muslim' } : (school.religion_value === 5) ? { ...school, religious_grouping: 'Jewish' } : (school.religion_value === 6) ? { ...school, religious_grouping: 'Christian' } : (school.religion_value === 7) ? { ...school, religious_grouping: 'Catholic' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Church of England/Christian' } : { ...school, religious_grouping: 'Hindu' }\n          // }),\n        }\n      })\n    setCalc3(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc2)\n      calculation3()\n  }, [calc2])\n\n\n  // Section 6: Step 4 - updating fourth set of values  \n  const calculation4 = () => {\n    const calculation =\n      calc3.map(property => {\n        return {\n          ...property,\n          primaries: property.primaries.map(school => {\n            return (school.gender_value === 0) ? { ...school, gender: 'Mixed' } : (school.gender_value === 1) ? { ...school, gender: 'Girls' } : { ...school, gender: 'Boys' }\n          }),\n          secondaries: property.secondaries.map(school => {\n            return (school.gender_value === 0) ? { ...school, gender: 'Mixed' } : (school.gender_value === 1) ? { ...school, gender: 'Girls' } : { ...school, gender: 'Boys' }\n          }),\n          // colleges: property.colleges.map(school => {\n          //   return (school.gender_value === 0) ? { ...school, gender: 'Mixed' } : (school.gender_value === 1) ? { ...school, gender: 'Girls' } : { ...school, gender: 'Boys' }\n          // }),\n        }\n      })\n    setCalc4(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc3)\n      calculation4()\n  }, [calc3])\n\n\n  // ? Section 7: CALCULATIONS FOR WITTLE ALGORITHM - key calculations that will complete the match score\n  // First key calculation that will give a value for the variables on each property\n  const calculation5 = () => {\n    const calculation =\n      calc4.map(property => {\n        return {\n          ...property,\n          restaurant_calcs: formData.restaurant_selection ? property.restaurants.map(restaurant => {\n            return (restaurant.Rating >= 4.9) ? { ...restaurant, restaurant_score: 15 } : (restaurant.Rating >= 4.7) ? { ...restaurant, restaurant_score: 12 } : (restaurant.Rating >= 4.5) ? { ...restaurant, restaurant_score: 9 } : (restaurant.Rating >= 4.3) ? { ...restaurant, restaurant_score: 6 } : (restaurant.Rating >= 4.1) ? { ...restaurant, restaurant_score: 4 } : (restaurant.Rating >= 3.8) ? { ...restaurant, restaurant_score: 2 } : { ...restaurant, restaurant_score: 1 }\n          }) : 'Not selected',\n          pub_calcs: formData.pubs_selection ? property.bars.map(pub => {\n            return (pub.pub_category === 'Recommended' || pub.pub_category === 'Timeout100') ? { ...pub, pub_score: 100 } : (pub.pub_category === 'Worth a visit') ? { ...pub, pub_score: 50 } : { ...pub, pub_score: 5 }\n          }) : 'Not selected',\n          primaries_calcs: formData.primary_selection ? property.primaries.map(primary => {\n            return (primary.ofsted_results === 'Outstanding') ? { ...primary, primary_score: 100 } : (primary.ofsted_results === 'Good') ? { ...primary, primary_score: 20 } : { ...primary, primary_score: 10 }\n          }) : 'Not selected',\n          tubes_calcs: formData.tube_selection ? property.tubes.map(tube => {\n            return (formData.tube_distance === 0) ? { ...tube, tube_score: 0 } : (formData.tube_distance <= 15 && tube.walking_time_mins <= 5) ? { ...tube, tube_score: 1 } : (formData.tube_distance > 15 && tube.walking_time_mins <= (formData.tube_distance / 3)) ? { ...tube, tube_score: 1 } : (formData.tube_distance <= 15 && tube.walking_time_mins > 5) ? { ...tube, tube_score: 1 - (((tube.walking_time_mins - 5) / (formData.tube_distance - 5)) * 0.3) } : (formData.tube_distance > 15 && tube.walking_time_mins > 5) ? { ...tube, tube_score: 1 - ((tube.walking_time_mins - (formData.tube_distance * 0.33)) / (formData.tube_distance - (formData.tube_distance * 0.33)) * 0.3) } : { ...tube, tube_score: 0 }\n          }) : 'Not selected',\n          cafes_calcs: formData.cafes_selection ? property.cafes.map(cafe => {\n            return (formData.cafes_decision === 'Specific' & formData.cafes_detail === cafe.cleansed_name) ? { ...cafe, cafe_score: 100 } : { ...cafe, cafe_score: 10 }\n          }) : 'Not selected',\n          supermarkets_calcs: formData.supermarket_selection ? property.supermarkets.map(supermarket => {\n            return (formData.supermarket_segment === supermarket.segment) ? { ...supermarket, supermarket_match: 1 } : { ...supermarket, supermarket_match: 0 }\n          }) : 'Not selected',\n          parks_calcs: formData.park_selection ? property.parks.map(park => {\n            return (formData.park_type === park.park_type) ? { ...park, park_match: 1 } : { ...park, park_match: 0 }\n          }) : 'Not selected',\n          gym_calcs: formData.gym_selection ? property.gyms.map(gym => {\n            return (formData.gym_studio_name === gym.gym_group) ? { ...gym, gym_match: 1 } : { ...gym, gym_match: 0 }\n          }) : 'Not selected',\n          train_calcs: formData.train_selection && property.trains ? property.trains.map(train => {\n            return (formData.train_distance === 0) ? { ...train, train_score: 0 } : (formData.train_distance <= 15 && train.walking_time_mins <= 5) ? { ...train, train_score: 1 } : (formData.train_distance > 15 && train.walking_time_mins <= (formData.train_distance / 3)) ? { ...train, train_score: 1 } : (formData.train_distance <= 15 && train.walking_time_mins > 5) ? { ...train, train_score: 1 - (((train.walking_time_mins - 5) / (formData.train_distance - 5)) * 0.3) } : (formData.train_distance > 15 && train.walking_time_mins > 5) ? { ...train, train_score: 1 - ((train.walking_time_mins - (formData.train_distance * 0.33)) / (formData.train_distance - (formData.train_distance * 0.33)) * 0.3) } : { ...train, train_score: 0 }\n          }) : 'Not selected',\n          secondaries_calcs: formData.secondary_selection ? property.secondaries.map(secondary => {\n            return (secondary.ofsted_results === 'Outstanding') ? { ...secondary, secondary_score: 100 } : (secondary.ofsted_results === 'Good') ? { ...secondary, secondary_score: 20 } : { ...secondary, secondary_score: 10 }\n          }) : 'Not selected',\n          colleges_calcs: property.colleges ? property.colleges.map(college => {\n            return (college.ofsted_results === 'Outstanding') ? { ...college, college_score: 100 } : (college.ofsted_results === 'Good') ? { ...college, college_score: 20 } : { ...college, college_score: 10 }\n          }) : 'Not selected',\n          takeaway_calcs: formData.takeaway_selection ? property.takeaways.map(restaurant => {\n            return (restaurant.wittle_rating >= 9.6) ? { ...restaurant, takeaway_score: 15 } : (restaurant.wittle_rating >= 9.2) ? { ...restaurant, takeaway_score: 12 } : (restaurant.wittle_rating >= 9.0) ? { ...restaurant, takeaway_score: 9 } : (restaurant.wittle_rating >= 8.6) ? { ...restaurant, takeaway_score: 6 } : (restaurant.wittle_rating >= 8.2) ? { ...restaurant, takeaway_score: 4 } : (restaurant.wittle_rating >= 7.9) ? { ...restaurant, takeaway_score: 2 } : { ...restaurant, takeaway_score: 1 }\n          }) : 'Not selected',\n          workplace_score: formData.workplace_selection ? property.workplace.map(workplace => {\n            return (formData.workplace_transport === 'Driving/ transport' & workplace.workplace_driving_mins <= formData.workplace_distance) ? (0.8 + (0.2 - ((workplace.workplace_driving_mins / formData.workplace_distance) * 0.2))) : (formData.workplace_transport === 'Driving/ transport' & workplace.workplace_driving_mins > formData.workplace_distance) ? 0.2\n              : (formData.workplace_transport === 'Cycling' & workplace.workplace_cycling_mins <= formData.workplace_distance) ? (0.8 + (0.2 - ((workplace.workplace_cycling_mins / formData.workplace_distance) * 0.2))) : (formData.workplace_transport === 'Cycling' & workplace.workplace_cycling_mins > formData.workplace_distance) ? 0.2\n                : (formData.workplace_transport === 'Walking' & workplace.workplace_walking_mins <= formData.workplace_distance) ? (0.8 + (0.2 - ((workplace.workplace_walking_mins / formData.workplace_distance) * 0.2))) : 0.2\n          })[0] : 'Not selected',\n          family1_score: formData.family_selection ? property.family1.map(workplace => {\n            return (formData.family_mode_1 === 'Driving/ transport' & workplace.family_driving_mins <= formData.family_distance_1) ? (0.8 + (0.2 - ((workplace.family_driving_mins / formData.family_distance_1) * 0.2))) : (formData.family_mode_1 === 'Driving/ transport' & workplace.family_driving_mins > formData.family_distance_1) ? 0.2\n              : (formData.family_mode_1 === 'Cycling' & workplace.family_cycling_mins <= formData.family_distance_1) ? (0.8 + (0.2 - ((workplace.family_cycling_mins / formData.family_distance_1) * 0.2))) : (formData.family_mode_1 === 'Cycling' & workplace.family_cycling_mins > formData.family_distance_1) ? 0.2\n                : (formData.family_mode_1 === 'Walking' & workplace.family_walking_mins <= formData.family_distance_1) ? (0.8 + (0.2 - ((workplace.family_walking_mins / formData.family_distance_1) * 0.2))) : 0.2\n          })[0] : 'Not selected',\n          // property_images: [property.property_image_1, property.property_image_2],\n          property_images: [\n            { url: property.property_image_1 },\n            { url: property.property_image_2 }\n          ],\n        }\n      })\n    setCalc5(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc4)\n      calculation5()\n  }, [calc4])\n\n\n  // Second key calculation that will give a total value for each variable per property that we can use to give a match %\n  const calculation6 = () => {\n    const calculation =\n      calc5.map(property => {\n        return {\n          ...property,\n          restaurant_total: property.restaurant_calcs !== 'Not selected' ? property.restaurant_calcs.reduce((a, v) => {\n            return a + v.restaurant_score\n          }, 0) : 'Not selected',\n          pub_total: property.pub_calcs !== 'Not selected' ? property.pub_calcs.reduce((a, v) => {\n            return a + v.pub_score\n          }, 0) : 'Not selected',\n          primaries_total: property.primaries_calcs !== 'Not selected' ? property.primaries_calcs.reduce((a, v) => {\n            return a + v.primary_score\n          }, 0) : 'Not selected',\n          tubes_total: property.tubes_calcs !== 'Not selected' ? Math.max(...property.tubes_calcs.map(o => o.tube_score), 0) : 'Not selected',\n          cafes_total: property.cafes_calcs !== 'Not selected' ? property.cafes_calcs.reduce((a, v) => {\n            return a + v.cafe_score\n          }, 0) : 'Not selected',\n          supermarkets_total: property.supermarkets_calcs !== 'Not selected' ? property.supermarkets_calcs.reduce((a, v) => {\n            return a + v.supermarket_match\n          }, 0) : 'Not selected',\n          parks_total: property.parks_calcs !== 'Not selected' ? property.parks_calcs.reduce((a, v) => {\n            return a + v.park_match\n          }, 0) : 'Not selected',\n          gyms_total: property.gym_calcs !== 'Not selected' ? property.gym_calcs.reduce((a, v) => {\n            return a + v.gym_match\n          }, 0) : 'Not selected',\n          trains_total: property.train_calcs !== 'Not selected' ? Math.max(...property.train_calcs.map(o => o.train_score), 0) : 'Not selected',\n          secondaries_total: property.secondaries_calcs !== 'Not selected' ? property.secondaries_calcs.reduce((a, v) => {\n            return a + v.secondary_score\n          }, 0) : 'Not selected',\n          colleges_total: property.colleges_calcs !== 'Not selected' ? property.colleges_calcs.reduce((a, v) => {\n            return a + v.college_score\n          }, 0) : 'Not selected',\n          takeaway_total: property.takeaway_calcs !== 'Not selected' ? property.takeaway_calcs.reduce((a, v) => {\n            return a + v.takeaway_score\n          }, 0) : 'Not selected',\n        }\n      })\n    setCalc6(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc5)\n      calculation6()\n  }, [calc5])\n\n\n  // Third key calculation that will allow us to establish the highest of each of the values, so we can create a %\n  const calculation7 = () => {\n    const calculation =\n      calc6.map(property => {\n        return {\n          ...property,\n          restaurant_max: property.restaurant_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.restaurant_total), 0) : 'Not selected',\n          pub_max: property.pub_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.pub_total), 0) : 'Not selected',\n          primaries_max: property.primaries_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.primaries_total), 0) : 'Not selected',\n          secondaries_max: property.secondaries_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.secondaries_total), 0) : 'Not selected',\n          colleges_max: property.colleges_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.colleges_total), 0) : 'Not selected',\n          cafes_max: property.cafes_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.cafes_total), 0) : 'Not selected',\n          takeaway_max: property.takeaway_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.takeaway_total), 0) : 'Not selected',\n          restaurant_chosen: property.restaurant_total !== 'Not selected' ? 1 : 0,\n          pub_chosen: property.pub_total !== 'Not selected' ? 1 : 0,\n          primaries_chosen: property.primaries_total !== 'Not selected' ? 1 : 0,\n          cafe_chosen: property.cafes_total !== 'Not selected' ? 1 : 0,\n          tube_chosen: property.tubes_total !== 'Not selected' ? 1 : 0,\n          supermarkets_chosen: property.supermarkets_total !== 'Not selected' ? 1 : 0,\n          parks_chosen: property.parks_total !== 'Not selected' ? 1 : 0,\n          gym_chosen: property.gyms_total !== 'Not selected' ? 1 : 0,\n          secondary_chosen: property.secondaries_total !== 'Not selected' ? 1 : 0,\n          college_chosen: property.colleges_total !== 'Not selected' ? 1 : 0,\n          train_chosen: property.trains_total !== 'Not selected' ? 1 : 0,\n          takeaway_chosen: property.takeaway_total !== 'Not selected' ? 1 : 0,\n          workplace_chosen: property.workplace_score !== 'Not selected' ? 1 : 0,\n          family1_chosen: property.family1_score !== 'Not selected' ? 1 : 0,\n        }\n      })\n    setCalc7(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc6)\n      calculation7()\n  }, [calc6])\n\n\n  // Fourth key calculation that will give each variable a % score\n  const calculation8 = () => {\n    const calculation =\n      calc7.map(property => {\n        return {\n          ...property,\n          restaurant_perc: property.restaurant_calcs !== 'Not selected' ? property.restaurant_total / property.restaurant_max : 0,\n          pub_perc: property.pub_calcs !== 'Not selected' ? property.pub_total / property.pub_max : 0,\n          primary_perc: property.primaries_calcs !== 'Not selected' ? property.primaries_total / property.primaries_max : 0,\n          tube_perc: property.tubes_calcs !== 'Not selected' ? property.tubes_total : 0,\n          cafe_perc: property.cafes_calcs !== 'Not selected' ? property.cafes_total / property.cafes_max : 0,\n          supermarket_perc: property.supermarkets_calcs !== 'Not selected' ? ((property.supermarkets.length > 3 & property.supermarkets_total > 0) ? 1 : (property.supermarkets.length > 2 & property.supermarkets_total > 0) ? 0.95 : (property.supermarkets.length > 1 & property.supermarkets_total > 0) ? 0.9 : (property.supermarkets.length > 0 & property.supermarkets_total > 0) ? 0.85 : (property.supermarkets.length > 3 & property.supermarkets_total === 0) ? 0.7 : (property.supermarkets.length > 2 & property.supermarkets_total === 0) ? 0.65 : (property.supermarkets.length > 1 & property.supermarkets_total === 0) ? 0.6 : (property.supermarkets.length > 0 & property.supermarkets_total === 0) ? 0.55 : 0) : 0,\n          park_perc: property.parks_calcs !== 'Not selected' ? ((property.parks_total > 1) ? 1 : (property.parks_total > 0) ? 0.90 : (property.parks_total === 0) ? 0.75 : 0) : 0,\n          gym_perc: property.gym_calcs !== 'Not selected' ? ((property.gyms_total > 0 & property.gyms.length > 2) ? 1 : (property.gyms_total > 0 & property.gyms.length > 1) ? 0.95 : (property.gyms_total > 0 & property.gyms.length > 0) ? 0.9 : (property.gyms_total === 0 & property.gyms.length > 4) ? 0.85 : (property.gyms_total === 0 & property.gyms.length > 3) ? 0.8 : (property.gyms_total === 0 & property.gyms.length > 2) ? 0.75 : (property.gyms_total === 0 & property.gyms.length > 1) ? 0.7 : (property.gyms_total === 0 & property.gyms.length > 0) ? 0.65 : 0) : 0,\n          train_perc: property.train_calcs !== 'Not selected' ? property.trains_total : 0,\n          secondary_perc: property.secondaries_calcs !== 'Not selected' ? property.secondaries_total / property.secondaries_max : 0,\n          college_perc: property.colleges_calcs !== 'Not selected' ? property.colleges_total / property.colleges_max : 0,\n          takeaway_perc: property.takeaway_calcs !== 'Not selected' ? property.takeaway_total / property.takeaway_max : 0,\n          workplace_perc: property.workplace_score !== 'Not selected' ? property.workplace_score : 0,\n          family1_perc: property.family1_score !== 'Not selected' ? property.family1_score : 0,\n          options_chosen: property.restaurant_chosen + property.pub_chosen + property.primaries_chosen + property.cafe_chosen + property.tube_chosen + property.supermarkets_chosen + property.parks_chosen + property.gym_chosen + property.train_chosen + property.secondary_chosen + property.college_chosen + property.takeaway_chosen + property.workplace_chosen + property.family1_chosen,\n        }\n      })\n    setCalc8(calculation)\n  }\n\n\n  // run calculation\n  useEffect(() => {\n    if (calc7)\n      calculation8()\n  }, [calc7])\n\n\n  // 5th key calculation that will give the total property a score\n  const calculation9 = () => {\n    const calculation =\n      calc8.map(property => {\n        return {\n          ...property,\n          first_match: parseInt(((property.restaurant_perc + property.pub_perc + property.primary_perc + property.tube_perc + property.cafe_perc + property.supermarket_perc + property.park_perc + property.gym_perc + property.train_perc + property.secondary_perc + property.college_perc + property.takeaway_perc + property.workplace_perc + property.family1_perc) / property.options_chosen) * 100),\n          final_restaurant: parseFloat((property.restaurant_perc * 100).toFixed(0)),\n          final_takeaway: parseFloat((property.takeaway_perc * 100).toFixed(0)),\n          final_cafe: parseFloat((property.cafe_perc * 100).toFixed(0)),\n          final_pub: parseFloat((property.pub_perc * 100).toFixed(0)),\n          final_supermarket: parseFloat((property.supermarket_perc * 100).toFixed(0)),\n          final_gym: parseFloat((property.gym_perc * 100).toFixed(0)),\n          final_park: parseFloat((property.park_perc * 100).toFixed(0)),\n          final_tube: parseFloat((property.tube_perc * 100).toFixed(0)),\n          final_train: parseFloat((property.train_perc * 100).toFixed(0)),\n          final_primary: parseFloat((property.primary_perc * 100).toFixed(0)),\n          final_secondary: parseFloat((property.secondary_perc * 100).toFixed(0)),\n          final_college: parseFloat((property.college_perc * 100).toFixed(0)),\n          final_workplace: parseFloat((property.workplace_perc * 100).toFixed(0)),\n          final_family1: parseFloat((property.family1_perc * 100).toFixed(0)),\n        }\n      }).sort((a, b) => b.first_match - a.first_match)\n    setCalc9(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc8)\n      calculation9()\n  }, [calc8])\n\n\n  // Final key calculation that will rank each of the variables\n  const calculation10 = () => {\n    const restaurant_ranks = calc9.map(e => e.final_restaurant).sort((a, b) => b - a)\n    const takeaway_ranks = calc9.map(e => e.final_takeaway).sort((a, b) => b - a)\n    const pub_ranks = calc9.map(e => e.final_pub).sort((a, b) => b - a)\n    const cafe_ranks = calc9.map(e => e.final_cafe).sort((a, b) => b - a)\n    const supermarket_ranks = calc9.map(e => e.final_supermarket).sort((a, b) => b - a)\n    const gym_ranks = calc9.map(e => e.final_gym).sort((a, b) => b - a)\n    const park_ranks = calc9.map(e => e.final_park).sort((a, b) => b - a)\n    const tube_ranks = calc9.map(e => e.final_tube).sort((a, b) => b - a)\n    const train_ranks = calc9.map(e => e.final_train).sort((a, b) => b - a)\n    const primary_ranks = calc9.map(e => e.final_primary).sort((a, b) => b - a)\n    const secondary_ranks = calc9.map(e => e.final_secondary).sort((a, b) => b - a)\n    const college_ranks = calc9.map(e => e.final_college).sort((a, b) => b - a)\n    const workplace_ranks = calc9.map(e => e.final_workplace).sort((a, b) => b - a)\n    const family1_ranks = calc9.map(e => e.final_family1).sort((a, b) => b - a)\n    const average_score = calc9.reduce((a, v) => {\n      return (a + v.first_match)\n    }, 0) / calc9.length\n    const calculation =\n      calc9.map(property => {\n        return {\n          ...property,\n          restaurant_rank: (restaurant_ranks.indexOf(property.final_restaurant) + 1),\n          takeaway_rank: (takeaway_ranks.indexOf(property.final_takeaway) + 1),\n          cafe_rank: (cafe_ranks.indexOf(property.final_cafe) + 1),\n          pub_rank: (pub_ranks.indexOf(property.final_pub) + 1),\n          supermarket_rank: (supermarket_ranks.indexOf(property.final_supermarket) + 1),\n          gym_rank: (gym_ranks.indexOf(property.final_gym) + 1),\n          park_rank: (park_ranks.indexOf(property.final_park) + 1),\n          tube_rank: (tube_ranks.indexOf(property.final_tube) + 1),\n          train_rank: (train_ranks.indexOf(property.final_train) + 1),\n          primary_rank: (primary_ranks.indexOf(property.final_primary) + 1),\n          secondary_rank: (secondary_ranks.indexOf(property.final_secondary) + 1),\n          college_rank: (college_ranks.indexOf(property.final_college) + 1),\n          workplace_rank: (workplace_ranks.indexOf(property.final_workplace) + 1),\n          family1_rank: (family1_ranks.indexOf(property.final_family1) + 1),\n          average_score: parseInt(average_score),\n        }\n      }).sort((a, b) => b.first_match - a.first_match)\n    setCalc10(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc9)\n      calculation10()\n  }, [calc9])\n\n\n  // const calculation12 = () => {\n  //   const calculation =\n  //     calc10.map(property => {\n  //       return {\n  //         ...property,\n  //         restaurant_rank_perc: 'id' + Math.ceil((property.restaurant_rank / calc9.length) * 10),\n  //         takeaway_rank_perc: 'id' + Math.ceil((property.takeaway_rank / calc9.length) * 10),\n  //         cafe_rank_perc: 'id' + Math.ceil((property.cafe_rank / calc9.length) * 10),\n  //         pub_rank_perc: 'id' + Math.ceil((property.pub_rank / calc9.length) * 10),\n  //         supermarket_rank_perc: 'id' + Math.ceil((property.supermarket_rank / calc9.length) * 10),\n  //         gym_rank_perc: 'id' + Math.ceil((property.gym_rank / calc9.length) * 10),\n  //         park_rank_perc: 'id' + Math.ceil((property.park_rank / calc9.length) * 10),\n  //         tube_rank_perc: 'id' + Math.ceil((property.tube_rank / calc9.length) * 10),\n  //         train_rank_perc: 'id' + Math.ceil((property.train_rank / calc9.length) * 10),\n  //         primary_rank_perc: 'id' + Math.ceil((property.primary_rank / calc9.length) * 10),\n  //         secondary_rank_perc: 'id' + Math.ceil((property.secondary_rank / calc9.length) * 10),\n  //         college_rank_perc: 'id' + Math.ceil((property.college_rank / calc9.length) * 10),\n  //         workplace_rank_perc: 'id' + Math.ceil((property.workplace_rank / calc9.length) * 10),\n  //         family1_rank_perc: 'id' + Math.ceil((property.family1_rank / calc9.length) * 10),\n  //       }\n  //     }).sort((a, b) => b.first_match - a.first_match)\n  //   console.log('calculation 12 ->', calculation)\n  //   setCalc11(calculation)\n  // }\n\n\n\n\n  // Update the search result with summary scores\n  const calculation11 = async () => {\n    if (isUserAuth())\n      try {\n        const newData = {\n          top_score: calc10[parseInt(0)].first_match,\n          average_score: calc10[parseInt(0)].average_score,\n          total_properties: calc10.length,\n          search_name: formData.search_name,\n          owner: formData.owner,\n          search_type: 'Wittle',\n          search_channel: formData.search_channel,\n        }\n        console.log('search id ->', formData.result_id)\n        const { data } = await axios.put(`/api/property-search/${parseInt(formData.result_id)}`, newData, {\n          headers: {\n            Authorization: `Bearer ${getAccessToken()}`,\n          },\n        })\n        window.localStorage.setItem('wittle-form-input', JSON.stringify(data))\n        setFormData(data)\n      } catch (error) {\n        console.log(error)\n      }\n    else\n      try {\n        const newData = {\n          top_score: calc10[parseInt(0)].first_match,\n          average_score: calc10[parseInt(0)].average_score,\n          total_properties: calc10.length,\n          search_name: formData.search_name,\n          owner: formData.owner,\n          search_type: 'Wittle',\n          search_channel: formData.search_channel,\n        }\n        console.log('search id ->', formData.result_id)\n        const { data } = await axios.put(`/api/property-search/xplw7aq5r/${parseInt(formData.result_id)}`, newData)\n        window.localStorage.setItem('wittle-form-input', JSON.stringify(data))\n        setFormData(data)\n      } catch (error) {\n        console.log(error)\n      }\n    window.localStorage.setItem('wittle-results', JSON.stringify(finalProp))\n    setCalculationsDone(true)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc10 && !calculationsDone) {\n      calculation11()\n      // calculation12()\n    }\n  }, [calc10, calculationsDone])\n\n\n  \n  // final section for enabling infinite scroll\n  const [infiniteScrollData, setInfiniteScrollData] = useState()\n\n  // set up function for loading more data each time you reach the bottom of the page\n  useEffect(() => {\n    if (calc10 && calculationsDone) {\n      const calculation = calc10.slice(0, 15)\n      setInfiniteScrollData(calculation)\n    }\n  }, [calc10, calculationsDone])\n\n  // change the value\n  const handleAddProperties = () => {\n    if (calc10 && calculationsDone) {\n      const calculation = calc10.slice(0, (infiniteScrollData.length + 10))\n      setInfiniteScrollData(calculation)\n    }\n  }\n\n\n\n\n  // ? Section 8: FAVOURITES - section toi handle favouriting and deleting properties from favourites\n  // Favorite button handler\n  const [favouriteError, setFavouriteError] = useState()\n\n  const postFavourite = async (e) => {\n    if (isUserAuth())\n      if (listFavourites.includes(parseInt(e.target.id)))\n        try {\n\n          // outlining the property for deletion\n          const propertyData = calc10.filter(property => {\n            return property.id === parseInt(e.target.id)\n          })\n\n          // setting this property to state, so we can see it in the modal\n          setDeleted(propertyData)\n          setFavourited(false)\n\n          // posting the deletion to the databased\n          const { data } = await axios.delete(`/api/favourites/${parseInt(e.target.id)}/`, {\n            headers: {\n              Authorization: `Bearer ${getAccessToken()}`,\n            },\n          })\n          handleDeleteShow()\n\n\n          const otherFavouriteIds = listFavourites.filter(property => {\n            return property.id === parseInt(e.target.id)\n          })\n          const otherFavourites = calc10.filter(property => otherFavouriteIds.includes(property.id))\n          const otherInfo = favouriteInfo.filter(property => {\n            return (property.property !== parseInt(e.target.id))\n          })\n          setOtherFavourites(otherFavourites)\n          setCurrentFavInfo(formData)\n          setOthrFavInfo(otherInfo)\n          loadUserData()\n        } catch (error) {\n          console.log(error)\n        }\n      else\n        try {\n          const propertyData = calc10.filter(property => {\n            return property.id === parseInt(e.target.id)\n          })\n          const otherFavouriteIds = listFavourites.filter(property => {\n            return property.id !== parseInt(e.target.id)\n          })\n          const otherFavourites = calc10.filter(property => otherFavouriteIds.includes(property.id))\n          const otherInfo = favouriteInfo.filter(property => {\n            return (property.property !== parseInt(e.target.id))\n          })\n          const additionalData =\n          {\n            favourite: true,\n            property: e.target.id,\n            owner: parseInt(userData.id),\n            property_name: propertyData[0].property_name,\n            search_name: formData.search_name,\n            searh_type: 'Wittle search',\n            restaurant_score: propertyData[0].final_restaurant,\n            takeaway_score: propertyData[0].final_takeaway,\n            pubs_score: propertyData[0].final_pub,\n            cafes_score: propertyData[0].final_cafe,\n            tube_score: propertyData[0].final_tube,\n            train_score: propertyData[0].final_train,\n            primary_score: propertyData[0].final_primary,\n            secondary_score: propertyData[0].final_secondary,\n            college_score: propertyData[0].final_college,\n            supermarket_score: propertyData[0].final_supermarket,\n            gym_score: propertyData[0].final_gym,\n            park_score: propertyData[0].final_park,\n            workplace_score: propertyData[0].final_workplace,\n            family1_score: propertyData[0].final_family1,\n            total_score: propertyData[0].first_match,\n            restaurant_input: formData.restaurant_distance,\n            takeaway_input: formData.takeaway_distance,\n            pubs_input: formData.pubs_distance,\n            cafes_input: formData.cafes_distance,\n            tube_input: formData.tube_distance,\n            train_input: formData.train_distance,\n            primary_input: formData.primary_distance,\n            secondary_input: formData.secondary_distance,\n            college_input: formData.college_distance,\n            supermarket_input: formData.supermarket_distance,\n            gym_input: formData.gym_distance,\n            park_input: formData.park_distance,\n            workplace_input: formData.workplace_distance,\n            friends_input: formData.family_distance_1,\n            restaurant_selection: formData.restaurant_selection,\n            takeaway_selection: formData.takeaway_selection,\n            pubs_selection: formData.pubs_selection,\n            cafes_selection: formData.cafes_selection,\n            tube_selection: formData.tube_selection,\n            train_selection: formData.train_selection,\n            primary_selection: formData.primary_selection,\n            secondary_selection: formData.secondary_selection,\n            college_selection: formData.college_selection,\n            supermarket_selection: formData.supermarket_selection,\n            gym_selection: formData.gym_selection,\n            park_selection: formData.park_selection,\n            workplace_selection: formData.workplace_selection,\n            friends_selection: formData.family_selection,\n          }\n          handleFavouriteShow()\n          const { data } = await axios.post('/api/favourites/', additionalData, {\n            headers: {\n              Authorization: `Bearer ${getAccessToken()}`,\n            },\n          })\n          setDeleted(false)\n          setFavourited(propertyData)\n          setOtherFavourites(otherFavourites)\n          setCurrentFavInfo(additionalData)\n          setOthrFavInfo(otherInfo)\n          loadUserData()\n        } catch (error) {\n          console.log(error)\n        }\n    else\n      try {\n        handleFavAuthShow()\n        setFavouriteError(true)\n        console.log('must have an account to favourite')\n      } catch (error) {\n        console.log('error')\n      }\n  }\n\n\n\n  // set state for showing edit modal\n  const [favouritingShow, setFavouritingShow] = useState(false)\n\n  // close modal\n  const handleFavouriteClose = () => {\n    setFavouritingShow(false)\n  }\n\n  // show the modal\n  const handleFavouriteShow = (e) => {\n    setFavouritingShow(true)\n  }\n\n  // state for showing the delete modal\n  const [deleteShow, setDeleteShow] = useState(false)\n\n  // close modal\n  const handleDeleteClose = () => {\n    setDeleteShow(false)\n  }\n\n  // show the modal\n  const handleDeleteShow = (e) => {\n    setDeleteShow(true)\n  }\n\n  // state for showing the not-auth modal\n  const [favouriteAuth, setFavouriteAuth] = useState()\n\n  // close non auth modal \n  const handleFavAuthClose = () => {\n    setFavouriteAuth(false)\n  }\n\n  // show the modal\n  const handleFavAuthShow = (e) => {\n    setFavouriteAuth(true)\n  }\n\n\n  // ? Section 9: MODALS - section for managing the numerous modals on the page\n  // * Modal 1 - Map mdoal\n  // Setting state and handles for submit modal\n  const [mapShow, setMapShow] = useState(false)\n\n  // closing thee modal\n  const handleMapClose = () => {\n    setMapShow(false)\n    setViewport(viewport)\n  }\n\n  // states for handling the popups on the map\n  const [showPopup, setShowPopup] = useState(true)\n\n  // showing the modal\n  const handleMapShow = () => {\n    setMapShow(true)\n    setViewport(viewport)\n    setShowPopup(false)\n  }\n\n  // control the states for maps\n  const [viewport, setViewport] = useState({\n    latitude: 51.515419,\n    longitude: -0.141099,\n    zoom: 10.5,\n  })\n\n\n  // * Modal 2 - Insights modal\n  // set state for showing insights modal\n  const [insightShow, setInsightShow] = useState(false)\n\n  // state for toggling the results in the insights modal\n  const [insightToggle, setInsightToggle] = useState({\n    selection: '',\n  })\n\n  // close modal\n  const handleInsightClose = () => {\n    setInsightShow(false)\n  }\n\n  // show the modal\n  const handleInsightShow = (e) => {\n    setInsightShow(true)\n    setInsightToggle({ ...insightToggle, selection: 'rank' })\n    setCurrentId(parseInt(e.target.id))\n  }\n\n  // set current id on click\n  const setID = e => {\n    setCurrentId(parseInt(e.target.id))\n    console.log('property id ->', e.target.id)\n    console.log('match score ->', e.target.value)\n    window.localStorage.setItem('wittle-current-match', JSON.stringify(e.target.id))\n  }\n\n\n  // dropdown for insight summary\n  const insightChange = e => {\n    setInsightToggle({ ...insightToggle, [e.target.name]: e.target.value })\n  }\n\n  //  Managing statez for modal to see search details in mobile view\n  // set state for showing the modal\n  const [searchShow, setSearchShow] = useState(false)\n\n  // set state for closing the modal\n  const handleSearchClose = () => {\n    setSearchShow(false)\n  }\n\n  // set state for the modal popping up\n  const handleSearchShow = () => {\n    setSearchShow(true)\n  }\n\n\n  // * Modal 3: Edit search modal\n  // set state for showing edit modal\n  const [editShow, setEditShow] = useState(false)\n\n  // close modal\n  const handleEditClose = () => {\n    setEditShow(false)\n  }\n\n  // show the modal\n  const handleEditShow = (e) => {\n    setEditSearch(formData)\n    setEditShow(true)\n  }\n\n  // * MOdal 4: Heatmap\n  // set state for showing edit modal\n  const [heatmapShow, setHeatmapShow] = useState(false)\n\n  // close modal\n  const handleHeatmapClose = () => {\n    setHeatmapShow(false)\n  }\n\n  // show the modal\n  const handleHeatmapShow = (e) => {\n    setHeatmapShow(true)\n  }\n\n \n  // ? Section 10: Lazy loading\n  const LazyBackgroundImage = ({ src, alt }) => {\n    const [isVisible, setIsVisible] = useState(false)\n    const ref = useRef()\n  \n    useEffect(() => {\n      const observer = new IntersectionObserver(\n        ([entry]) => {\n          if (entry.isIntersecting) {\n            setIsVisible(true)\n            observer.unobserve(ref.current)\n          }\n        },\n        {\n          rootMargin: '0px',\n          threshold: 0.1,\n        }\n      )\n      observer.observe(ref.current)\n  \n      return () => {\n        observer.unobserve(ref.current)\n      }\n    }, [])\n  \n    const style = {\n      backgroundImage: isVisible ? `url(${src})` : '',\n      alt: alt,\n    }\n  \n    return <div ref={ref} style={style} />\n  }\n\n\n  return (\n    <>\n      <section className='property-detail-pages'>\n        <WhiteNavbar />\n        {infiniteScrollData ?\n          <>\n            <InfiniteScroll\n              dataLength={calc10.length} //This is important field to render the next data\n              scrollThreshold={0.95}\n              next={handleAddProperties}\n              hasMore={true}\n              loader={<h4>Loading...</h4>}\n              endMessage={\n                <p style={{ textAlign: 'center' }}>\n                  <b>You&apos;ve seen everything</b>\n                </p>\n              }\n              {...calc3}\n            >\n              <section className='property-main-page'>\n                {sidebar === 'Open' ?\n                  <section className='title-section' id='form-buttons'>\n                    <div className='logo-section'>\n                      <div className='logo'>\n                        <h2 onClick={() => navigate('/')}>Wittle</h2>\n                      </div>\n                    </div>\n                    <h3>Search details &gt;</h3>\n                    <div className='input-sections'>\n                      <h5>Property</h5>\n                      <div className='poi'><p>Type: {formData.property_type}</p></div>\n\n\n                      <div className='poi'><p>Price: <NumericFormat value={formData.property_price_min} displayType={'text'} thousandSeparator={true} prefix={'£'} /> - <NumericFormat value={formData.property_price_max} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </p></div>\n                      <div className='poi'><p>Bedrooms: {formData.property_bed_min} - {formData.property_bed_max}</p></div>\n                    </div>\n                    <div className='input-sections'>\n                      <h5>Points of interest</h5>\n                      {formData.restaurant_selection ? <div className='poi'><p>👨‍🍳 Restaurants: {formData.restaurant_distance} min walk</p></div> : ''}\n                      {formData.takeaway_selection ? <div className='poi'><p>🍜 Takeaways: {formData.takeaway_distance} min walk</p></div> : ''}\n                      {formData.cafes_selection ? <div className='poi'><p>☕️ Cafes: {formData.cafes_distance} min walk</p></div> : ''}\n                      {formData.pubs_selection ? <div className='poi'><p>🍻 Pubs: {formData.pubs_distance} min walk</p></div> : ''}\n                      {formData.supermarket_selection ? <div className='poi'><p>🛒 Supermarkets: {formData.supermarket_distance} min walk</p></div> : ''}\n                      {formData.gym_selection ? <div className='poi'><p>🏋️‍♂️ Gyms: {formData.gym_distance} min walk</p></div> : ''}\n                      {formData.park_selection ? <div className='poi'><p>🌳 Park: {formData.park_distance} min walk</p></div> : ''}\n                      {formData.workplace_selection ? <div className='poi'><p>✍🏼 Office: {formData.workplace_distance} min walk</p></div> : ''}\n                      {formData.tube_selection ? <div className='poi'><p>🚇 Tube stations: {formData.tube_distance} min walk</p></div> : ''}\n                      {formData.train_selection ? <div className='poi'><p>🚅 Train stations: {formData.train_distance} min walk</p></div> : ''}\n                      {formData.primary_selection ? <div className='poi'><p>🏫 Primary schools: {formData.primary_distance} min walk</p></div> : ''}\n                      {formData.secondary_selection ? <div className='poi'><p>🏫 Secondary schools: {formData.secondary_distance} min walk</p></div> : ''}\n                      {formData.college_selection ? <div className='poi'><p>🏫 6th forms: {formData.college_distance} min walk</p></div> : ''}\n                      {formData.family_selection ? <div className='poi'><p>👨‍👩‍👧‍👦 Friends & family: {formData.family_distance_1} min walk</p></div> : ''}\n                    </div>\n                    <button onClick={handleEditShow} className='edit-button'>Edit</button>\n                    <div className='sidebar-button'>\n                      <button onClick={() => sidebar === 'Open' ? setSidebar('Close') : sidebar}>&#60;</button>\n                    </div>\n                  </section>\n                  :\n                  sidebar === 'Close' ?\n                    <section className='title-section' style={{ width: '0px' }} id='form-buttons'>\n                      <div className=\"closed-sidebar\">\n                        <div className='sidebar-button'>\n                          {/* <button onClick={() => sidebar === 'Close' ? setSidebar('Open') : sidebar}>&#62</button> */}\n                        </div>\n                      </div>\n                    </section>\n                    : ''}\n                {infiniteScrollData ? sidebar === 'Open' ?\n                  <>\n                    <section className='property-results' style={{ marginLeft: '200px' }}>\n                      <div className='property-results-title'>\n                        <div className='title-buttons'>\n                          <button className='modal-map' onClick={handleMapShow} data-toggle='modal' >View on map</button>\n                        </div>\n                        <div className='title-centre'>\n                          {isUserAuth() ? <h1 className='property-count'>{formData.search_name}: {calc10.length} properties</h1> : !isUserAuth() ? <h1 className='property-count'>Wittle Search: {calc10.length} properties</h1> : ''}\n                        </div>\n                      </div>\n                      <div className='property-grid'>\n                        {infiniteScrollData.map((property, index) => {\n                          return (\n                            <>\n                              {/* <div className='property-card' key={index} onClick={setID} id={property.first_match} name={index}> */}\n                              <div className='property-card' key={index} id={property.first_match} name={index}>\n                                <div className='mobile-name'>\n                                  <h2>{property.property_name}</h2>\n                                  <h4 onClick={handleInsightShow} id={property.id}>🔥 {property.first_match}% match</h4>\n                                </div>\n                                <div className='slide-section-desktop'>\n                                  {/* <LazyLoad offset={100}> */}\n                                  <Slide className='slide-import' autoplay={false} transitionDuration={750} arrows={true} indicators={true}>\n                                    {property.property_images.map((images, index) => {\n                                      return (\n                                        <>\n                                          <LazyLoad once={true} offset={100}>\n                                            <div className='image-card' id={property.id} style={{ backgroundImage: `url('${images.url}')` }} key={index}>\n                                              {/* <div className='image-card' id={property.id} key={index}> */}\n                                              {/* <LazyBackgroundImage src={images.url} alt={property.address} /> */}\n\n                                              <div className='property-image-details'>\n                                                {formData.search_channel === 'Renting' ?\n                                                  <h3><NumericFormat value={property.monthly} displayType={'text'} thousandSeparator={true} prefix={'£'} /> pcm</h3>\n                                                  :\n                                                  <h3>Fixed Price: <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </h3>\n                                                }\n                                              </div>\n                                              {listFavourites ?\n                                                <div className='favourite-section' id={property.id} onClick={postFavourite}>\n                                                  {listFavourites.includes(property.id) ?\n                                                    <div className='favourite-button-on' id={property.id} ></div>\n                                                    :\n                                                    <div className='favourite-button-off' id={property.id} ></div>\n                                                  }\n                                                </div>\n                                                : ''}\n                                            </div>\n                                          </LazyLoad>\n                                        </>\n                                      )\n                                    })}\n                                  </Slide>\n\n                                </div>\n                                {/* <div className='detail-section' onClick={setID} id={property.first_match}> */}\n                                <div className='detail-section' id={property.first_match}>\n                                  <Link to={(`/wittle-results/${property.id}`)} style={{ textDecoration: 'none' }}><h2 className='property-desktop' onClick={(e) => window.localStorage.setItem('wittle-current-match', JSON.stringify(e.target.id))} id={property.first_match}>{property.property_name}</h2></Link>\n                                  <h4 className='property-desktop' id={property.id} onClick={handleInsightShow}>🔥 {property.first_match}% match</h4>\n                                  <div className='property-buttons'>\n                                    <h5 onClick={() => setPropertyButtons('Details')} style={{ color: propertyButtons === 'Details' ? '#FFA7E5' : '#051885' }}>Details</h5>\n                                    <h5 onClick={() => setPropertyButtons('Insights')} style={{ color: propertyButtons === 'Insights' ? '#FFA7E5' : '#051885' }}>Insights</h5>\n                                    <h5 onClick={() => setPropertyButtons('Floorplan')} style={{ color: propertyButtons === 'Floorplan' ? '#FFA7E5' : '#051885' }}>Floorplan</h5>\n                                    <h5 onClick={() => setPropertyButtons('Documents')} style={{ color: propertyButtons === 'Documents' ? '#FFA7E5' : '#051885' }}>Documents</h5>\n                                  </div>\n                                  <div className='property-button-expansion'>\n                                    {propertyButtons === 'Details' ?\n                                      <>\n                                        <div className='wittle-all-detail'>\n\n                                          <PropertyDetails\n                                            property={property}\n                                          />\n                                        </div>\n\n                                      </>\n                                      : ''}\n                                    {propertyButtons === 'Insights' ?\n                                      <>\n                                        {formData.restaurant_selection & property.restaurant_chosen === 1 ? <p className='insight-bullets'>👨‍🍳 {property.restaurants.length} restaurants <span>(within {formData.restaurant_distance} min walk)</span></p> : ''}\n                                        {formData.pubs_selection & property.pub_chosen === 1 ? <p className='insight-bullets'>🍻{property.bars.length} bars <span>(within {formData.pubs_distance} min walk)</span></p> : ''}\n                                        {formData.cafes_selection & property.cafe_chosen === 1 ? <p className='insight-bullets'>☕️ {property.cafes.length} cafes <span>(within {formData.cafes_distance} min walk)</span></p> : ''}\n                                        {formData.takeaway_selection & property.takeaway_chosen === 1 ? <p className='insight-bullets'>☕️ {property.takeaways.length} takeaways <span>(within {formData.takeaway_distance} min walk)</span></p> : ''}\n                                        {formData.primary_selection & property.primaries_chosen === 1 ? <p className='insight-bullets'>🏫 {property.primaries.length} primary schools <span>(within {formData.primary_distance} min walk)</span></p> : ''}\n                                        {formData.secondary_selection & property.secondary_chosen === 1 ? <p className='insight-bullets'>🏫 {property.secondaries.length} secondary schools <span>(within {formData.secondary_distance} min walk)</span></p> : ''}\n                                        {formData.college_selection & property.college_chosen === 1 ? <p className='insight-bullets'>🏫 {property.colleges.length} 6th forms <span>(within {formData.college_distance} min walk)</span></p> : ''}\n                                        {formData.supermarket_selection & property.supermarkets_chosen === 1 ? <p className='insight-bullets'>🛒 {property.supermarkets.length} supermarkets <span>(within {formData.supermarket_distance} min walk)</span></p> : ''}\n                                        {formData.gym_selection & property.gym_chosen === 1 ? <p className='insight-bullets'>🏋️‍♂️ {property.gyms.length} gyms <span>(within {formData.gym_distance} min walk)</span></p> : ''}\n                                        {formData.park_selection & property.parks_chosen === 1 ? <p className='insight-bullets'>🌳 {property.parks.length} parks <span>(within {formData.park_distance} min walk)</span></p> : ''}\n                                        {formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Driving/ transport' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_driving_mins} mins drive)</span></p> : formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Cycling' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_cycling_mins} mins cycle)</span></p> : formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Walking' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_walking_mins} mins walk)</span></p> : ''}\n                                        {formData.family_selection & property.family_chosen === 1 & formData.family_mode_1 === 'Driving/ transport' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family1_driving_mins} mins drive)</span></p> : formData.family_selection & property.family1_chosen === 1 & formData.family_mode_1 === 'Cycling' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family1_cycling_mins} mins cycle)</span></p> : formData.family_selection & property.family1_chosen === 1 & formData.family_mode_1 === 'Walking' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family_walking_mins} mins walk)</span></p> : ''}\n                                        {formData.tube_selection & property.tube_chosen === 1 ? <p className='insight-bullets'>🚇 {property.tubes.length} tube stations <span>(within {formData.tube_distance} min walk)</span></p> : ''}\n                                        {formData.train_selection & property.train_chosen === 1 ? <p className='insight-bullets'>🚊 {property.trains.length} train stations <span>(within {formData.train_distance} min walk)</span></p> : ''}\n                                      </>\n                                      : ''}\n                                  </div>\n                                </div>\n                              </div>\n                              <hr className='mobile-line' />\n                            </>\n                          )\n                        })}\n                      </div>\n                    </section>\n                  </>\n                  :\n                  sidebar === 'Close' ?\n                    <>\n                      <section className='property-results' id='close' style={{ marginLeft: '0px' }}>\n                        <div className='property-results-title'>\n                          <div className='title-buttons'>\n                            <button className='filter-button' onClick={() => sidebar === 'Close' ? setSidebar('Open') : sidebar}>My filters</button>\n                            <button className='modal-map' onClick={handleMapShow} data-toggle='modal' >View on map</button>\n                            <button className='mobile-filter-button' onClick={handleSearchShow}>My filters</button>\n\n                          </div>\n                          <div className='title-centre'>\n                            {calc10 && isUserAuth() ? <h1 className='property-count'>{formData.search_name}: {calc10.length} properties</h1> : calc10 && !isUserAuth() ? <h1 className='property-count'>Wittle Search: {calc10.length} properties</h1> : ''}\n                          </div>\n                        </div>\n                        <div className='property-grid'>\n                          {infiniteScrollData.map((property, index) => {\n                            return (\n                              <>\n                                <div className='property-card' key={index} id={property.first_match} name={index}>\n                                  <div className='mobile-name' >\n                                    <Link to={(`/wittle-results/${property.id}`)} style={{ textDecoration: 'none' }}>\n                                      <div className='name-box'>\n                                        <h2 id={property.first_match} onClick={(e) => window.localStorage.setItem('wittle-current-match', JSON.stringify(e.target.id))}>{property.property_name}</h2>\n                                      </div>\n                                    </Link>\n                                    <h4 onClick={handleInsightShow} id={property.id}>🔥 {property.first_match}% match</h4>\n                                  </div>\n                                  {/* <ImageSlider calc10={calc10} formData={formData} listFavourites={listFavourites} postFavourite={postFavourite} /> */}\n                                  <div className='slide-section-desktop'>\n\n                                    {/* <LazyLoad offset={100}> */}\n                                    <Slide className='slide-import' autoplay={false} transitionDuration={750} arrows={true} indicators={true}>\n                                      {property.property_images.map((images, index) => {\n                                        return (\n                                          <>\n                                            <LazyLoad once={true} offset={100}>\n                                              <div className='image-card' id={property.id} style={{ backgroundImage: `url('${images.url}')` }} key={index}>\n                                                <div className='property-image-details'>\n                                                  {formData.search_channel === 'Renting' ?\n                                                    <h3><NumericFormat value={property.monthly} displayType={'text'} thousandSeparator={true} prefix={'£'} /> pcm</h3>\n                                                    :\n                                                    <h3>Fixed Price: <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </h3>\n                                                  }\n                                                </div>\n                                                {listFavourites ?\n                                                  <div className='favourite-section' id={property.id} onClick={postFavourite}>\n                                                    {listFavourites.includes(property.id) ?\n                                                      <div className='favourite-button-on' id={property.id} ></div>\n                                                      :\n                                                      <div className='favourite-button-off' id={property.id} ></div>\n                                                    }\n                                                  </div>\n                                                  : ''}\n                                              </div>\n                                            </LazyLoad>\n                                          </>\n                                        )\n                                      })}\n                                    </Slide>\n                                    {/* </LazyLoad> */}\n\n                                  </div>\n                                  <div className='slide-section-mobile'>\n\n                                    {/* <LazyLoad offset={100}> */}\n                                    <Slide className='slide-import' autoplay={false} transitionDuration={500} arrows={false} indicators={true}>\n                                      {property.property_images.map((images, index) => {\n                                        return (\n                                          <>\n                                            <LazyLoad once={true} offset={100}>\n                                              <div className='image-card' id={property.id} style={{ backgroundImage: `url('${images.url}')` }} key={index}>\n                                                <div className='property-image-details'>\n                                                  {formData.search_channel === 'Renting' ?\n                                                    <h3><NumericFormat value={property.monthly} displayType={'text'} thousandSeparator={true} prefix={'£'} /> pcm</h3>\n                                                    :\n                                                    <h3>Fixed Price: <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </h3>\n                                                  }\n                                                </div>\n                                                {listFavourites ?\n                                                  <div className='favourite-section' id={property.id} onClick={postFavourite}>\n                                                    {listFavourites.includes(property.id) ?\n                                                      <div className='favourite-button-on' id={property.id} ></div>\n                                                      :\n                                                      <div className='favourite-button-off' id={property.id} ></div>\n                                                    }\n                                                  </div>\n                                                  : ''}\n                                              </div>\n                                            </LazyLoad>\n                                          </>\n                                        )\n                                      })}\n                                    </Slide>\n                                    {/* </LazyLoad> */}\n\n                                  </div>\n                                  <div className='detail-section' id={property.first_match}>\n                                    {/* <Link to={(`/wittle-results/${property.id}`)} style={{ textDecoration: 'none' }}><h2 className='property-desktop' id={property.first_match}>{property.property_name}</h2></Link> */}\n                                    <Link to={(`/wittle-results/${property.id}`)} style={{ textDecoration: 'none' }}>\n                                      <div className='name-box'>\n                                        <h2 className='property-desktop' id={property.first_match} onClick={(e) => window.localStorage.setItem('wittle-current-match', JSON.stringify(e.target.id))}>{property.property_name}</h2>\n                                      </div>\n                                    </Link>\n                                    <h4 onClick={handleInsightShow} id={property.id} className='property-desktop'>🔥 {property.first_match}% match</h4>\n                                    <div className='property-buttons'>\n                                      <h5 onClick={() => setPropertyButtons('Details')} style={{ color: propertyButtons === 'Details' ? '#FFA7E5' : '#051885' }}>Details</h5>\n                                      <h5 onClick={() => setPropertyButtons('Insights')} style={{ color: propertyButtons === 'Insights' ? '#FFA7E5' : '#051885' }}>Insights</h5>\n                                      <h5 onClick={() => setPropertyButtons('Floorplan')} style={{ color: propertyButtons === 'Floorplan' ? '#FFA7E5' : '#051885' }}>Floorplan</h5>\n                                      <h5 onClick={() => setPropertyButtons('Documents')} style={{ color: propertyButtons === 'Documents' ? '#FFA7E5' : '#051885' }}>Documents</h5>\n                                    </div>\n                                    <div className='property-button-expansion'>\n                                      {propertyButtons === 'Details' ?\n                                        <>\n                                          <div className='wittle-all-detail'>\n\n                                            <PropertyDetails\n                                              property={property}\n                                            />\n                                          </div>\n                                        </>\n                                        : ''}\n                                      {propertyButtons === 'Insights' ?\n                                        <>\n                                          {formData.restaurant_selection & property.restaurant_chosen === 1 ? <p className='insight-bullets'>👨‍🍳 {property.restaurants.length} restaurants <span>(within {formData.restaurant_distance} min walk)</span></p> : ''}\n                                          {formData.pubs_selection & property.pub_chosen === 1 ? <p className='insight-bullets'>🍻{property.bars.length} bars <span>(within {formData.pubs_distance} min walk)</span></p> : ''}\n                                          {formData.cafes_selection & property.cafe_chosen === 1 ? <p className='insight-bullets'>☕️ {property.cafes.length} cafes <span>(within {formData.cafes_distance} min walk)</span></p> : ''}\n                                          {formData.takeaway_selection & property.takeaway_chosen === 1 ? <p className='insight-bullets'>☕️ {property.takeaways.length} takeaways <span>(within {formData.takeaway_distance} min walk)</span></p> : ''}\n                                          {formData.primary_selection & property.primaries_chosen === 1 ? <p className='insight-bullets'>🏫 {property.primaries.length} primary schools <span>(within {formData.primary_distance} min walk)</span></p> : ''}\n                                          {formData.secondary_selection & property.secondary_chosen === 1 ? <p className='insight-bullets'>🏫 {property.secondaries.length} secondary schools <span>(within {formData.secondary_distance} min walk)</span></p> : ''}\n                                          {formData.college_selection & property.college_chosen === 1 ? <p className='insight-bullets'>🏫 {property.colleges.length} 6th forms <span>(within {formData.college_distance} min walk)</span></p> : ''}\n                                          {formData.supermarket_selection & property.supermarkets_chosen === 1 ? <p className='insight-bullets'>🛒 {property.supermarkets.length} supermarkets <span>(within {formData.supermarket_distance} min walk)</span></p> : ''}\n                                          {formData.gym_selection & property.gym_chosen === 1 ? <p className='insight-bullets'>🏋️‍♂️ {property.gyms.length} gyms <span>(within {formData.gym_distance} min walk)</span></p> : ''}\n                                          {formData.park_selection & property.parks_chosen === 1 ? <p className='insight-bullets'>🌳 {property.parks.length} parks <span>(within {formData.park_distance} min walk)</span></p> : ''}\n                                          {formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Driving/ transport' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_driving_mins} mins drive)</span></p> : formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Cycling' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_cycling_mins} mins cycle)</span></p> : formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Walking' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_walking_mins} mins walk)</span></p> : ''}\n                                          {formData.family_selection & property.family_chosen === 1 & formData.family_mode_1 === 'Driving/ transport' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family1_driving_mins} mins drive)</span></p> : formData.family_selection & property.family1_chosen === 1 & formData.family_mode_1 === 'Cycling' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family1_cycling_mins} mins cycle)</span></p> : formData.family_selection & property.family1_chosen === 1 & formData.family_mode_1 === 'Walking' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family_walking_mins} mins walk)</span></p> : ''}\n                                          {formData.tube_selection & property.tube_chosen === 1 ? <p className='insight-bullets'>🚇 {property.tubes.length} tube stations <span>(within {formData.tube_distance} min walk)</span></p> : ''}\n                                          {formData.train_selection & property.train_chosen === 1 ? <p className='insight-bullets'>🚊 {property.trains.length} train stations <span>(within {formData.train_distance} min walk)</span></p> : ''}\n                                        </>\n                                        : ''}\n                                    </div>\n                                  </div>\n                                </div>\n                                <hr className='mobile-line' />\n                              </>\n                            )\n                          })}\n                        </div>\n                      </section>\n                    </>\n                    : '' : ''}\n\n              </section>\n            </InfiniteScroll>\n          </>\n          :\n          <>\n            <section className='loading-screen'>\n              <h1>Wittle magic loading...</h1>\n              <h3>Sit tight while the algorithm does its work. This usually takes about a minute the first time you search.</h3>\n              <Loading />\n\n            </section>\n          </>\n        }\n      </section>\n\n      <div className='property-map-detail'>\n        <AllPropertiesMap\n          calc10={calc10}\n          formData={formData}\n          mapShow={mapShow}\n          handleMapClose={handleMapClose}\n          viewport={viewport}\n          setViewport={setViewport}\n          navigation='wittle-results'\n        />\n      </div>\n\n      <div className='property-insights-container'>\n        {calc10 ?\n          <MatchInsights\n            insightShow={insightShow}\n            handleInsightClose={handleInsightClose}\n            handleInsightShow={handleInsightShow}\n            calc10={calc10}\n            formData={formData}\n            currentId={currentId}\n            insightChange={insightChange}\n            insightToggle={insightToggle}\n          />\n          : ''}\n      </div>\n\n      <div className='edit-modal-section'>\n        <EditSearch\n          editShow={editShow}\n          handleEditClose={handleEditClose}\n          handleEditShow={handleEditShow}\n          editSearch={editSearch}\n          setEditSearch={setEditSearch}\n          handleSearchClose={handleSearchClose}\n          searchShow={searchShow}\n          calc10={calc10}\n          formData={formData}\n          setFormData={setFormData}\n          setErrors={setErrors}\n          setEditShow={setEditShow}\n        />\n      </div>\n\n      <div className='heatmap-section'>\n        <Heatmap\n          heatmapShow={heatmapShow}\n          handleHeatmapClose={handleHeatmapClose}\n          calc11={calc11}\n        />\n      </div>\n\n      <div className='favourites-section'>\n        <Favouriting\n          favouritingShow={favouritingShow}\n          handleFavouriteShow={handleFavouriteShow}\n          handleFavouriteClose={handleFavouriteClose}\n          favourited={favourited}\n          otherFavourites={otherFavourites}\n          currentFavInfo={currentFavInfo}\n          otherFavInfo={otherFavInfo}\n          favouriteAction={favouriteAction}\n          deleteShow={deleteShow}\n          handleDeleteClose={handleDeleteClose}\n          favouriteAuth={favouriteAuth}\n          handleFavAuthClose={handleFavAuthClose}\n          deleted={deleted}\n        />\n      </div>\n    </>\n  )\n\n}\n\nexport default PropertyResultsWittle\n\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { useParams, useNavigate, Link } from 'react-router-dom'\nimport { NumericFormat } from 'react-number-format'\n\n\n\n\nconst PropertyDetails = ({ property }) => {\n\n\n  return (\n    <>\n      <div className='details-and-description'>\n        <div className='property-details-section'>\n          <h5 className='detail-title'>Property details</h5>\n          <div className='property-details-list'>\n            <h5>🏠 {property.type}</h5>\n            <h5>🛌 {property.bedrooms} bedrooms</h5>\n            <h5>🛁 2 bathrooms</h5>\n            <h5>🫴 <NumericFormat value={property.sqft} displayType={'text'} thousandSeparator={true} /> sqft</h5>\n          </div>\n        </div>\n        <div className='property-details-section'>\n          {property.channel === 'Rent' ?\n            <>\n              <h5 className='detail-title'>Letting details</h5>\n              <div className='property-details-list'>\n                <h5>⏰ Available from 12/04/2023</h5>\n                <h5>💷 <NumericFormat value={1500} displayType={'text'} thousandSeparator={true} /> deposit</h5>\n                <h5>🛋 furnished</h5>\n                <h5>⏰ 12 months min tenancy</h5>\n              </div>\n            </>\n            :\n            property.channel === 'Sale' ?\n              <>\n                <h5 className='detail-title'>Additional details</h5>\n                <div className='property-details-list'>\n                  <h5>📝 {property.tenure}</h5>\n                  <h5>🌳 1 acre garden</h5>\n                  <h5>🧾 Council tax band {property.council_tax}</h5>\n                  <h5>🚘 On road parking</h5>\n                </div>\n              </>\n              :\n              ''\n          }\n        </div>\n      </div>\n      <div className='details-and-description'>\n        <p className='description-text'>{property.property_description}</p>\n      </div>\n    </>\n  )\n}\n\nexport default PropertyDetails","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forceVisible = exports.forceCheck = exports.lazyload = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _event = require('./utils/event');\n\nvar _scrollParent = require('./utils/scrollParent');\n\nvar _scrollParent2 = _interopRequireDefault(_scrollParent);\n\nvar _debounce = require('./utils/debounce');\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _throttle = require('./utils/throttle');\n\nvar _throttle2 = _interopRequireDefault(_throttle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * react-lazyload\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar defaultBoundingClientRect = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  width: 0,\n  height: 0\n};\nvar LISTEN_FLAG = 'data-lazyload-listened';\nvar listeners = [];\nvar pending = [];\n\n// try to handle passive events\nvar passiveEventSupported = false;\ntry {\n  var opts = Object.defineProperty({}, 'passive', {\n    get: function get() {\n      passiveEventSupported = true;\n    }\n  });\n  window.addEventListener('test', null, opts);\n} catch (e) {}\n// if they are supported, setup the optional params\n// IMPORTANT: FALSE doubles as the default CAPTURE value!\nvar passiveEvent = passiveEventSupported ? { capture: false, passive: true } : false;\n\n/**\n * Check if `component` is visible in overflow container `parent`\n * @param  {node} component React component\n * @param  {node} parent    component's scroll parent\n * @return {bool}\n */\nvar checkOverflowVisible = function checkOverflowVisible(component, parent) {\n  var node = component.ref;\n\n  var parentTop = void 0;\n  var parentLeft = void 0;\n  var parentHeight = void 0;\n  var parentWidth = void 0;\n\n  try {\n    var _parent$getBoundingCl = parent.getBoundingClientRect();\n\n    parentTop = _parent$getBoundingCl.top;\n    parentLeft = _parent$getBoundingCl.left;\n    parentHeight = _parent$getBoundingCl.height;\n    parentWidth = _parent$getBoundingCl.width;\n  } catch (e) {\n    parentTop = defaultBoundingClientRect.top;\n    parentLeft = defaultBoundingClientRect.left;\n    parentHeight = defaultBoundingClientRect.height;\n    parentWidth = defaultBoundingClientRect.width;\n  }\n\n  var windowInnerHeight = window.innerHeight || document.documentElement.clientHeight;\n  var windowInnerWidth = window.innerWidth || document.documentElement.clientWidth;\n\n  // calculate top and height of the intersection of the element's scrollParent and viewport\n  var intersectionTop = Math.max(parentTop, 0); // intersection's top relative to viewport\n  var intersectionLeft = Math.max(parentLeft, 0); // intersection's left relative to viewport\n  var intersectionHeight = Math.min(windowInnerHeight, parentTop + parentHeight) - intersectionTop; // height\n  var intersectionWidth = Math.min(windowInnerWidth, parentLeft + parentWidth) - intersectionLeft; // width\n\n  // check whether the element is visible in the intersection\n  var top = void 0;\n  var left = void 0;\n  var height = void 0;\n  var width = void 0;\n\n  try {\n    var _node$getBoundingClie = node.getBoundingClientRect();\n\n    top = _node$getBoundingClie.top;\n    left = _node$getBoundingClie.left;\n    height = _node$getBoundingClie.height;\n    width = _node$getBoundingClie.width;\n  } catch (e) {\n    top = defaultBoundingClientRect.top;\n    left = defaultBoundingClientRect.left;\n    height = defaultBoundingClientRect.height;\n    width = defaultBoundingClientRect.width;\n  }\n\n  var offsetTop = top - intersectionTop; // element's top relative to intersection\n  var offsetLeft = left - intersectionLeft; // element's left relative to intersection\n\n  var offsets = Array.isArray(component.props.offset) ? component.props.offset : [component.props.offset, component.props.offset]; // Be compatible with previous API\n\n  return offsetTop - offsets[0] <= intersectionHeight && offsetTop + height + offsets[1] >= 0 && offsetLeft - offsets[0] <= intersectionWidth && offsetLeft + width + offsets[1] >= 0;\n};\n\n/**\n * Check if `component` is visible in document\n * @param  {node} component React component\n * @return {bool}\n */\nvar checkNormalVisible = function checkNormalVisible(component) {\n  var node = component.ref;\n\n  // If this element is hidden by css rules somehow, it's definitely invisible\n  if (!(node.offsetWidth || node.offsetHeight || node.getClientRects().length)) return false;\n\n  var top = void 0;\n  var elementHeight = void 0;\n\n  try {\n    var _node$getBoundingClie2 = node.getBoundingClientRect();\n\n    top = _node$getBoundingClie2.top;\n    elementHeight = _node$getBoundingClie2.height;\n  } catch (e) {\n    top = defaultBoundingClientRect.top;\n    elementHeight = defaultBoundingClientRect.height;\n  }\n\n  var windowInnerHeight = window.innerHeight || document.documentElement.clientHeight;\n\n  var offsets = Array.isArray(component.props.offset) ? component.props.offset : [component.props.offset, component.props.offset]; // Be compatible with previous API\n\n  return top - offsets[0] <= windowInnerHeight && top + elementHeight + offsets[1] >= 0;\n};\n\n/**\n * Detect if element is visible in viewport, if so, set `visible` state to true.\n * If `once` prop is provided true, remove component as listener after checkVisible\n *\n * @param  {React} component   React component that respond to scroll and resize\n */\nvar checkVisible = function checkVisible(component) {\n  var node = component.ref;\n  if (!(node instanceof HTMLElement)) {\n    return;\n  }\n\n  var parent = (0, _scrollParent2.default)(node);\n  var isOverflow = component.props.overflow && parent !== node.ownerDocument && parent !== document && parent !== document.documentElement;\n  var visible = isOverflow ? checkOverflowVisible(component, parent) : checkNormalVisible(component);\n  if (visible) {\n    // Avoid extra render if previously is visible\n    if (!component.visible) {\n      if (component.props.once) {\n        pending.push(component);\n      }\n\n      component.visible = true;\n      component.forceUpdate();\n    }\n  } else if (!(component.props.once && component.visible)) {\n    component.visible = false;\n    if (component.props.unmountIfInvisible) {\n      component.forceUpdate();\n    }\n  }\n};\n\nvar purgePending = function purgePending() {\n  pending.forEach(function (component) {\n    var index = listeners.indexOf(component);\n    if (index !== -1) {\n      listeners.splice(index, 1);\n    }\n  });\n\n  pending = [];\n};\n\nvar lazyLoadHandler = function lazyLoadHandler() {\n  for (var i = 0; i < listeners.length; ++i) {\n    var listener = listeners[i];\n    checkVisible(listener);\n  }\n  // Remove `once` component in listeners\n  purgePending();\n};\n\n/**\n * Forces the component to display regardless of whether the element is visible in the viewport.\n */\nvar forceVisible = function forceVisible() {\n  for (var i = 0; i < listeners.length; ++i) {\n    var listener = listeners[i];\n    listener.visible = true;\n    listener.forceUpdate();\n  }\n  // Remove `once` component in listeners\n  purgePending();\n};\n\n// Depending on component's props\nvar delayType = void 0;\nvar finalLazyLoadHandler = null;\n\nvar isString = function isString(string) {\n  return typeof string === 'string';\n};\n\nvar LazyLoad = function (_Component) {\n  _inherits(LazyLoad, _Component);\n\n  function LazyLoad(props) {\n    _classCallCheck(this, LazyLoad);\n\n    var _this = _possibleConstructorReturn(this, (LazyLoad.__proto__ || Object.getPrototypeOf(LazyLoad)).call(this, props));\n\n    _this.visible = false;\n    _this.setRef = _this.setRef.bind(_this);\n    return _this;\n  }\n\n  _createClass(LazyLoad, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // It's unlikely to change delay type on the fly, this is mainly\n      // designed for tests\n      var scrollport = window;\n      var scrollContainer = this.props.scrollContainer;\n\n      if (scrollContainer) {\n        if (isString(scrollContainer)) {\n          scrollport = scrollport.document.querySelector(scrollContainer);\n        }\n      }\n      var needResetFinalLazyLoadHandler = this.props.debounce !== undefined && delayType === 'throttle' || delayType === 'debounce' && this.props.debounce === undefined;\n\n      if (needResetFinalLazyLoadHandler) {\n        (0, _event.off)(scrollport, 'scroll', finalLazyLoadHandler, passiveEvent);\n        (0, _event.off)(window, 'resize', finalLazyLoadHandler, passiveEvent);\n        finalLazyLoadHandler = null;\n      }\n\n      if (!finalLazyLoadHandler) {\n        if (this.props.debounce !== undefined) {\n          finalLazyLoadHandler = (0, _debounce2.default)(lazyLoadHandler, typeof this.props.debounce === 'number' ? this.props.debounce : 300);\n          delayType = 'debounce';\n        } else if (this.props.throttle !== undefined) {\n          finalLazyLoadHandler = (0, _throttle2.default)(lazyLoadHandler, typeof this.props.throttle === 'number' ? this.props.throttle : 300);\n          delayType = 'throttle';\n        } else {\n          finalLazyLoadHandler = lazyLoadHandler;\n        }\n      }\n\n      if (this.props.overflow) {\n        var parent = (0, _scrollParent2.default)(this.ref);\n        if (parent && typeof parent.getAttribute === 'function') {\n          var listenerCount = 1 + +parent.getAttribute(LISTEN_FLAG);\n          if (listenerCount === 1) {\n            parent.addEventListener('scroll', finalLazyLoadHandler, passiveEvent);\n          }\n          parent.setAttribute(LISTEN_FLAG, listenerCount);\n        }\n      } else if (listeners.length === 0 || needResetFinalLazyLoadHandler) {\n        var _props = this.props,\n            scroll = _props.scroll,\n            resize = _props.resize;\n\n\n        if (scroll) {\n          (0, _event.on)(scrollport, 'scroll', finalLazyLoadHandler, passiveEvent);\n        }\n\n        if (resize) {\n          (0, _event.on)(window, 'resize', finalLazyLoadHandler, passiveEvent);\n        }\n      }\n\n      listeners.push(this);\n      checkVisible(this);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      return this.visible;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.props.overflow) {\n        var parent = (0, _scrollParent2.default)(this.ref);\n        if (parent && typeof parent.getAttribute === 'function') {\n          var listenerCount = +parent.getAttribute(LISTEN_FLAG) - 1;\n          if (listenerCount === 0) {\n            parent.removeEventListener('scroll', finalLazyLoadHandler, passiveEvent);\n            parent.removeAttribute(LISTEN_FLAG);\n          } else {\n            parent.setAttribute(LISTEN_FLAG, listenerCount);\n          }\n        }\n      }\n\n      var index = listeners.indexOf(this);\n      if (index !== -1) {\n        listeners.splice(index, 1);\n      }\n\n      if (listeners.length === 0 && typeof window !== 'undefined') {\n        (0, _event.off)(window, 'resize', finalLazyLoadHandler, passiveEvent);\n        (0, _event.off)(window, 'scroll', finalLazyLoadHandler, passiveEvent);\n      }\n    }\n  }, {\n    key: 'setRef',\n    value: function setRef(element) {\n      if (element) {\n        this.ref = element;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          height = _props2.height,\n          children = _props2.children,\n          placeholder = _props2.placeholder,\n          className = _props2.className,\n          classNamePrefix = _props2.classNamePrefix,\n          style = _props2.style;\n\n\n      return _react2.default.createElement(\n        'div',\n        { className: classNamePrefix + '-wrapper ' + className, ref: this.setRef, style: style },\n        this.visible ? children : placeholder ? placeholder : _react2.default.createElement('div', {\n          style: { height: height },\n          className: classNamePrefix + '-placeholder'\n        })\n      );\n    }\n  }]);\n\n  return LazyLoad;\n}(_react.Component);\n\nLazyLoad.propTypes = {\n  className: _propTypes2.default.string,\n  classNamePrefix: _propTypes2.default.string,\n  once: _propTypes2.default.bool,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n  offset: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.arrayOf(_propTypes2.default.number)]),\n  overflow: _propTypes2.default.bool,\n  resize: _propTypes2.default.bool,\n  scroll: _propTypes2.default.bool,\n  children: _propTypes2.default.node,\n  throttle: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.bool]),\n  debounce: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.bool]),\n  placeholder: _propTypes2.default.node,\n  scrollContainer: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),\n  unmountIfInvisible: _propTypes2.default.bool,\n  style: _propTypes2.default.object\n};\n\nLazyLoad.defaultProps = {\n  className: '',\n  classNamePrefix: 'lazyload',\n  once: false,\n  offset: 0,\n  overflow: false,\n  resize: false,\n  scroll: true,\n  unmountIfInvisible: false\n};\n\nvar getDisplayName = function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n};\n\nvar decorator = function decorator() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function lazyload(WrappedComponent) {\n    return function (_Component2) {\n      _inherits(LazyLoadDecorated, _Component2);\n\n      function LazyLoadDecorated() {\n        _classCallCheck(this, LazyLoadDecorated);\n\n        var _this2 = _possibleConstructorReturn(this, (LazyLoadDecorated.__proto__ || Object.getPrototypeOf(LazyLoadDecorated)).call(this));\n\n        _this2.displayName = 'LazyLoad' + getDisplayName(WrappedComponent);\n        return _this2;\n      }\n\n      _createClass(LazyLoadDecorated, [{\n        key: 'render',\n        value: function render() {\n          return _react2.default.createElement(\n            LazyLoad,\n            options,\n            _react2.default.createElement(WrappedComponent, this.props)\n          );\n        }\n      }]);\n\n      return LazyLoadDecorated;\n    }(_react.Component);\n  };\n};\n\nexports.lazyload = decorator;\nexports.default = LazyLoad;\nexports.forceCheck = lazyLoadHandler;\nexports.forceVisible = forceVisible;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = debounce;\nfunction debounce(func, wait, immediate) {\n  var timeout = void 0;\n  var args = void 0;\n  var context = void 0;\n  var timestamp = void 0;\n  var result = void 0;\n\n  var later = function later() {\n    var last = +new Date() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) {\n          context = null;\n          args = null;\n        }\n      }\n    }\n  };\n\n  return function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = +new Date();\n\n    var callNow = immediate && !timeout;\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n    }\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = null;\n      args = null;\n    }\n\n    return result;\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.on = on;\nexports.off = off;\nfunction on(el, eventName, callback, opts) {\n  opts = opts || false;\n  if (el.addEventListener) {\n    el.addEventListener(eventName, callback, opts);\n  } else if (el.attachEvent) {\n    el.attachEvent(\"on\" + eventName, function (e) {\n      callback.call(el, e || window.event);\n    });\n  }\n}\n\nfunction off(el, eventName, callback, opts) {\n  opts = opts || false;\n  if (el.removeEventListener) {\n    el.removeEventListener(eventName, callback, opts);\n  } else if (el.detachEvent) {\n    el.detachEvent(\"on\" + eventName, callback);\n  }\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @fileOverview Find scroll parent\n */\n\nexports.default = function (node) {\n  if (!(node instanceof HTMLElement)) {\n    return document.documentElement;\n  }\n\n  var excludeStaticParent = node.style.position === 'absolute';\n  var overflowRegex = /(scroll|auto)/;\n  var parent = node;\n\n  while (parent) {\n    if (!parent.parentNode) {\n      return node.ownerDocument || document.documentElement;\n    }\n\n    var style = window.getComputedStyle(parent);\n    var position = style.position;\n    var overflow = style.overflow;\n    var overflowX = style['overflow-x'];\n    var overflowY = style['overflow-y'];\n\n    if (position === 'static' && excludeStaticParent) {\n      parent = parent.parentNode;\n      continue;\n    }\n\n    if (overflowRegex.test(overflow) && overflowRegex.test(overflowX) && overflowRegex.test(overflowY)) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return node.ownerDocument || node.documentElement || document.documentElement;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = throttle;\n/*eslint-disable */\nfunction throttle(fn, threshhold, scope) {\n  threshhold || (threshhold = 250);\n  var last, deferTimer;\n  return function () {\n    var context = scope || this;\n\n    var now = +new Date(),\n        args = arguments;\n    if (last && now < last + threshhold) {\n      // hold on to it\n      clearTimeout(deferTimer);\n      deferTimer = setTimeout(function () {\n        last = now;\n        fn.apply(context, args);\n      }, threshhold);\n    } else {\n      last = now;\n      fn.apply(context, args);\n    }\n  };\n}"],"names":["className","src","require","alt","navbarColour","navigate","useNavigate","isActive","setIsActive","useRef","useState","errors","setErrors","email","password","passwordConfirmation","loginPasswordType","setLoginPasswordType","registerPasswordType","setRegisterPasswordType","menuShow","setMenuShow","registerShow","setRegisterShow","registerData","setRegisterData","username","password_confirmation","first_name","last_name","registerError","setRegisterError","post","style","backgroundColor","onClick","handleMenuClose","removeItemFromStorage","token","localStorage","removeItem","window","location","reload","isUserAuth","favouritingShow","handleFavouriteClose","favourited","otherFavourites","currentFavInfo","otherFavInfo","deleteShow","handleDeleteClose","favouriteAuth","handleFavAuthClose","deleted","Modal","show","onHide","backdrop","ModalBody","map","property","index","to","id","backgroundImage","property_image_1","property_name","total_score","search_name","value","displayType","thousandSeparator","prefix","bedrooms","length","fav","first_match","calc11","heatmapShow","handleHeatmapClose","handleHeatmapShow","restaurant_rank_perc","restaurant_rank","pub_rank_perc","pub_rank","cafe_rank_perc","cafe_rank","takeaway_rank_perc","takeaway_rank","gym_rank_perc","gym_rank","supermarket_rank_perc","supermarket_rank","park_rank_perc","park_rank","tube_rank_perc","tube_rank","editSearch","setEditSearch","handleSearchClose","searchShow","calc10","formData","setFormData","editShow","setEditShow","handleEditClose","handleEditShow","listFavourites","setListFavourites","properties","setProperties","userData","setUserData","propertySearch","setPropertySearch","initialForm","setInitialForm","localProp","setLocalProp","finalProp","setFinalProp","setResultsToLocalStorage","setItem","JSON","stringify","postEditSearch","async","owner","start_search","search_type","search_channel","restaurant_selection","restaurant_decision","restaurant_distance","restaurant_cuisine_1","restaurant_cuisine_2","takeaway_selection","takeaway_decision","takeaway_distance","takeaway_cuisine_1","takeaway_cuisine_2","pubs_selection","pubs_distance","cafes_selection","cafes_decision","cafes_detail","cafes_distance","tube_selection","tube_decision","tube_detail","tube_distance","train_selection","train_decision","train_detail","train_distance","primary_selection","primary_religion","primary_mode","primary_distance","college_selection","college_religion","college_mode","college_distance","secondary_selection","secondary_religion","secondary_mode","secondary_distance","supermarket_selection","supermarket_decision","supermarket_segment","supermarket_size","supermarket_distance","gym_selection","gym_studio_name","gym_class_type","gym_distance","park_selection","park_type","park_distance","workplace_selection","workplace_detail","workplace_transport","workplace_distance","family_selection","family_detail_1","family_distance_1","family_detail_2","family_distance_2","family_detail_3","family_distance_3","family_mode_1","family_mode_2","family_mode_3","property_price_min","property_price_max","property_bed_min","property_bed_max","property_type","console","log","e","target","data","axios","headers","Authorization","getAccessToken","error","getProperties","getUserToken","property_search_details","favouriteList","favourites","forEach","item","includes","push","input","parse","getItem","loadUserData","tubeDataset","setTubeDataset","stations","setStations","lines","setLines","trains","setTrains","trainStations","setTrainStations","useEffect","getTubes","getTrains","stationList","station","station_name","lineList","line","name","onChange","placeholder","result_id","insightShow","handleInsightClose","currentId","insightChange","insightToggle","filter","restaurants","Array","final_restaurant","choice","selection","takeaways","final_takeaway","bars","final_pub","cafes","final_cafe","primaries","final_primary","primary_rank","secondaries","final_secondary","secondary_rank","supermarkets","final_supermarket","gyms","final_gym","tubes","final_tube","parks","final_park","final_workplace","workplace_rank","final_family1","family1_rank","mapShow","handleMapClose","viewport","setViewport","normalMapShow","normalMapClose","normalHandleMapShow","navigation","mapPropertyShow","setMapProperty","showPopup","setShowPopup","iconId","setIconId","iconSetting","parseInt","mapboxAccessToken","process","mapStyle","onViewportChange","center","onMove","evt","longitude","long","latitude","Lat","titleAccess","onMouseEnter","closeOnClick","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__assign","assign","t","s","i","n","arguments","prototype","call","apply","this","delay","noTrailing","callback","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","clearTimeout","wrapper","self","elapsed","Date","now","args","exec","clear","undefined","setTimeout","cancel","__","constructor","create","useParams","setCurrentId","setFavourited","setDeleted","setOtherFavourites","favouriteInfo","setFavouriteInfo","setCurrentFavInfo","setOthrFavInfo","favouriteAction","setFavouriteAction","searchName","setSearchName","filteredProperties1","setFilteredProperties1","filteredProperties2","setFilteredProperties2","filteredProperties3","setFilteredProperties3","filteredProperties4","setFilteredProperties4","workFamilyCalc1","setWorkFamilyCalc1","workFamilyCalc2","setWorkFamilyCalc2","calc1","setCalc1","calc2","setCalc2","calc3","setCalc3","calc4","setCalc4","calc5","setCalc5","calc6","setCalc6","calc7","setCalc7","calc8","setCalc8","calc9","setCalc9","setCalc10","setCalc11","propertyButtons","setPropertyButtons","sidebar","setSidebar","workLong","setWorkLong","workLat","setWorkLat","famLong1","setFamLong1","famLat1","setFamLat1","famLong2","setFamLong2","famLat2","setFamLat2","geoData","setGeoData","workRun","setWorkRun","famRun","setFamRun","imageTracking","setImageTracking","currentImage","setCurrentImage","calculationsDone","setCalculationsDone","result","extractFormName","params","min_price","max_price","min_bedrooms","max_bedrooms","channel","restaurants_dist","parseFloat","pubs_dist","cafes_dist","takeaways_dist","gyms_dist","park_dist","supermarkets_dist","primaries_dist","secondaries_dist","colleges_dist","tubes_dist","trains_dist","calculation","colleges","removeEmpties","getResults","monthly","propertyFilter","calculation2","bedroomFilter","type","propertyType","restaurant","walking_time_mins","bar","cafe","shop","gym","park","tube","school","formFilters","postcode","getWork","response","getFam","workplace","workplace_long","workplace_lat","workplace_distance_km","Math","sin","sqrt","cos","PI","family1","family_long","family_lat","family_distance_km","workPlaceCalc1","workplace_cycling_mins","workplace_walking_mins","workplace_driving_mins","workplace_extra","toFixed","family_cycling_mins","family_walking_mins","family_driving_mins","family1_extra","workPlaceCalc2","cuisine_value","cuisine","pub","pub_category_value","pub_category","gym_group_value","gym_group","supermarket","cleansed_name_value","cleansed_name","segment_value","segment","size_value","size","ofsted_value","ofsted_results","calculation1","source_value","source","ofsted_recency_value","ofsted_recncy","ofsted_recency","religion_value","religious_grouping","calculation3","gender_value","gender","calculation4","restaurant_calcs","Rating","restaurant_score","pub_calcs","pub_score","primaries_calcs","primary","primary_score","tubes_calcs","tube_score","cafes_calcs","cafe_score","supermarkets_calcs","supermarket_match","parks_calcs","park_match","gym_calcs","gym_match","train_calcs","train","train_score","secondaries_calcs","secondary","secondary_score","colleges_calcs","college","college_score","takeaway_calcs","wittle_rating","takeaway_score","workplace_score","family1_score","property_images","url","property_image_2","calculation5","restaurant_total","reduce","a","v","pub_total","primaries_total","tubes_total","max","o","cafes_total","supermarkets_total","parks_total","gyms_total","trains_total","secondaries_total","colleges_total","takeaway_total","calculation6","restaurant_max","pub_max","primaries_max","secondaries_max","colleges_max","cafes_max","takeaway_max","restaurant_chosen","pub_chosen","primaries_chosen","cafe_chosen","tube_chosen","supermarkets_chosen","parks_chosen","gym_chosen","secondary_chosen","college_chosen","train_chosen","takeaway_chosen","workplace_chosen","family1_chosen","calculation7","restaurant_perc","pub_perc","primary_perc","tube_perc","cafe_perc","supermarket_perc","park_perc","gym_perc","train_perc","secondary_perc","college_perc","takeaway_perc","workplace_perc","family1_perc","options_chosen","calculation8","final_train","final_college","sort","calculation9","restaurant_ranks","takeaway_ranks","pub_ranks","cafe_ranks","supermarket_ranks","gym_ranks","park_ranks","tube_ranks","train_ranks","primary_ranks","secondary_ranks","college_ranks","workplace_ranks","family1_ranks","average_score","indexOf","train_rank","college_rank","calculation10","newData","top_score","total_properties","calculation11","infiniteScrollData","setInfiniteScrollData","slice","favouriteError","setFavouriteError","postFavourite","propertyData","handleDeleteShow","otherFavouriteIds","otherInfo","additionalData","favourite","searh_type","pubs_score","cafes_score","supermarket_score","gym_score","park_score","restaurant_input","takeaway_input","pubs_input","cafes_input","tube_input","train_input","primary_input","secondary_input","college_input","supermarket_input","gym_input","park_input","workplace_input","friends_input","friends_selection","handleFavouriteShow","handleFavAuthShow","setFavouritingShow","setDeleteShow","setFavouriteAuth","setMapShow","handleMapShow","zoom","setInsightShow","setInsightToggle","handleInsightShow","setSearchShow","setHeatmapShow","WhiteNavbar","dataLength","scrollThreshold","next","hasMore","loader","endMessage","textAlign","width","marginLeft","autoplay","transitionDuration","arrows","indicators","images","once","offset","textDecoration","color","PropertyDetails","family_chosen","family1_driving_mins","family1_cycling_mins","Loading","sqft","tenure","council_tax","property_description","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","key","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_propTypes2","_event","_scrollParent2","_debounce2","_throttle2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","defaultBoundingClientRect","LISTEN_FLAG","listeners","pending","passiveEventSupported","opts","get","addEventListener","passiveEvent","capture","passive","checkVisible","component","node","ref","HTMLElement","parent","visible","overflow","ownerDocument","document","documentElement","parentTop","parentLeft","parentHeight","parentWidth","_parent$getBoundingCl","getBoundingClientRect","top","left","height","windowInnerHeight","innerHeight","clientHeight","windowInnerWidth","innerWidth","clientWidth","intersectionTop","intersectionLeft","intersectionHeight","min","intersectionWidth","_node$getBoundingClie","offsetTop","offsetLeft","offsets","isArray","checkOverflowVisible","offsetWidth","offsetHeight","getClientRects","elementHeight","_node$getBoundingClie2","checkNormalVisible","forceUpdate","unmountIfInvisible","purgePending","splice","lazyLoadHandler","listener","delayType","finalLazyLoadHandler","LazyLoad","_Component","_this","getPrototypeOf","setRef","bind","scrollport","scrollContainer","querySelector","needResetFinalLazyLoadHandler","debounce","off","throttle","getAttribute","listenerCount","setAttribute","_props","scroll","resize","on","removeEventListener","removeAttribute","element","_props2","children","classNamePrefix","createElement","Component","propTypes","string","bool","oneOfType","number","arrayOf","object","defaultProps","getDisplayName","WrappedComponent","displayName","exports","func","wait","immediate","timeout","context","timestamp","later","last","callNow","el","eventName","attachEvent","event","detachEvent","excludeStaticParent","position","overflowRegex","parentNode","getComputedStyle","overflowX","overflowY","test","fn","threshhold","scope","deferTimer"],"sourceRoot":""}