"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[710],{5710:function(e,a,s){s.r(a);var n=s(2791),t=s(5294),r=s(7689),i=s(2570),l=(s(9696),s(1727)),o=s(184);a.default=()=>{(0,r.s0)();const[e,a]=(0,n.useState)(),[s,m]=(0,n.useState)(null),[c,p]=(0,n.useState)([]);(0,n.useEffect)((()=>{(async()=>{try{const e="/api/branch_list/",{data:s}=await t.Z.get(e);console.log("agent list ->",s),a(s);const n=s.map((e=>({value:e.id,label:e.branch_name})));p(n),console.log("company list ->",n)}catch(e){console.log(e)}})()}),[]);const[d,u]=(0,n.useState)("password"),[h,g]=(0,n.useState)("password"),[x,f]=(0,n.useState)(!1),[w,_]=(0,n.useState)(!1),[j,v]=(0,n.useState)({email:"",username:"",company_name:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[y,N]=(0,n.useState)({email:"",username:"",company_name:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),C=e=>{if(v({...j,[e.target.name]:e.target.value}),"first_name"===e.target.name)e.target.value.length<1?N({...y,first_name:"Add first name"}):N({...y,first_name:""});else if("last_name"===e.target.name)e.target.value.length<1?N({...y,last_name:"Add last name"}):N({...y,last_name:""});else if("company_name"===e.target.name)e.target.value.length<1?N({...y,company_name:"Add company_name"}):N({...y,company_name:""});else if("username"===e.target.name)e.target.value.length<1?N({...y,username:"Add username"}):N({...y,username:""});else if("email"===e.target.name)(0,i.isEmail)(j.email)?N({...y,email:""}):N({...y,email:"Invalid email address"});else if("password"===e.target.name){const a=(e=>{const a=(0,i.matches)(e,/[A-Z]/),s=(0,i.matches)(e,/[a-z]/),n=(0,i.matches)(e,/\d/),t=(0,i.matches)(e,/[^A-Za-z0-9]/);return(0,i.isLength)(e,{min:8})?a?s?n?t?"":"Password must contain at least one special character":"Password must contain at least one digit":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password must be at least 8 characters long"})(e.target.value);N({...y,password:a})}else"password_confirmation"===e.target.name&&(e.target.value!==j.password?N({...y,password_confirmation:"Passwords don't match"}):N({...y,password_confirmation:""}))};return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("section",{className:"login-page",id:"register",children:(0,o.jsxs)("section",{className:"login-content",children:[(0,o.jsx)("div",{className:"register-title",children:(0,o.jsx)("h1",{children:"Unlock the benefits of Wittle"})}),(0,o.jsxs)("div",{className:"register-section",children:[(0,o.jsxs)("div",{className:"login-input",children:[(0,o.jsx)("h3",{children:"First name"}),(0,o.jsx)("input",{type:"text",name:"first_name",className:"input",value:j.first_name,onChange:C}),y.first_name&&(0,o.jsxs)("p",{className:"error",children:["* ",y.first_name]})]}),(0,o.jsxs)("div",{className:"login-input",children:[(0,o.jsx)("h3",{children:"Last name"}),(0,o.jsx)("input",{type:"text",name:"last_name",className:"input",value:j.last_name,onChange:C}),y.last_name&&(0,o.jsxs)("p",{className:"error",children:["* ",y.last_name]})]}),(0,o.jsxs)("div",{className:"login-input",children:[(0,o.jsx)("h3",{children:"Company"}),(0,o.jsx)(l.ZP,{value:s,onChange:e=>{m(e),v({...j,company_name:e.label})},options:c,styles:{control:e=>({...e,fontSize:"0.8rem",fontFamily:"Poppins",color:"#FDF7F0",borderColor:"#FDF7F0",borderRadius:"10px",backgroundColor:"#1A276C",padding:"0px 0px",minHeight:"35px"}),option:(e,a)=>({...e,color:a.isSelected?"white":"#333",backgroundColor:a.isSelected?"#1A276C":"white",fontSize:"0.8rem"}),singleValue:(e,a)=>({...e,color:"#FDF7F0",fontSize:"0.8rem",fontFamily:"Poppins"})},className:"input",placeholder:"Select or search a company..."}),y.company_name&&(0,o.jsxs)("p",{className:"error",children:["* ",y.company_name]})]}),(0,o.jsxs)("div",{className:"login-input",children:[(0,o.jsx)("h3",{children:"Username"}),(0,o.jsx)("input",{type:"text",name:"username",className:"input",value:j.username,onChange:C}),y.username&&(0,o.jsxs)("p",{className:"error",children:["* ",y.username]})]}),(0,o.jsxs)("div",{className:"login-input",children:[(0,o.jsx)("h3",{children:"Email"}),(0,o.jsx)("input",{type:"email",name:"email",className:"input",value:j.email,onChange:C}),y.email&&(0,o.jsxs)("p",{className:"error",children:["* ",y.email]})]}),(0,o.jsxs)("div",{className:"login-input",children:[(0,o.jsx)("h3",{children:"Password"}),(0,o.jsx)("input",{type:h,name:"password",className:"password-input-register",value:j.password,onChange:C}),y.password&&(0,o.jsxs)("p",{className:"error",children:["* ",y.password]})]}),(0,o.jsxs)("div",{className:"login-input",children:[(0,o.jsx)("h3",{children:"Confirm password"}),(0,o.jsx)("input",{type:"password",name:"password_confirmation",className:"input",value:j.password_confirmation,onChange:C}),y.password_confirmation&&(0,o.jsxs)("p",{className:"error",children:["* ",y.password_confirmation]})]})]}),(0,o.jsx)("button",{type:"submit",onClick:async e=>{e.preventDefault();try{await t.Z.post("/api/auth/register/",j)}catch(a){console.log(a),N({...y,post:"Wittle account with this email already exists"})}},children:"Register"}),y.post&&(0,o.jsxs)("p",{className:"error",children:["* ",y.post]})]})})})}}}]);
//# sourceMappingURL=710.9543b3c2.chunk.js.map