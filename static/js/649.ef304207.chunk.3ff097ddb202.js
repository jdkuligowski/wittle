"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[649],{91649:function(e,s,a){a.r(s);var t=a(28381),n=a(65293),r=a(42524),o=a(47174),i=a(11535),l=a(95325),c=a(29343);s.default=()=>{const e=(0,r.s0)(),[s,a]=(0,t.useState)({email:"",password:"",account:""}),m=e=>{const{name:t,value:n}=e.target;let r="";"email"!==t||(0,i.isEmail)(n)?"password"===t&&(r=v(n)):r="Invalid email address",j({...g,[t]:n}),a({...s,[t]:r})},[d,u]=(0,t.useState)("password"),[p,h]=(0,t.useState)(!1),[w,x]=(0,t.useState)(!1),[g,j]=(0,t.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[S,f]=(0,t.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),v=e=>{const s=(0,i.matches)(e,/[A-Z]/),a=(0,i.matches)(e,/[a-z]/),t=(0,i.matches)(e,/\d/),n=(0,i.matches)(e,/[^A-Za-z0-9]/);return(0,i.isLength)(e,{min:8})?s?a?t?n?"":"Password must contain at least one special character":"Password must contain at least one digit":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password must be at least 8 characters long"};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.Z,{navbarColour:"#051885"}),(0,c.jsx)("section",{className:"login-page",children:(0,c.jsxs)("section",{className:"login-content",children:[(0,c.jsx)("section",{className:"form-section",children:(0,c.jsxs)("form",{className:"form-detail",onSubmit:async t=>{var r;if(t.preventDefault(),!s.email&&!s.password)try{const{data:s}=await n.ZP.post("/api/auth/login/",g);r=s.token,window.localStorage.setItem("wittle-user-token",r),window.localStorage.setItem("wittle-username",s.username),e("/agents/profile")}catch(o){const e=o.response.data.detail;e&&"Invalid credentials"===e&&a({...s,account:"Account not found"})}},children:[(0,c.jsx)("h1",{children:"Sign in to Wittle"}),(0,c.jsx)("p",{children:"Email address"}),(0,c.jsx)("input",{type:"email",name:"email",className:"input",value:g.email,onChange:m}),s.email&&(0,c.jsxs)("p",{className:"error",children:["* ",s.email]}),(0,c.jsx)("p",{children:"Password"}),(0,c.jsxs)("div",{className:"login-input",children:[(0,c.jsx)("input",{type:d,name:"password",className:"password-input",value:g.password,onChange:m}),(0,c.jsx)("div",{className:"password-icon-container",onClick:()=>{u("password"===d?"text":"password")},children:(0,c.jsx)("div",{className:"password-icon"})})]}),s.password&&(0,c.jsxs)("p",{className:"error",children:["* ",s.password]}),(0,c.jsx)("button",{className:"sign-up",type:"submit",children:"Sign in"}),s.account&&(0,c.jsxs)("p",{className:"error",id:"account",children:["* ",s.account]})]})}),(0,c.jsxs)("h5",{children:["Forgotten your login details? ",(0,c.jsx)(o.rU,{to:"/password-reset-request/",children:(0,c.jsx)("span",{children:"Request reset"})})," "]})]})})]})}},95325:function(e,s,a){var t=a(42524),n=a(28381),r=(a(65293),a(63762),a(11535),a(31824)),o=a(29343);s.Z=e=>{let{navbarColour:s}=e;const a=(0,t.s0)(),[i,l]=((0,n.useRef)(null),(0,n.useState)(!1)),[c,m]=(0,n.useState)({email:"",password:"",passwordConfirmation:""}),[d,u]=(0,n.useState)("password"),[p,h]=(0,n.useState)("password"),[w,x]=(0,n.useState)(!1),[g,j]=(0,n.useState)(!1),[S,f]=(0,n.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[v,N]=(0,n.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""});return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("section",{className:"nav-section",style:{backgroundColor:s},children:[(0,o.jsxs)("div",{className:"left-section",children:[(0,o.jsx)("div",{className:"logo",children:(0,o.jsx)("h2",{onClick:()=>a("/"),children:"Wittle"})}),(0,o.jsx)("h4",{onClick:()=>a("/agents"),className:"agent-button",children:"For agents"})]}),(0,o.jsx)("div",{className:"menu-container",onClick:()=>{x(!0)},children:(0,o.jsx)("div",{className:"menu-trigger",children:(0,o.jsx)("span",{children:(0,o.jsxs)("div",{className:"burger-icon",children:[(0,o.jsx)("hr",{className:"burger-icon-line"}),(0,o.jsx)("hr",{className:"burger-icon-line"}),(0,o.jsx)("hr",{className:"burger-icon-line"})]})})})})]}),(0,o.jsx)(r.Z,{menuShow:w,setMenuShow:x,handleMenuClose:()=>{x(!1)},removeItemFromStorage:e=>{localStorage.removeItem("wittle-user-token"),localStorage.removeItem("wittle-username"),window.location.reload(),l(!1)}})]})}}}]);
//# sourceMappingURL=649.ef304207.chunk.js.42624c7c1098.map