"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[389],{4177:function(s,e,l){l(2791);var i=l(184);e.Z=()=>(0,i.jsx)("div",{className:"loading-gif",children:(0,i.jsx)("img",{src:l(9193),alt:"loading gif"})})},8465:function(s,e,l){var i=l(184);e.Z=s=>{let{textColour:e,pageType:l}=s;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("section",{className:"website-footer no-print",id:l,children:[(0,i.jsx)("p",{style:{color:e},children:"Wittle Technology Limited is a registered company in England and Wales with corporation number 14326945."}),(0,i.jsx)("p",{style:{color:e},children:"Copyright \xa9 Wittle Technology Limited. All rights reserved."})]})})}},9832:function(s,e,l){var i=l(2791),a=l(7689),n=l(6048),c=l.n(n),t=l(4648),d=(l(8465),l(4177)),o=l(184);e.Z=s=>{let{ev1:e,listType:l,setEv1:n,postcodeData:r,tableMapView:h}=s;(0,a.s0)();const[m,u]=(0,i.useState)([]),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)(null),[N,v]=(0,i.useState)(),[b,_]=(0,i.useState)(""),[w,y]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[k,C]=(0,i.useState)(!0),[f,S]=(0,i.useState)(),[M,L]=(0,i.useState)(0),F=50*M,T=F+50,I=s=>{C(!0),console.log(k),S(parseInt(s.target.id)),console.log(parseInt(s.target.id))};(0,i.useEffect)((()=>{r&&y((s=>({...s,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=s=>{let l="asc";x===s&&"asc"===p&&(l="desc"),j(s),g(l);const i=[...e].sort(((e,i)=>isNaN(e[s])||isNaN(i[s])?e[s]<i[s]?"asc"===l?-1:1:e[s]>i[s]?"asc"===l?1:-1:0:"asc"===l?e[s]-i[s]:i[s]-e[s]));n(i)};return(0,i.useEffect)((()=>{var s;e&&u(""===(s=b)?[...e]:e.filter((e=>e.location.toLowerCase().includes(s.toLowerCase())||e.fast_charging.toLowerCase().includes(s.toLowerCase()))))}),[b,e]),(0,o.jsx)(o.Fragment,{children:e?(0,o.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,o.jsxs)("div",{className:"school-block",children:[(0,o.jsxs)("div",{className:"school-table-headers",children:[(0,o.jsx)("h5",{id:"column1",children:"#"}),(0,o.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>E("location"),children:[(0,o.jsx)("h5",{children:"Charger location"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,o.jsxs)("div",{id:"column3",className:"gym-group sort-section",onClick:()=>E("power"),children:[(0,o.jsx)("h5",{children:"Power"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===l?(0,o.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,o.jsx)("h5",{children:"Distance"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,o.jsx)("h5",{id:"column4"}),(0,o.jsx)("h5",{id:"column5",className:"gym-final",children:"Fast Charging"})]}),(0,o.jsx)("div",{className:"school-table-details",children:m?m.map(((s,e)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"school-content",children:[(0,o.jsx)("div",{className:"column",id:"column1",children:(0,o.jsx)("h5",{children:e+1})}),(0,o.jsx)("div",{className:"column gym-name",id:"column2",children:(0,o.jsx)("h5",{children:s.location})}),(0,o.jsx)("div",{className:"column gym-group",id:"column3",children:(0,o.jsxs)("h5",{children:[s.power," kW"]})}),(0,o.jsx)("div",{className:"column",id:"column4",children:"short list"===l?(0,o.jsxs)("h5",{children:[s.walkTimeMin," mins"]}):(0,o.jsx)("h5",{})}),(0,o.jsx)("div",{className:"column gym-final",id:"column5",children:(0,o.jsx)("h5",{children:s.fast_charging})})]}),(0,o.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,o.jsx)("div",{className:"school-block",children:(0,o.jsxs)("div",{className:"map-grid-view",children:[(0,o.jsx)("div",{className:"grid-list",children:m?m.map(((s,e)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"school-content",children:(0,o.jsxs)("div",{className:"grid-right",id:s.id,onMouseEnter:I,children:[(0,o.jsxs)("h5",{className:"title",children:[e+1,". ",s.location]}),(0,o.jsxs)("div",{className:"details",children:[(0,o.jsx)("div",{className:"icon",id:"evs"}),(0,o.jsxs)("h5",{children:[s.power,"kW"]})]}),"short list"===l?(0,o.jsxs)("div",{className:"details",children:[(0,o.jsx)("div",{className:"icon",id:"distance"}),(0,o.jsxs)("h5",{children:[s.walkTimeMin," mins"]})]}):""]})}),(0,o.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,o.jsx)("div",{className:"map-section",children:(0,o.jsxs)(t.ZP,{...w,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:s=>{y(s)},center:w,onMove:s=>y(s.viewport),className:"profile-map",children:[m&&m.map(((s,e)=>(0,o.jsx)(t.Jx,{id:s.id,longitude:s.longitude,latitude:s.latitude,onClick:()=>{return e=s,console.log("selectd gym ->",e),void v(e);var e},children:(0,o.jsx)("div",{className:"poi-background",children:e+1})},e))).slice(F,T),r&&(0,o.jsx)(t.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,o.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),N?(0,o.jsx)(t.GI,{longitude:N.longitude,latitude:N.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>v(null),children:(0,o.jsx)("div",{className:"popup-content",children:(0,o.jsxs)("div",{className:"popup-border",children:[(0,o.jsx)("h5",{className:"title",children:N.location}),(0,o.jsxs)("p",{children:["\u26fd\ufe0f Power:",N.power," kW"]}),(0,o.jsxs)("p",{children:["\u26fd\ufe0f Fast charging: ",N.fast_charging]})]})})}):""]})})]})}):"",m?(0,o.jsx)(c(),{pageCount:Math.ceil(m.length/50),onPageChange:s=>{const{selected:e}=s;L(e)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,o.jsx)("section",{className:"loading-screen",children:(0,o.jsx)(d.Z,{})})})}},2767:function(s,e,l){var i=l(2791),a=l(7689),n=l(6048),c=l.n(n),t=l(4648),d=(l(8465),l(4177)),o=l(184);e.Z=s=>{let{gyms1:e,listType:l,setGyms1:n,postcodeData:r,tableMapView:h}=s;(0,a.s0)();const[m,u]=(0,i.useState)([]),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)(null),[N,v]=(0,i.useState)(),[b,_]=(0,i.useState)(""),[w,y]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[k,C]=(0,i.useState)(!0),[f,S]=(0,i.useState)(),[M,L]=(0,i.useState)(0),F=10*M,T=F+10,I=s=>{C(!0),console.log(k),S(parseInt(s.target.id)),console.log(parseInt(s.target.id))};(0,i.useEffect)((()=>{r&&y((s=>({...s,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=s=>{let l="asc";x===s&&"asc"===p&&(l="desc"),j(s),g(l);const i=[...e].sort(((e,i)=>isNaN(e[s])||isNaN(i[s])?e[s]<i[s]?"asc"===l?-1:1:e[s]>i[s]?"asc"===l?1:-1:0:"asc"===l?e[s]-i[s]:i[s]-e[s]));n(i)};return(0,i.useEffect)((()=>{var s;e&&u(""===(s=b)?[...e]:e.filter((e=>e.gym_name.toLowerCase().includes(s.toLowerCase())||e.gym_group.toLowerCase().includes(s.toLowerCase())||e.class_type.toLowerCase().includes(s.toLowerCase()))))}),[b,e]),(0,o.jsx)(o.Fragment,{children:e?(0,o.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,o.jsxs)("div",{className:"school-block",children:[(0,o.jsxs)("div",{className:"school-table-headers",children:[(0,o.jsx)("h5",{id:"column1",children:"#"}),(0,o.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>E("gym_name"),children:[(0,o.jsx)("h5",{children:"Studio name"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,o.jsxs)("div",{id:"column3",className:"gym-group sort-section",onClick:()=>E("gym_group"),children:[(0,o.jsx)("h5",{children:"Studio group"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===l?(0,o.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,o.jsx)("h5",{children:"Distance"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,o.jsx)("h5",{id:"column4"}),(0,o.jsx)("h5",{id:"column5",className:"gym-final",children:"Class types"})]}),(0,o.jsx)("div",{className:"school-table-details",children:m?m.map(((s,e)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"school-content",children:[(0,o.jsx)("div",{className:"column",id:"column1",children:(0,o.jsx)("h5",{children:e+1})}),(0,o.jsx)("div",{className:"column gym-name",id:"column2",children:(0,o.jsx)("h5",{children:s.gym_name})}),(0,o.jsx)("div",{className:"column gym-group",id:"column3",children:(0,o.jsx)("h5",{children:s.gym_group})}),(0,o.jsx)("div",{className:"column",id:"column4",children:"short list"===l?(0,o.jsxs)("h5",{children:[s.walkTimeMin," mins"]}):(0,o.jsx)("h5",{})}),(0,o.jsx)("div",{className:"column gym-final",id:"column5",children:(0,o.jsx)("h5",{children:s.class_type})})]}),(0,o.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,o.jsx)("div",{className:"school-block",children:(0,o.jsxs)("div",{className:"map-grid-view",children:[(0,o.jsx)("div",{className:"grid-list",children:m?m.map(((s,e)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"school-content",children:(0,o.jsxs)("div",{className:"grid-right",id:s.id,onMouseEnter:I,children:[(0,o.jsxs)("h5",{className:"title",children:[e+1,". ",s.gym_name]}),(0,o.jsxs)("div",{className:"details",children:[(0,o.jsx)("div",{className:"icon",id:"gyms"}),(0,o.jsx)("h5",{children:s.gym_group})]}),"short list"===l?(0,o.jsxs)("div",{className:"details",children:[(0,o.jsx)("div",{className:"icon",id:"distance"}),(0,o.jsxs)("h5",{children:[s.walkTimeMin," mins"]})]}):""]})}),(0,o.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,o.jsx)("div",{className:"map-section",children:(0,o.jsxs)(t.ZP,{...w,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:s=>{y(s)},center:w,onMove:s=>y(s.viewport),className:"profile-map",children:[m&&m.map(((s,e)=>(0,o.jsx)(t.Jx,{id:s.id,longitude:s.long,latitude:s.Lat,onClick:()=>{return e=s,console.log("selectd gym ->",e),void v(e);var e},children:(0,o.jsx)("div",{className:"poi-background",children:e+1})},e))).slice(F,T),r&&(0,o.jsx)(t.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,o.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),N?(0,o.jsx)(t.GI,{longitude:N.long,latitude:N.Lat,closeOnClick:!1,className:"item-popup",onClose:()=>v(null),children:(0,o.jsx)("div",{className:"popup-content",children:(0,o.jsxs)("div",{className:"popup-border",children:[(0,o.jsx)("h5",{className:"title",children:N.gym_name}),(0,o.jsx)("p",{children:N.gym_group}),(0,o.jsx)("p",{children:N.class_type})]})})}):""]})})]})}):"",m?(0,o.jsx)(c(),{pageCount:Math.ceil(m.length/10),onPageChange:s=>{const{selected:e}=s;L(e)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,o.jsx)("section",{className:"loading-screen",children:(0,o.jsx)(d.Z,{})})})}},1213:function(s,e,l){var i=l(2791),a=l(7689),n=l(6048),c=l.n(n),t=l(4648),d=l(6014),o=l(7981),r=(l(8465),l(4177)),h=l(5176),m=l(184);e.Z=s=>{let{primaryData1:e,listType:l,setPrimaryData1:n,postcodeData:u,tableMapView:x,primaryDetail:j,setPrimaryDetail:p,setSliderSelection:g,setPropertyView:N}=s;(0,a.s0)();const[v,b]=(0,i.useState)([]),[_,w]=(0,i.useState)(""),[y,k]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[C,f]=(0,i.useState)(null),[S,M]=(0,i.useState)(null),[L,F]=(0,i.useState)(null),[T,I]=(0,i.useState)(!0),[E,D]=(0,i.useState)(),[A,G]=(0,i.useState)(0),Z=10*A,J=Z+10,V=s=>{I(!0),console.log(T),D(parseInt(s.target.id)),console.log(parseInt(s.target.id))};(0,i.useEffect)((()=>{u&&k((s=>({...s,latitude:u[0].longitude,longitude:u[0].latitude,zoom:12.5})))}),[u]);const z=s=>{let l="asc";S===s&&"asc"===L&&(l="desc"),M(s),F(l);const i=[...e].sort(((e,i)=>isNaN(e[s])||isNaN(i[s])?e[s]<i[s]?"asc"===l?-1:1:e[s]>i[s]?"asc"===l?1:-1:0:"asc"===l?e[s]-i[s]:i[s]-e[s]));n(i)};(0,i.useEffect)((()=>{var s;e&&b(""===(s=_)?[...e]:e.filter((e=>e.school_name.toLowerCase().includes(s.toLowerCase())||e.local_authority.toLowerCase().includes(s.toLowerCase())||e.school_type.toLowerCase().includes(s.toLowerCase())||e.ofsted_results&&e.ofsted_results.toString().toLowerCase().includes(s.toLowerCase())||e.total_pass_rate&&e.total_pass_rate.toString().toLowerCase().includes(s.toLowerCase())||e.total_top_rate&&e.total_top_rate.toString().toLowerCase().includes(s.toLowerCase())||"short list"===l&&e.within_catchment.toLowerCase().includes(s.toLowerCase())||"short list"===l&&e.walkTimeMin&&e.walkTimeMin.toString().toLowerCase().includes(s.toLowerCase())||"long list"===l&&e.max_distance&&e.max_distance.toString().toLowerCase().includes(s.toLowerCase()))))}),[_,e]);return(0,m.jsx)(m.Fragment,{children:e&&"Table"===j?(0,m.jsxs)("section",{className:"primary-details-section",children:["Table"===x?(0,m.jsxs)("div",{className:"school-block",children:[(0,m.jsxs)("div",{className:"school-table-headers",children:[(0,m.jsx)("h5",{id:"column1",children:"#"}),(0,m.jsxs)("div",{id:"column2",className:"sort-section",onClick:()=>z("school_name"),children:[(0,m.jsx)("h5",{children:"School name"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,m.jsx)("h5",{id:"column3",children:"Local authority"}),(0,m.jsx)("h5",{id:"column4",children:"Type"}),(0,m.jsxs)("div",{id:"column5",className:"sort-section",onClick:()=>z("ofsted_results"),children:[(0,m.jsx)("h5",{children:"Ofsted"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,m.jsxs)("div",{id:"column6",className:"sort-section",onClick:()=>z("pupils_at_standard"),children:[(0,m.jsx)("h5",{children:"At standard"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,m.jsxs)("div",{id:"column7",className:"sort-section",onClick:()=>z("pupils_exceeding_standard"),children:[(0,m.jsx)("h5",{children:"Exceeding standard"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===l?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h5",{id:"column8",children:"Catchment"}),(0,m.jsxs)("div",{id:"column9",className:"sort-section",onClick:()=>z("distance_between"),children:[(0,m.jsx)("h5",{children:"Dist"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})]}):"long list"===l?(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{id:"column8",className:"sort-section",onClick:()=>z("max_distance"),children:[(0,m.jsx)("h5",{children:"Catchment distance"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})}):""]}),(0,m.jsx)("div",{className:"school-table-details",children:v?v.map(((s,e)=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"school-content",children:[(0,m.jsx)("div",{className:"column",id:"column1",children:(0,m.jsx)("h5",{children:e+1})}),(0,m.jsx)("div",{className:"column",id:"column2",children:(0,m.jsx)("h5",{onClick:()=>{return e=s.id,N("Details"),p("School"),g("Primary schools"),window.localStorage.setItem("school-id",e),void console.log(e);var e},children:s.school_name})}),(0,m.jsx)("div",{className:"column",id:"column3",children:(0,m.jsx)("h5",{children:s.local_authority})}),(0,m.jsx)("div",{className:"column",id:"column4",children:(0,m.jsx)("h5",{children:s.school_type})}),(0,m.jsx)("div",{className:"column",id:"column5",children:(0,m.jsx)("h5",{children:null===s.ofsted_results?"N/a":s.ofsted_results})}),(0,m.jsx)("div",{className:"column",id:"column6",children:"Independent school"===s.school_type?(0,m.jsx)("h5",{children:"N/a"}):(0,m.jsxs)("h5",{children:[Math.round(100*s.pupils_at_standard),"%"]})}),(0,m.jsx)("div",{className:"column",id:"column7",children:"Independent school"===s.school_type?(0,m.jsx)("h5",{children:"N/a"}):(0,m.jsxs)("h5",{children:[Math.round(100*s.pupils_exceeding_standard),"%"]})}),"short list"===l?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"column",id:"column8",children:(0,m.jsx)("h5",{children:s.within_catchment})}),(0,m.jsx)("div",{className:"column",id:"column9",children:(0,m.jsxs)("h5",{children:[s.walkTimeMin," mins"]})})]}):"long list"===l?(0,m.jsx)("div",{className:"column",id:"column8",children:null!==s.max_distance?(0,m.jsx)("h5",{children:s.max_distance}):(0,m.jsx)("h5",{children:"Not specified"})}):""]}),(0,m.jsx)("hr",{className:"dividing-line"})]}))).slice(Z,J):""})]}):"Map"===x?(0,m.jsx)("div",{className:"school-block",children:(0,m.jsxs)("div",{className:"map-grid-view",children:[(0,m.jsx)("div",{className:"grid-list",children:v?v.map(((s,e)=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"school-content",children:(0,m.jsxs)("div",{className:"grid-right",id:s.id,onMouseEnter:V,children:[(0,m.jsxs)("h5",{className:"title",children:[e+1,". ",s.school_name]}),(0,m.jsxs)("div",{className:"details",children:[(0,m.jsx)("div",{className:"icon",id:"secondaries"}),(0,m.jsx)("h5",{children:s.school_type})]}),(0,m.jsxs)("div",{className:"details",children:[(0,m.jsx)("div",{className:"icon",id:"ofsted"}),(0,m.jsx)("h5",{children:null===s.ofsted_results?"N/a":s.ofsted_results})]}),"short list"===l?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"details",children:[(0,m.jsx)("div",{className:"icon",id:"catchment"}),(0,m.jsx)("h5",{children:s.within_catchment})]}),(0,m.jsxs)("div",{className:"details",children:[(0,m.jsx)("div",{className:"icon",id:"distance"}),(0,m.jsxs)("h5",{children:[s.walkTimeMin," mins"]})]})]}):"long list"===l?(0,m.jsxs)("div",{className:"details",children:[(0,m.jsx)("div",{className:"icon",id:"distance"}),(0,m.jsxs)("h5",{children:[s.walkTimeMin," mins"]})]}):""]})}),(0,m.jsx)("hr",{className:"dividing-line"})]}))).slice(Z,J):""}),(0,m.jsx)("div",{className:"map-section",children:(0,m.jsxs)(t.ZP,{...y,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:s=>{k(s)},center:y,onMove:s=>k(s.viewport),className:"profile-map",children:[v&&v.map(((s,e)=>(0,m.jsx)(t.Jx,{id:s.id,longitude:s.longitude,latitude:s.latitude,onClick:()=>{return f(e=s),console.log(e.longitude),console.log(e.latitude),void console.log(e.max_distance);var e},children:(0,m.jsx)("div",{className:"poi-background",children:e+1})},e))).slice(Z,J),u&&(0,m.jsx)(t.Jx,{id:u[0].id,longitude:u[0].latitude,latitude:u[0].longitude,children:(0,m.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),C&&!["Does not apply","Check","Religion","On request","N/a",null].includes(C.max_distance)?(0,m.jsx)(m.Fragment,{children:"number"===typeof parseFloat(C.longitude)&&"number"===typeof parseFloat(C.latitude)&&"number"===typeof parseFloat(C.max_distance)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(t.Hw,{id:"catchment-area",type:"geojson",data:(0,d.Z)([parseFloat(C.longitude),parseFloat(C.latitude)],parseFloat(C.max_distance),{units:"kilometers"}),children:[(0,m.jsx)(t.mh,{id:"catchment-area-ring",type:"fill",paint:{"fill-color":"#FFA7E5","fill-opacity":.3}}),(0,m.jsx)(t.mh,{id:"catchment-area-outline",type:"line",paint:{"line-color":"#FFA7E5","line-width":2}})]}),(0,m.jsx)(t.Hw,{id:"radius-line",type:"geojson",data:(0,o.Z)([C.longitude,C.latitude],C.max_distance,90,{units:"kilometers"}).geometry.coordinates,children:(0,m.jsx)(t.mh,{id:"radius",type:"line",paint:{"line-color":"#051885","line-width":2,"line-dasharray":[2,1]}})}),(0,m.jsx)(t.Hw,{id:"radius-label",type:"geojson",data:(0,o.Z)([parseFloat(C.longitude),parseFloat(C.latitude)],parseFloat(C.max_distance)/2,90,{units:"kilometers"}),children:(0,m.jsx)(t.mh,{id:"radius-label",type:"symbol",layout:{"text-field":`${C.max_distance} km`,"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12,"text-offset":[0,-1]},paint:{"text-color":"#051885"}})})]}):(0,m.jsx)("p",{children:"Invalid coordinates or distance."})}):C?(0,m.jsx)(t.GI,{longitude:parseFloat(C.longitude),latitude:parseFloat(C.latitude),closeOnClick:!1,className:"item-popup",onClose:()=>f(null),children:(0,m.jsx)("div",{className:"popup-content",children:(0,m.jsx)("div",{className:"popup-border",children:(0,m.jsx)("h5",{className:"title",children:"This school has no catchment area"})})})}):""]})})]})}):"",v?(0,m.jsx)(c(),{pageCount:Math.ceil(v.length/10),onPageChange:s=>{const{selected:e}=s;G(e)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):"School"===j?(0,m.jsx)(h.default,{}):(0,m.jsx)("section",{className:"loading-screen",children:(0,m.jsx)(r.Z,{})})})}},2213:function(s,e,l){var i=l(2791),a=l(7689),n=l(6048),c=l.n(n),t=l(4648),d=(l(8465),l(4177)),o=l(184);e.Z=s=>{let{pubs1:e,listType:l,setPubs1:n,postcodeData:r,tableMapView:h}=s;(0,a.s0)();const[m,u]=(0,i.useState)([]),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)(null),[N,v]=(0,i.useState)(),[b,_]=(0,i.useState)(""),[w,y]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[k,C]=(0,i.useState)(!0),[f,S]=(0,i.useState)(),[M,L]=(0,i.useState)(0),F=10*M,T=F+10,I=s=>{C(!0),console.log(k),S(parseInt(s.target.id)),console.log(parseInt(s.target.id))};(0,i.useEffect)((()=>{r&&y((s=>({...s,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=s=>{let l="asc";x===s&&"asc"===p&&(l="desc"),j(s),g(l);const i=[...e].sort(((e,i)=>isNaN(e[s])||isNaN(i[s])?e[s]<i[s]?"asc"===l?-1:1:e[s]>i[s]?"asc"===l?1:-1:0:"asc"===l?e[s]-i[s]:i[s]-e[s]));n(i)};return(0,i.useEffect)((()=>{var s;e&&u(""===(s=b)?[...e]:e.filter((e=>e.name.toLowerCase().includes(s.toLowerCase())||e.operator.toLowerCase().includes(s.toLowerCase())||e.walkTimeMin.toLowerCase().includes(s.toLowerCase()))))}),[b,e]),(0,o.jsx)(o.Fragment,{children:e?(0,o.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,o.jsxs)("div",{className:"school-block",children:[(0,o.jsxs)("div",{className:"school-table-headers",children:[(0,o.jsx)("h5",{id:"column1",children:"#"}),(0,o.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>E("name"),children:[(0,o.jsx)("h5",{children:"Pub name"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===l?(0,o.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,o.jsx)("h5",{children:"Distance"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,o.jsx)("h5",{id:"column4"})]}),(0,o.jsx)("div",{className:"school-table-details",children:m?m.map(((s,e)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"school-content",children:[(0,o.jsx)("div",{className:"column",id:"column1",children:(0,o.jsx)("h5",{children:e+1})}),(0,o.jsx)("div",{className:"column gym-name",id:"column2",children:(0,o.jsx)("h5",{children:s.name})}),(0,o.jsx)("div",{className:"column",id:"column4",children:"short list"===l?(0,o.jsxs)("h5",{children:[s.walkTimeMin," mins"]}):(0,o.jsx)("h5",{})})]}),(0,o.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,o.jsx)("div",{className:"school-block",children:(0,o.jsxs)("div",{className:"map-grid-view",children:[(0,o.jsx)("div",{className:"grid-list",children:m?m.map(((s,e)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"school-content",children:(0,o.jsxs)("div",{className:"grid-right",id:s.id,onMouseEnter:I,children:[(0,o.jsxs)("h5",{className:"title",children:[e+1,". ",s.name]}),"short list"===l?(0,o.jsxs)("div",{className:"details",children:[(0,o.jsx)("div",{className:"icon",id:"distance"}),(0,o.jsxs)("h5",{children:[s.walkTimeMin," mins"]})]}):""]})}),(0,o.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,o.jsx)("div",{className:"map-section",children:(0,o.jsxs)(t.ZP,{...w,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:s=>{y(s)},center:w,onMove:s=>y(s.viewport),className:"profile-map",children:[m&&m.map(((s,e)=>(0,o.jsx)(t.Jx,{id:s.id,longitude:s.longitude,latitude:s.latitude,onClick:()=>{return e=s,console.log("selected pub ->",e),void v(e);var e},children:(0,o.jsx)("div",{className:"poi-background",children:e+1})},e))).slice(F,T),r&&(0,o.jsx)(t.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,o.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),N?(0,o.jsx)(t.GI,{longitude:N.longitude,latitude:N.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>v(null),children:(0,o.jsx)("div",{className:"popup-content",children:(0,o.jsxs)("div",{className:"popup-border",children:[(0,o.jsx)("h5",{className:"title",children:N.name}),(0,o.jsxs)("p",{children:["\ud83c\udf7a ",N.operator," pub group"]}),(0,o.jsxs)("p",{children:["\ud83c\udf7a Distance: ",N.walkTimeMin," mins"]})]})})}):""]})})]})}):"",m?(0,o.jsx)(c(),{pageCount:Math.ceil(m.length/10),onPageChange:s=>{const{selected:e}=s;L(e)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,o.jsx)("section",{className:"loading-screen",children:(0,o.jsx)(d.Z,{})})})}},264:function(s,e,l){var i=l(2791),a=l(7689),n=l(6048),c=l.n(n),t=l(4648),d=(l(8465),l(4177)),o=l(184);e.Z=s=>{let{restaurants1:e,listType:l,setRestaurants1:n,postcodeData:r,tableMapView:h}=s;(0,a.s0)();const[m,u]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[x,j]=(0,i.useState)(null),[p,g]=(0,i.useState)([]),[N,v]=(0,i.useState)(null),[b,_]=(0,i.useState)(null),[w,y]=(0,i.useState)(""),[k,C]=(0,i.useState)(!0),[f,S]=(0,i.useState)(),[M,L]=(0,i.useState)(0),F=10*M,T=F+10,I=s=>{C(!0),console.log(k),S(parseInt(s.target.id)),console.log(parseInt(s.target.id))};(0,i.useEffect)((()=>{r&&u((s=>({...s,latitude:r[0].longitude,longitude:r[0].latitude,zoom:12.5})))}),[r]);const E=s=>{let l="asc";N===s&&"asc"===b&&(l="desc"),v(s),_(l);const i=[...e].sort(((e,i)=>isNaN(e[s])||isNaN(i[s])?e[s]<i[s]?"asc"===l?-1:1:e[s]>i[s]?"asc"===l?1:-1:0:"asc"===l?e[s]-i[s]:i[s]-e[s]));n(i)};return(0,i.useEffect)((()=>{var s;e&&g(""===(s=w)?[...e]:e.filter((e=>e.restaurant_name.toLowerCase().includes(s.toLowerCase()))))}),[w,e]),(0,o.jsx)(o.Fragment,{children:e?(0,o.jsxs)("section",{className:"primary-details-section",children:["Table"===h?(0,o.jsxs)("div",{className:"school-block",children:[(0,o.jsxs)("div",{className:"school-table-headers",children:[(0,o.jsx)("h5",{id:"column1",children:"#"}),(0,o.jsxs)("div",{id:"column2",className:"sort-section",onClick:()=>E("restaurant_name"),children:[(0,o.jsx)("h5",{children:"Restaurant name"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,o.jsxs)("div",{id:"column3",className:"sort-section",onClick:()=>E("rating"),children:[(0,o.jsx)("h5",{children:"Rating"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===l?(0,o.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>E("walkTimeMin"),children:[(0,o.jsx)("h5",{children:"Distance"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,o.jsx)("h5",{id:"column4"}),(0,o.jsx)("h5",{id:"column5",children:"Website"})]}),(0,o.jsx)("div",{className:"school-table-details",children:p?p.map(((s,e)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"school-content",children:[(0,o.jsx)("div",{className:"column",id:"column1",children:(0,o.jsx)("h5",{children:e+1})}),(0,o.jsx)("div",{className:"column",id:"column2",children:(0,o.jsx)("h5",{children:s.restaurant_name})}),(0,o.jsx)("div",{className:"column",id:"column3",children:(0,o.jsx)("h5",{children:s.rating>4.8?"Excellent":s.rating>4.5?"Very good":s.rating>4.2?"Good":s.rating>3.9?"Average":s.rating>0?"Poor":"N/a"})}),(0,o.jsx)("div",{className:"column",id:"column4",children:"short list"===l?(0,o.jsxs)("h5",{children:[s.walkTimeMin," mins "]}):(0,o.jsx)("h5",{})}),(0,o.jsx)("div",{className:"column",id:"column5",children:(0,o.jsx)("a",{target:"_blank",rel:"noreferrer",href:s.url,children:"Visit website"})})]}),(0,o.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""})]}):"Map"===h?(0,o.jsx)("div",{className:"school-block",children:(0,o.jsxs)("div",{className:"map-grid-view",children:[(0,o.jsx)("div",{className:"grid-list",children:p?p.map(((s,e)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"school-content",children:(0,o.jsxs)("div",{className:"grid-right",id:s.id,onMouseEnter:I,children:[(0,o.jsxs)("h5",{className:"title",children:[e+1,". ",s.restaurant_name]}),(0,o.jsxs)("div",{className:"details",children:[(0,o.jsx)("div",{className:"icon",id:"catchment"}),(0,o.jsx)("h5",{children:s.rating>4.8?"Excellent":s.rating>4.5?"Very good":s.rating>4.2?"Good":s.rating>3.9?"Average":s.rating>0?"Poor":"N/a"})]}),"short list"===l?(0,o.jsxs)("div",{className:"details",children:[(0,o.jsx)("div",{className:"icon",id:"distance"}),(0,o.jsxs)("h5",{children:[s.walkTimeMin," mins"]})]}):""]})}),(0,o.jsx)("hr",{className:"dividing-line"})]}))).slice(F,T):""}),(0,o.jsx)("div",{className:"map-section",children:(0,o.jsxs)(t.ZP,{...m,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:s=>{u(s)},center:m,onMove:s=>u(s.viewport),className:"profile-map",children:[p&&p.map(((s,e)=>(0,o.jsx)(t.Jx,{id:s.id,longitude:s.longitude,latitude:s.latitude,onClick:()=>{return e=s,console.log("selectd restaurant ->",e),void j(e);var e},children:(0,o.jsx)("div",{className:"poi-background",children:e+1})},e))).slice(F,T),r&&(0,o.jsx)(t.Jx,{id:r[0].id,longitude:r[0].latitude,latitude:r[0].longitude,children:(0,o.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),x?(0,o.jsx)(t.GI,{longitude:x.longitude,latitude:x.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>j(null),children:(0,o.jsx)("div",{className:"popup-content",children:(0,o.jsxs)("div",{className:"popup-border",children:[(0,o.jsx)("h5",{className:"title",children:x.restaurant_name}),(0,o.jsx)("p",{children:x.master_cuisine})]})})}):""]})})]})}):"",p?(0,o.jsx)(c(),{pageCount:Math.ceil(p.length/10),onPageChange:s=>{const{selected:e}=s;L(e)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,o.jsx)("section",{className:"loading-screen",children:(0,o.jsx)(d.Z,{})})})}},9577:function(s,e,l){var i=l(2791),a=l(7689),n=l(6048),c=l.n(n),t=l(4648),d=l(6014),o=l(7981),r=(l(8465),l(4177)),h=l(7107),m=l(184);e.Z=s=>{let{propertyData:e,secondaryData1:l,listType:n,setSecondaryData1:u,postcodeData:x,tableMapView:j,secondaryDetail:p,setSecondaryDetail:g,setSliderSelection:N,setPropertyView:v}=s;(0,a.s0)();const[b,_]=(0,i.useState)([]),[w,y]=(0,i.useState)(null),[k,C]=(0,i.useState)(null),[f,S]=(0,i.useState)(null),[M,L]=(0,i.useState)(""),[F,T]=(0,i.useState)(!0),[I,E]=(0,i.useState)(),[D,A]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[G,Z]=(0,i.useState)(0),J=10*G,V=J+10,z=s=>{T(!0),console.log(F),E(parseInt(s.target.id)),console.log(parseInt(s.target.id))};(0,i.useEffect)((()=>{x&&A((s=>({...s,latitude:x[0].longitude,longitude:x[0].latitude,zoom:12.5})))}),[x]);const P=s=>{let e="asc";k===s&&"asc"===f&&(e="desc"),C(s),S(e);const i=[...l].sort(((l,i)=>isNaN(l[s])||isNaN(i[s])?l[s]<i[s]?"asc"===e?-1:1:l[s]>i[s]?"asc"===e?1:-1:0:"asc"===e?l[s]-i[s]:i[s]-l[s]));u(i)};(0,i.useEffect)((()=>{var s;l&&_(""===(s=M)?[...l]:l.filter((e=>e.school_name.toLowerCase().includes(s.toLowerCase())||e.local_authority.toLowerCase().includes(s.toLowerCase())||e.school_type.toLowerCase().includes(s.toLowerCase())||e.ofsted_results&&e.ofsted_results.toString().toLowerCase().includes(s.toLowerCase())||e.total_pass_rate&&e.total_pass_rate.toString().toLowerCase().includes(s.toLowerCase())||e.total_top_rate&&e.total_top_rate.toString().toLowerCase().includes(s.toLowerCase())||"short list"===n&&e.within_catchment.toLowerCase().includes(s.toLowerCase())||"short list"===n&&e.walkTimeMin&&e.walkTimeMin.toString().toLowerCase().includes(s.toLowerCase())||"long list"===n&&e.max_distance&&e.max_distance.toString().toLowerCase().includes(s.toLowerCase()))))}),[M,l]);return(0,m.jsx)(m.Fragment,{children:l&&"Table"===p?(0,m.jsxs)("section",{className:"primary-details-section",children:["Table"===j?(0,m.jsxs)("div",{className:"school-block",children:[(0,m.jsxs)("div",{className:"school-table-headers",children:[(0,m.jsx)("h5",{id:"column1",children:"#"}),(0,m.jsxs)("div",{id:"column2",className:"sort-section",onClick:()=>P("school_name"),children:[(0,m.jsx)("h5",{children:"School name"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,m.jsx)("h5",{id:"column3",children:"Local authority"}),(0,m.jsx)("h5",{id:"column4",children:"Type"}),(0,m.jsxs)("div",{id:"column5",className:"sort-section",onClick:()=>P("ofsted_results"),children:[(0,m.jsx)("h5",{children:"Ofsted"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,m.jsxs)("div",{id:"column6",className:"sort-section",onClick:()=>P("total_pass_rate"),children:[(0,m.jsx)("h5",{children:"GCSE pass rate"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,m.jsxs)("div",{id:"column7",className:"sort-section",onClick:()=>P("total_top_rate"),children:[(0,m.jsx)("h5",{children:"GCSE A/A*"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===n?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("h5",{id:"column8",children:"Catchment"}),(0,m.jsxs)("div",{id:"column9",className:"sort-section",onClick:()=>P("distance_between"),children:[(0,m.jsx)("h5",{children:"Dist"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})]}):"long list"===n?(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{id:"column8",className:"sort-section",onClick:()=>P("max_distance"),children:[(0,m.jsx)("h5",{children:"Catchment distance"}),(0,m.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]})}):""]}),(0,m.jsx)("div",{className:"school-table-details",children:b?b.map(((s,e)=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"school-content",children:[(0,m.jsx)("div",{className:"column",id:"column1",children:(0,m.jsx)("h5",{children:e+1})}),(0,m.jsx)("div",{className:"column",id:"column2",children:(0,m.jsx)("h5",{onClick:()=>{return e=s.id,v("Details"),g("School"),N("Secondary schools"),window.localStorage.setItem("school-id",e),void console.log(e);var e},children:s.school_name})}),(0,m.jsx)("div",{className:"column",id:"column3",children:(0,m.jsx)("h5",{children:s.local_authority})}),(0,m.jsx)("div",{className:"column",id:"column4",children:(0,m.jsx)("h5",{children:s.school_type})}),(0,m.jsx)("div",{className:"column",id:"column5",children:(0,m.jsx)("h5",{children:null===s.ofsted_results?"N/a":s.ofsted_results})}),(0,m.jsx)("div",{className:"column",id:"column6",children:(0,m.jsx)("h5",{children:null===s.total_pass_rate?"N/a":s.total_pass_rate})}),(0,m.jsx)("div",{className:"column",id:"column7",children:(0,m.jsx)("h5",{children:null===s.total_top_rate?"N/a":s.total_top_rate})}),"short list"===n?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"column",id:"column8",children:(0,m.jsx)("h5",{children:s.within_catchment})}),(0,m.jsx)("div",{className:"column",id:"column9",children:(0,m.jsxs)("h5",{children:[s.walkTimeMin," mins"]})})]}):"long list"===n?(0,m.jsx)("div",{className:"column",id:"column8",children:(0,m.jsx)("h5",{children:"Independent school"===s.school_type?"N/a":s.max_distance})}):""]}),(0,m.jsx)("hr",{className:"dividing-line"})]}))).slice(J,V):""})]}):"Map"===j?(0,m.jsx)("div",{className:"school-block",children:(0,m.jsxs)("div",{className:"map-grid-view",children:[(0,m.jsx)("div",{className:"grid-list",children:b?b.map(((s,e)=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:"school-content",children:(0,m.jsxs)("div",{className:"grid-right",id:s.id,onMouseEnter:z,children:[(0,m.jsxs)("h5",{className:"title",children:[e+1,". ",s.school_name]}),(0,m.jsxs)("div",{className:"details",children:[(0,m.jsx)("div",{className:"icon",id:"secondaries"}),(0,m.jsx)("h5",{children:s.school_type})]}),(0,m.jsxs)("div",{className:"details",children:[(0,m.jsx)("div",{className:"icon",id:"ofsted"}),(0,m.jsx)("h5",{children:s.ofsted_results})]}),(0,m.jsxs)("div",{className:"details",children:[(0,m.jsx)("div",{className:"icon",id:"catchment"}),(0,m.jsx)("h5",{children:s.within_catchment})]}),(0,m.jsxs)("div",{className:"details",children:[(0,m.jsx)("div",{className:"icon",id:"distance"}),(0,m.jsxs)("h5",{children:[s.walkTimeMin," mins"]})]})]})}),(0,m.jsx)("hr",{className:"dividing-line"})]}))).slice(J,V):""}),(0,m.jsx)("div",{className:"map-section",children:(0,m.jsxs)(t.ZP,{...D,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:s=>{A(s)},center:D,onMove:s=>A(s.viewport),className:"profile-map",children:[b&&b.map(((s,e)=>(0,m.jsx)(t.Jx,{id:s.id,longitude:s.longitude,latitude:s.latitude,onClick:()=>{y(s)},children:(0,m.jsx)("div",{className:"poi-background",children:e+1})},e))).slice(J,V),x&&(0,m.jsx)(t.Jx,{id:x[0].id,longitude:x[0].latitude,latitude:x[0].longitude,children:(0,m.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),w&&!["Does not apply","Check","Religion",null].includes(w.max_distance)?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(t.Hw,{id:"catchment-area",type:"geojson",data:(0,d.Z)([w.longitude,w.latitude],w.max_distance,{units:"kilometers"}),children:[(0,m.jsx)(t.mh,{id:"catchment-area-ring",type:"fill",paint:{"fill-color":"#FFA7E5","fill-opacity":.3}}),(0,m.jsx)(t.mh,{id:"catchment-area-outline",type:"line",paint:{"line-color":"#FFA7E5","line-width":2}})]}),(0,m.jsx)(t.Hw,{id:"radius-line",type:"geojson",data:(0,o.Z)([w.longitude,w.latitude],w.max_distance,90,{units:"kilometers"}).geometry.coordinates,children:(0,m.jsx)(t.mh,{id:"radius",type:"line",paint:{"line-color":"#051885","line-width":2,"line-dasharray":[2,1]}})}),(0,m.jsx)(t.Hw,{id:"radius-label",type:"geojson",data:(0,o.Z)([w.longitude,w.latitude],w.max_distance/2,90,{units:"kilometers"}),children:(0,m.jsx)(t.mh,{id:"radius-label",type:"symbol",layout:{"text-field":`${w.max_distance} km`,"text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-size":12,"text-offset":[0,-1]},paint:{"text-color":"#051885"}})})]}):w?(0,m.jsx)(t.GI,{longitude:w.longitude,latitude:w.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>y(null),children:(0,m.jsx)("div",{className:"popup-content",children:(0,m.jsx)("div",{className:"popup-border",children:(0,m.jsx)("h5",{className:"title",children:"This school has no catchment area"})})})}):""]})})]})}):"",b?(0,m.jsx)(c(),{pageCount:Math.ceil(b.length/10),onPageChange:s=>{const{selected:e}=s;Z(e)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):"School"===p?(0,m.jsx)(h.default,{}):(0,m.jsx)("section",{className:"loading-screen",children:(0,m.jsx)(r.Z,{})})})}},2514:function(s,e,l){var i=l(2791),a=l(7689),n=l(6048),c=l.n(n),t=l(4648),d=(l(8465),l(4177)),o=l(184);e.Z=s=>{let{propertyData:e,supermarkets1:l,listType:n,setSupermarkets1:r,postcodeData:h,tableMapView:m}=s;(0,a.s0)();const[u,x]=(0,i.useState)([]),[j,p]=(0,i.useState)(),[g,N]=(0,i.useState)(null),[v,b]=(0,i.useState)(null),[_,w]=(0,i.useState)(""),[y,k]=(0,i.useState)({latitude:51.515419,longitude:-.141099,zoom:11.5}),[C,f]=(0,i.useState)(!0),[S,M]=(0,i.useState)(),[L,F]=(0,i.useState)(0),T=10*L,I=T+10,E=s=>{f(!0),console.log(C),M(parseInt(s.target.id)),console.log(parseInt(s.target.id))};(0,i.useEffect)((()=>{h&&k((s=>({...s,latitude:h[0].longitude,longitude:h[0].latitude,zoom:12.5})))}),[h]);const D=s=>{let e="asc";g===s&&"asc"===v&&(e="desc"),N(s),b(e);const i=[...l].sort(((l,i)=>isNaN(l[s])||isNaN(i[s])?l[s]<i[s]?"asc"===e?-1:1:l[s]>i[s]?"asc"===e?1:-1:0:"asc"===e?l[s]-i[s]:i[s]-l[s]));r(i)};return(0,i.useEffect)((()=>{var s;l&&x(""===(s=_)?[...l]:l.filter((e=>e.cleansed_name.toLowerCase().includes(s.toLowerCase())||e.segment.toLowerCase().includes(s.toLowerCase())||e.size.toLowerCase().includes(s.toLowerCase()))))}),[_,l]),(0,o.jsx)(o.Fragment,{children:l?(0,o.jsxs)("section",{className:"primary-details-section",children:["Table"===m?(0,o.jsxs)("div",{className:"school-block",children:[(0,o.jsxs)("div",{className:"school-table-headers",children:[(0,o.jsx)("h5",{id:"column1",children:"#"}),(0,o.jsxs)("div",{id:"column2",className:"gym-name sort-section",onClick:()=>D("supermarket_store_name"),children:[(0,o.jsx)("h5",{children:"Supermarket name"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,o.jsxs)("div",{id:"column3",className:"sort-section supermarket",onClick:()=>D("segment"),children:[(0,o.jsx)("h5",{children:"Segment"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),(0,o.jsxs)("div",{id:"column4",className:"sort-section",onClick:()=>D("store_size"),children:[(0,o.jsx)("h5",{children:"Size"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}),"short list"===n?(0,o.jsxs)("div",{id:"column5",className:"sort-section",onClick:()=>D("walkTimeMin"),children:[(0,o.jsx)("h5",{children:"Distance"}),(0,o.jsx)("h5",{className:"sort-button",children:"\u2195\ufe0f"})]}):(0,o.jsx)("h5",{id:"column5"})]}),(0,o.jsx)("div",{className:"school-table-details",children:u?u.map(((s,e)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"school-content",children:[(0,o.jsx)("div",{className:"column",id:"column1",children:(0,o.jsx)("h5",{children:e+1})}),(0,o.jsx)("div",{className:"column gym-name",id:"column2",children:(0,o.jsx)("h5",{children:s.supermarket_store_name})}),(0,o.jsx)("div",{className:"column supermarket",id:"column3",children:(0,o.jsx)("h5",{children:s.segment})}),(0,o.jsx)("div",{className:"column",id:"column4",children:(0,o.jsx)("h5",{children:s.store_size})}),(0,o.jsx)("div",{className:"column",id:"column5",children:"short list"===n?(0,o.jsxs)("h5",{children:[s.walkTimeMin," mins"]}):(0,o.jsx)("h5",{})})]}),(0,o.jsx)("hr",{className:"dividing-line"})]}))).slice(T,I):""})]}):"Map"===m?(0,o.jsx)("div",{className:"school-block",children:(0,o.jsxs)("div",{className:"map-grid-view",children:[(0,o.jsx)("div",{className:"grid-list",children:u?u.map(((s,e)=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"school-content",children:(0,o.jsxs)("div",{className:"grid-right",id:s.id,onMouseEnter:E,children:[(0,o.jsxs)("h5",{className:"title",children:[e+1,". ",s.supermarket_store_name]}),(0,o.jsxs)("div",{className:"details",children:[(0,o.jsx)("div",{className:"icon",id:"supermarkets"}),(0,o.jsx)("h5",{children:s.store_size})]}),"short list"===n?(0,o.jsxs)("div",{className:"details",children:[(0,o.jsx)("div",{className:"icon",id:"distance"}),(0,o.jsxs)("h5",{children:[s.walkTimeMin," mins"]})]}):""]})}),(0,o.jsx)("hr",{className:"dividing-line"})]}))).slice(T,I):""}),(0,o.jsx)("div",{className:"map-section",children:(0,o.jsxs)(t.ZP,{...y,mapboxApiAccessToken:"pk.eyJ1IjoiamRrdWxpZ293c2tpaSIsImEiOiJjbGF2NGdvdDYwMXplM3FsdGQzNXA1cWk1In0.XoVVFsT3TaaiBEdJt98h7w",mapStyle:"mapbox://styles/jdkuligowskii/clo8fop0l004b01pq000y65pb",onViewportChange:s=>{k(s)},center:y,onMove:s=>k(s.viewport),className:"profile-map",children:[u&&u.map(((s,e)=>(0,o.jsx)(t.Jx,{id:s.id,longitude:s.longitude,latitude:s.latitude,onClick:()=>{return e=s,console.log("selectd supermarket ->",e),void p(e);var e},children:(0,o.jsx)("div",{className:"poi-background",children:e+1})},e))).slice(T,I),h&&(0,o.jsx)(t.Jx,{id:h[0].id,longitude:h[0].latitude,latitude:h[0].longitude,children:(0,o.jsx)("h1",{className:"property-icon",children:"\ud83c\udfe0"})}),j?(0,o.jsx)(t.GI,{longitude:j.longitude,latitude:j.latitude,closeOnClick:!1,className:"item-popup",onClose:()=>p(null),children:(0,o.jsx)("div",{className:"popup-content",children:(0,o.jsxs)("div",{className:"popup-border",children:[(0,o.jsx)("h5",{className:"title",children:j.supermarket_store_name}),(0,o.jsx)("p",{children:j.store_size})]})})}):""]})})]})}):"",u?(0,o.jsx)(c(),{pageCount:Math.ceil(u.length/10),onPageChange:s=>{const{selected:e}=s;F(e)},containerClassName:"pagination",activeClassName:"active",previousLabel:"<",nextLabel:">",pageRangeDisplayed:0,breakLabel:"..."}):""]}):(0,o.jsx)("section",{className:"loading-screen",children:(0,o.jsx)(d.Z,{})})})}},5176:function(s,e,l){l.r(e);var i=l(2791),a=l(5294),n=l(7689),c=(l(9696),l(8465),l(2094),l(764),l(8084),l(184));e.default=()=>{const[s,e]=(0,i.useState)(),[l,t]=((0,n.s0)(),(0,i.useState)());return(0,i.useEffect)((()=>{(async()=>{try{const s=JSON.parse(localStorage.getItem("school-id")),{data:e}=await a.Z.get(`/api/primaries/${s}`);console.log("single primary data ->",e),t(e)}catch(s){e(!0),console.log(s)}})()}),[]),(0,c.jsx)(c.Fragment,{children:l?(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("section",{className:"single-school-profile",children:[(0,c.jsxs)("div",{className:"school-core-info",children:[(0,c.jsxs)("div",{className:"info-left",children:[(0,c.jsx)("h1",{children:l[0].school_name}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83d\udcc8 Ofsted: ",null===l[0].ofsted_results?"N/a":l[0].ofsted_results]}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83c\udf93 ",l[0].students," students per year"]}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83d\udc68\u200d\ud83d\udc67 Gender: ",l[0].gender]}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83d\ude4f Faith: ",null===l[0].religion?"All":l[0].religion]}),(0,c.jsxs)("a",{href:l[0].school_url,target:"_blank",className:"website",rel:"noreferrer",children:["\ud83d\udcbb ",l[0].school_url]})]}),(0,c.jsx)("div",{className:"info-right",children:(0,c.jsx)("div",{className:"school-image",id:"primary",style:{backgroundImage:null===l[0].image_url?void 0:`url(${l[0].image_url})`}})})]}),(0,c.jsxs)("div",{className:"school-academic-highlights",children:[(0,c.jsx)("h1",{children:"Academic highlights"}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"item",children:[(0,c.jsx)("div",{className:"circle",children:(0,c.jsxs)("h1",{children:[null===l[0].percentile?"N/a":Math.round(100*l[0].percentile)+1,"%"]})}),null!==l[0].percentile?(0,c.jsxs)("p",{children:["In the top ",Math.round(100*l[0].percentile)+1,"% of primary schools in London"]}):(0,c.jsx)("p",{children:"No performance data available for this school"})]}),(0,c.jsxs)("div",{className:"item",children:[(0,c.jsx)("div",{className:"circle",children:(0,c.jsxs)("h1",{children:[null===l[0].borough_percentile?"N/a":Math.round(100*l[0].borough_percentile)+1,"%"]})}),null!==l[0].borough_percentile?(0,c.jsxs)("p",{children:["In the top ",Math.round(100*l[0].borough_percentile)+1,"% of primary schools in ",l[0].local_authority]}):(0,c.jsx)("p",{children:"No performance data available for this school"})]})]})]}),(0,c.jsxs)("div",{className:"school-results",children:[(0,c.jsx)("h1",{children:"KS2 Results"}),l&&"Independent school"===l[0].school_type?(0,c.jsx)("h5",{className:"no-results",children:"No KS2 results for Independent schools"}):l?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"school-table-headers",children:[(0,c.jsx)("h5",{id:"column1",children:"#"}),(0,c.jsx)("h5",{id:"column2",children:"Subject"}),(0,c.jsx)("h5",{id:"column3",children:"At standard (%)"}),(0,c.jsx)("h5",{id:"column4",children:"Exceeding standard (%)"})]}),(0,c.jsxs)("div",{className:"school-table-details",children:[(0,c.jsxs)("div",{className:"school-content",children:[(0,c.jsx)("div",{className:"column",id:"column1",children:(0,c.jsx)("h5",{children:1})}),(0,c.jsx)("div",{className:"column",id:"column2",children:(0,c.jsx)("h5",{children:"Reading"})}),(0,c.jsx)("div",{className:"column",id:"column3",children:null!==l[0].at_standard_reading?(0,c.jsx)("h5",{children:l[0].at_standard_reading}):(0,c.jsx)("h5",{children:"No reading data avilable for this school"})}),(0,c.jsx)("div",{className:"column",id:"column4",children:null!==l[0].exceeding_standard_reading?(0,c.jsx)("h5",{children:l[0].exceeding_standard_reading}):""})]}),(0,c.jsx)("hr",{className:"dividing-line"})]}),(0,c.jsxs)("div",{className:"school-table-details",children:[(0,c.jsxs)("div",{className:"school-content",children:[(0,c.jsx)("div",{className:"column",id:"column1",children:(0,c.jsx)("h5",{children:2})}),(0,c.jsx)("div",{className:"column",id:"column2",children:(0,c.jsx)("h5",{children:"Writing"})}),(0,c.jsx)("div",{className:"column",id:"column3",children:null!==l[0].at_standard_writing?(0,c.jsx)("h5",{children:l[0].at_standard_writing}):(0,c.jsx)("h5",{children:"No writing data avilable for this school"})}),(0,c.jsx)("div",{className:"column",id:"column4",children:null!==l[0].exceeding_standard_writing?(0,c.jsx)("h5",{children:l[0].exceeding_standard_writing}):""})]}),(0,c.jsx)("hr",{className:"dividing-line"})]}),(0,c.jsxs)("div",{className:"school-table-details",children:[(0,c.jsxs)("div",{className:"school-content",children:[(0,c.jsx)("div",{className:"column",id:"column1",children:(0,c.jsx)("h5",{children:3})}),(0,c.jsx)("div",{className:"column",id:"column2",children:(0,c.jsx)("h5",{children:"Maths"})}),(0,c.jsx)("div",{className:"column",id:"column3",children:null!==l[0].at_standard_maths?(0,c.jsx)("h5",{children:l[0].at_standard_maths}):(0,c.jsx)("h5",{children:"No maths data avilable for this school"})}),(0,c.jsx)("div",{className:"column",id:"column4",children:null!==l[0].at_standard_maths?(0,c.jsx)("h5",{children:l[0].at_standard_maths}):""})]}),(0,c.jsx)("hr",{className:"dividing-line"})]}),(0,c.jsxs)("div",{className:"school-table-details",children:[(0,c.jsxs)("div",{className:"school-content",children:[(0,c.jsx)("div",{className:"column",id:"column1",children:(0,c.jsx)("h5",{children:4})}),(0,c.jsx)("div",{className:"column",id:"column2",children:(0,c.jsx)("h5",{children:"Grammar, punctuation and spelling"})}),(0,c.jsx)("div",{className:"column",id:"column3",children:null!==l[0].at_standard_gps?(0,c.jsx)("h5",{children:l[0].at_standard_gps}):(0,c.jsx)("h5",{children:"No GPS data avilable for this school"})}),(0,c.jsx)("div",{className:"column",id:"column4",children:null!==l[0].at_standard_gps?(0,c.jsx)("h5",{children:l[0].at_standard_gps}):""})]}),(0,c.jsx)("hr",{className:"dividing-line"})]}),(0,c.jsxs)("div",{className:"school-table-details",children:[(0,c.jsxs)("div",{className:"school-content",children:[(0,c.jsx)("div",{className:"column",id:"column1",children:(0,c.jsx)("h5",{children:5})}),(0,c.jsx)("div",{className:"column",id:"column2",children:(0,c.jsx)("h5",{children:"Science"})}),(0,c.jsx)("div",{className:"column",id:"column3",children:null!==l[0].at_standard_science?(0,c.jsx)("h5",{children:l[0].at_standard_science}):(0,c.jsx)("h5",{children:"No science data avilable for this school"})}),(0,c.jsx)("div",{className:"column",id:"column4",children:null!==l[0].at_standard_science?(0,c.jsx)("h5",{children:l[0].at_standard_science}):""})]}),(0,c.jsx)("hr",{className:"dividing-line"})]})]}):""]})]})}):""})}},7107:function(s,e,l){l.r(e);var i=l(2791),a=l(5294),n=l(7689),c=(l(9696),l(8465),l(2094),l(764),l(8084),l(184));e.default=()=>{const[s,e]=(0,i.useState)(),[l,t]=((0,n.s0)(),(0,i.useState)());return(0,i.useEffect)((()=>{(async()=>{try{const s=JSON.parse(localStorage.getItem("school-id")),{data:e}=await a.Z.get(`/api/secondaries/${s}`);console.log("secondaries data ->",e),t(e)}catch(s){e(!0),console.log(s)}})()}),[]),(0,c.jsx)(c.Fragment,{children:l?(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("section",{className:"single-school-profile",children:[(0,c.jsxs)("div",{className:"school-core-info",children:[(0,c.jsxs)("div",{className:"info-left",children:[(0,c.jsx)("h1",{children:l[0].school_name}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83d\udcc8 Ofsted: ",l[0].ofsted_results]}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83c\udf93 ",l[0].students," students per year"]}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83d\udc68\u200d\ud83d\udc67 Gender: ",l[0].gender]}),(0,c.jsxs)("h3",{className:"normal",children:["\ud83d\ude4f Faith: ",null===l[0].religion?"All":l[0].religion]}),(0,c.jsxs)("a",{href:l[0].school_url,target:"_blank",className:"website",rel:"noreferrer",children:["\ud83d\udcbb ",l[0].school_url]})]}),(0,c.jsx)("div",{className:"info-right",children:(0,c.jsx)("div",{className:"school-image",id:"secondary",style:{backgroundImage:null===l[0].image_url?void 0:`url(${l[0].image_url})`}})})]}),(0,c.jsxs)("div",{className:"school-academic-highlights",children:[(0,c.jsx)("h1",{children:"Academic highlights"}),(0,c.jsxs)("div",{className:"row",children:[(0,c.jsxs)("div",{className:"item",children:[(0,c.jsx)("div",{className:"circle",children:(0,c.jsxs)("h1",{children:[Math.round(100*(1-l[0].percentile))+1,"%"]})}),(0,c.jsxs)("p",{children:["In the top ",Math.round(100*(1-l[0].percentile))+1,"% of schools in London"]})]}),(0,c.jsxs)("div",{className:"item",children:[(0,c.jsx)("div",{className:"circle",children:(0,c.jsxs)("h1",{children:[Math.round(100*(1-l[0].borough_percentile))+1,"%"]})}),(0,c.jsxs)("p",{children:["In the top ",Math.round(100*(1-l[0].borough_percentile))+1,"% of schools in ",l[0].local_authority]})]}),(0,c.jsxs)("div",{className:"item",children:[(0,c.jsx)("div",{className:"circle",children:(0,c.jsx)("h1",{children:l[0].results.length})}),(0,c.jsxs)("p",{children:["Good curriculum with ",l[0].results.length," subjects"]})]})]})]}),(0,c.jsxs)("div",{className:"school-results",children:[(0,c.jsx)("h1",{children:"GCSE Results"}),(0,c.jsxs)("div",{className:"school-table-headers",children:[(0,c.jsx)("h5",{id:"column1",children:"#"}),(0,c.jsx)("h5",{id:"column2",children:"Subject"}),(0,c.jsx)("h5",{id:"column3",children:"Pass rate (%)"}),(0,c.jsx)("h5",{id:"column4",children:"A/ A* (%)"})]}),(0,c.jsx)("div",{className:"school-table-details",children:l[0].results.map(((s,e)=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"school-content",children:[(0,c.jsx)("div",{className:"column",id:"column1",children:(0,c.jsx)("h5",{children:e+1})}),(0,c.jsx)("div",{className:"column",id:"column2",children:(0,c.jsx)("h5",{children:s.subject})}),(0,c.jsx)("div",{className:"column",id:"column3",children:(0,c.jsx)("h5",{children:Math.round(s.pass_rate)})}),(0,c.jsx)("div",{className:"column",id:"column4",children:(0,c.jsx)("h5",{children:Math.round(s.top_rate)})})]}),(0,c.jsx)("hr",{className:"dividing-line"})]})))})]})]})}):""})}},9193:function(s,e,l){s.exports=l.p+"static/media/transparent-spinner.f3eb62caffaa8568ecbe.gif"}}]);
//# sourceMappingURL=389.92d14ea2.chunk.js.c1232c827789.map