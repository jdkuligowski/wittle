{"version":3,"file":"static/js/481.61f61057.chunk.js","mappings":"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","sources":["components/helpers/Loading.js","components/tools/WhiteNavbar.js","components/helpers/ImageSlider.js","components/helpers/modals/Favouriting.js","components/helpers/modals/Heatmap.js","components/helpers/modals/EditSearch.js","components/helpers/modals/MatchInsights.js","components/helpers/modals/AllPropertiesMap.js","../node_modules/react-infinite-scroll-component/node_modules/tslib/tslib.es6.js","../node_modules/react-infinite-scroll-component/node_modules/throttle-debounce/dist/index.esm.js","components/wittleSearch/resultBlocks.js/PropertyResultsWittle.js","components/wittleSearch/resultBlocks.js/propertyComponents/PropertyDetails.js","../node_modules/react-lazyload/lib/index.js","../node_modules/react-lazyload/lib/utils/debounce.js","../node_modules/react-lazyload/lib/utils/event.js","../node_modules/react-lazyload/lib/utils/scrollParent.js","../node_modules/react-lazyload/lib/utils/throttle.js"],"sourcesContent":["import React from 'react'\n\nconst Loading = () => (\n  <div className=\"loading-gif\">\n    <img src={require('../../styles/loading-gif-2.gif')} alt=\"loading gif\"/>\n  </div>\n)\n\nexport default Loading","import { useNavigate, Link } from 'react-router-dom'\nimport React, { useState, useEffect, useRef } from 'react'\nimport axios from 'axios'\nimport { isUserAuth, getUserToken, getAccessToken } from '../auth/Auth'\nimport Select from 'react-select'\nimport { Modal } from 'react-bootstrap'\nimport { GoogleLogin } from '@react-oauth/google'\nimport { isEmail, isLength, matches } from 'validator'\nimport MenuModal from '../helpers/modals/MenuModal'\n\n\nconst WhiteNavbar = ({ navbarColour }) => {\n\n  // remove login token from storage\n  const removeItemFromStorage = (token) => {\n    localStorage.removeItem('wittle-user-token')\n    localStorage.removeItem('wittle-username')\n    window.location.reload()\n  }\n\n  // state to enable navigation between pages\n  const navigate = useNavigate()\n\n\n  return (\n    <>\n      <section className='nav-section no-print' style={{ backgroundColor: navbarColour }}>\n        <div className='left-section'>\n          <div className='logo'>\n            <h2 onClick={() => navigate('/')}>Wittle</h2>\n            {/* <div className='logo-image'></div> */}\n          </div>\n        </div>\n    \n        {isUserAuth() ?\n          <div className=\"menu-container\" >\n            <h3 className='cta' onClick={removeItemFromStorage}><a>Sign out</a></h3>\n          </div>\n\n          :\n          <div className=\"menu-container\" >\n            <h3 className='cta' onClick={() => navigate('/login')}><a>Sign in</a></h3>\n          </div>\n\n        }\n      </section>\n\n    </>\n  )\n\n}\n\nexport default WhiteNavbar","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport 'react-slideshow-image/dist/styles.css'\nimport { Slide } from 'react-slideshow-image'\nimport { NumericFormat } from 'react-number-format'\n// import { getUserToken, getAccessToken, isUserAuth } from '../../auth/Auth'\n\n\n\nconst ImageSlider = ({ calc10, formData, listFavourites, postFavourite }) => {\n\n  // // state for determining whether a property is favoruited - this is used on the conditional for adding/deleting a favourite\n  // const [listFavourites, setListFavourites] = useState()\n\n  // // ? Section 8: FAVOURITES - section toi handle favouriting and deleting properties from favourites\n  // // Favorite button handler\n  // const [favouriteError, setFavouriteError] = useState()\n\n  // const postFavourite = async (e) => {\n  //   if (isUserAuth())\n  //     if (listFavourites.includes(parseInt(e.target.id)))\n  //       try {\n  //         console.log('deleting favourite')\n  //         const { data } = await axios.delete(`/api/favourites/${parseInt(e.target.id)}/`, {\n  //           headers: {\n  //             Authorization: `Bearer ${getAccessToken()}`,\n  //           },\n  //         })\n  //         loadUserData()\n  //       } catch (error) {\n  //         console.log(error)\n  //       }\n  //     else\n  //       try {\n  //         const propertyData = calc10.filter(property => {\n  //           return property.id === parseInt(e.target.id)\n  //         })\n  //         console.log('property to favourite', propertyData)\n  //         console.log('form data to favourite ->', formData)\n  //         const additionalData =\n  //         {\n  //           favourite: true,\n  //           property: e.target.id,\n  //           owner: parseInt(userData.id),\n  //           property_name: propertyData[0].property_name,\n  //           restaurant_score: propertyData[0].final_restaurant,\n  //           takeaway_score: propertyData[0].final_takeaway,\n  //           pubs_score: propertyData[0].final_pub,\n  //           cafes_score: propertyData[0].final_cafe,\n  //           tube_score: propertyData[0].final_tube,\n  //           train_score: propertyData[0].final_train,\n  //           primary_score: propertyData[0].final_primary,\n  //           secondary_score: propertyData[0].final_secondary,\n  //           college_score: propertyData[0].final_college,\n  //           supermarket_score: propertyData[0].final_supermarket,\n  //           gym_score: propertyData[0].final_gym,\n  //           park_score: propertyData[0].final_park,\n  //           workplace_score: propertyData[0].final_workplace,\n  //           family1_score: propertyData[0].final_family1,\n  //           total_score: propertyData[0].first_match,\n  //           restaurant_input: formData.restaurant_distance,\n  //           takeaway_input: formData.takeaway_distance,\n  //           pubs_input: formData.pubs_distance,\n  //           cafes_input: formData.cafes_distance,\n  //           tube_input: formData.tube_distance,\n  //           train_input: formData.train_distance,\n  //           primary_input: formData.primary_distance,\n  //           secondary_input: formData.secondary_distance,\n  //           college_input: formData.college_distance,\n  //           supermarket_input: formData.supermarket_distance,\n  //           gym_input: formData.gym_distance,\n  //           park_input: formData.park_distance,\n  //           workplace_input: formData.workplace_distance,\n  //           friends_input: formData.family_distance_1,\n  //           restaurant_selection: formData.restaurant_selection,\n  //           takeaway_selection: formData.takeaway_selection,\n  //           pubs_selection: formData.pubs_selection,\n  //           cafes_selection: formData.cafes_selection,\n  //           tube_selection: formData.tube_selection,\n  //           train_selection: formData.train_selection,\n  //           primary_selection: formData.primary_selection,\n  //           secondary_selection: formData.secondary_selection,\n  //           college_selection: formData.college_selection,\n  //           supermarket_selection: formData.supermarket_selection,\n  //           gym_selection: formData.gym_selection,\n  //           park_selection: formData.park_selection,\n  //           workplace_selection: formData.workplace_selection,\n  //           friends_selection: formData.family_selection,\n  //         }\n  //         const { data } = await axios.post('/api/favourites/', additionalData, {\n  //           headers: {\n  //             Authorization: `Bearer ${getAccessToken()}`,\n  //           },\n  //         })\n  //         console.log('favourited data ->', data)\n  //         loadUserData()\n  //       } catch (error) {\n  //         console.log(error)\n  //       }\n  //   else\n  //     try {\n  //       setFavouriteError(true)\n  //       console.log('must have an account to favourite')\n  //     } catch (error) {\n  //       console.log('error')\n  //     }\n  // }\n\n\n  return (\n    <>\n\n\n      <Slide className='slide-import' autoplay={false} transitionDuration={750} arrows={true} indicators={true}>\n        {calc10.map((property, index) => {\n          {\n            property.property_images.map((images, index) => {\n              return (\n                <>\n                  <div className='image-card' id={property.id} style={{ backgroundImage: `url('${images.url}')` }} key={index}>\n                    <div className='property-image-details'>\n                      {formData.search_channel === 'Renting' ?\n                        <h3><NumericFormat value={property.monthly} displayType={'text'} thousandSeparator={true} prefix={'£'} /> pcm</h3>\n                        :\n                        <h3>Fixed Price: <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </h3>\n                      }\n                    </div>\n                    {listFavourites ?\n                      <div className='favourite-section' id={property.id} onClick={postFavourite}>\n                        {listFavourites.includes(property.id) ?\n                          <div className='favourite-button-on' id={property.id} ></div>\n                          :\n                          <div className='favourite-button-off' id={property.id} ></div>\n                        }\n                      </div>\n                      : ''}\n                  </div>\n                </>\n              )\n            })\n          }\n        })\n        }\n      </Slide>\n\n\n    </>\n  )\n\n}\n\n\nexport default ImageSlider","import React, { useState, useEffect } from 'react'\nimport { NumericFormat } from 'react-number-format'\nimport { Modal, ModalBody } from 'react-bootstrap'\nimport { useParams, useNavigate, Link } from 'react-router-dom'\n\n\n\nconst Favouriting = ({ favouritingShow, handleFavouriteClose, favourited, otherFavourites,\n  currentFavInfo, otherFavInfo, deleteShow, handleDeleteClose,\n  favouriteAuth, handleFavAuthClose, deleted }) => {\n\n\n\n  return (\n    <>\n      <Modal show={favouritingShow} onHide={handleFavouriteClose} backdrop='static' className='favouriting-modal'>\n        <ModalBody>\n          <div className='favourite-modal-body'>\n            <div className='favourites-title'>\n              <h1 className='title-message'>😎 Property saved</h1>\n              <h1 className='closing-x' onClick={handleFavouriteClose}>x</h1>\n            </div>\n\n            {favourited ?\n              <div className='favourites-recent'>\n                {favourited.map((property, index) => {\n                  return (\n                    <>\n                      <div className='favourite-property' key={index}>\n                        <Link to={(`/wittle-results/${property.id}`)}>\n                          <div className='property-image' style={{ backgroundImage: `url('${property.property_image_1}')` }}></div>\n                        </Link>\n                        <div className='property-content'>\n                          <h3>🏠 {property.property_name}</h3>\n                          <h3>🔥 {currentFavInfo.total_score}% match</h3>\n                          <h3 key={index}>🔎 Original search: {currentFavInfo.search_name}</h3>\n                          <h3>💷 <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /></h3>\n                          <h3>🛌 {property.bedrooms} bedrooms</h3>\n                        </div>\n                      </div>\n                    </>\n                  )\n                })}\n\n              </div>\n              : ''\n            }\n            <hr className='favourite-section-splitter' />\n            {otherFavourites ?\n              <div className='favourites-other'>\n                <h1 className='title-message'>🏠 {otherFavourites.length} other saved properties</h1>\n                {otherFavourites.map((property, index) => {\n                  return (\n                    <>\n                      <div className='favourite-property' key={index}>\n                        <Link to={(`/wittle-results/${property.id}`)}>\n                          <div className='property-image' style={{ backgroundImage: `url('${property.property_image_1}')` }}></div>\n                        </Link>\n                        <div className='property-content'>\n                          <h3>🏠 {property.property_name}</h3>\n                          {otherFavInfo.map((fav, index) => {\n                            return (\n                              fav.property === property.id ?\n                                <>\n                                  <h3>🔥 {fav.total_score}% match</h3>\n                                  <h3 key={index}>🔎 Original search: {fav.search_name}</h3>\n                                </>\n                                : ''\n                            )\n                          })}\n                          <h3>💷 <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /></h3>\n                          <h3>🛌 {property.bedrooms} bedrooms</h3>\n                        </div>\n                      </div>\n                      <hr className='favourite-property-splitter' />\n\n                    </>\n                  )\n                })}\n\n              </div>\n              : ''\n            }\n          </div>\n        </ModalBody>\n      </Modal>\n\n\n      <Modal show={favouriteAuth} onHide={handleFavAuthClose} backdrop='static' className='favourite-auth-modal'>\n        <ModalBody>\n          <div className='favourite-modal-body'>\n            <div className='favourites-title'>\n              <h1 className='title-message'>😬 Oops! </h1>\n              <h1 className='closing-x' onClick={handleFavAuthClose}>x</h1>\n            </div>\n            <div className='favourites-non-auth'>\n              <h3>Only fully fledged Wittlers can save properties.</h3>\n              {/* <div className='non-auth-buttons'>\n                <button>Sign in</button>\n                <button>Register</button>\n              </div> */}\n            </div>\n\n\n          </div>\n        </ModalBody>\n      </Modal>\n\n      <Modal show={deleteShow} onHide={handleDeleteClose} backdrop='static' className='deleting-modal'>\n        <ModalBody>\n          <div className='favourite-modal-body'>\n            <div className='favourites-title'>\n              <h1 className='title-message'>🗑 Property deleted</h1>\n              <h1 className='closing-x' onClick={handleDeleteClose}>x</h1>\n            </div>\n\n            {deleted ?\n              <div className='favourites-recent'>\n                {deleted.map((property, index) => {\n                  return (\n                    <>\n                      <div className='favourite-property' key={index}>\n                        <Link to={(`/wittle-results/${property.id}`)}>\n                          <div className='property-image' style={{ backgroundImage: `url('${property.property_image_1}')` }}></div>\n                        </Link>\n                        <div className='property-content'>\n                          <h3>🏠 {property.property_name}</h3>\n                          <h3>🔥 {property.first_match}% match</h3>\n                          <h3 key={index}>🔎 Original search: {currentFavInfo.search_name}</h3>\n                          <h3>💷 <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /></h3>\n                          <h3>🛌 {property.bedrooms} bedrooms</h3>\n                        </div>\n                      </div>\n                    </>\n                  )\n                })}\n\n              </div>\n              : ''\n            }\n          </div>\n        </ModalBody>\n      </Modal>\n    </>\n  )\n}\n\n\nexport default Favouriting","import React from 'react'\nimport 'react-slideshow-image/dist/styles.css'\nimport { NumericFormat } from 'react-number-format'\nimport { Modal } from 'react-bootstrap'\n\n\nconst Heatmap = ({ calc11, heatmapShow, handleHeatmapClose, handleHeatmapShow }) => {\n\n\n  // // set state for showing edit modal\n  // const [heatmapShow, setHeatmapShow] = useState(false)\n\n  // // close modal\n  // const handleHeatmapClose = () => {\n  //   setHeatmapShow(false)\n  // }\n\n  // // show the modal\n  // const handleHeatmapShow = (e) => {\n  //   setHeatmapShow(true)\n  // }\n\n  return (\n    <>\n      <Modal show={heatmapShow} onHide={handleHeatmapClose} backdrop='static' className='heatmap-details'>\n        <Modal.Body>\n          <div className='heatmap-overall'>\n            {calc11 ?\n              <>\n                <div className='heatmap-rows'>\n                  <h2>Properties</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-names'>{property.index}</p>\n                        </div>\n                      </div>\n                    )\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Restaurants</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.restaurant_rank_perc}>\n                        <div className='heatmap-property-title' >\n                          <p className='property-numbers'>{property.restaurant_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Pubs</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.pub_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.pub_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Cafes</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.cafe_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.cafe_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Takeaways</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.takeaway_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.takeaway_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Gyms</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.gym_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.gym_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Supermarkets</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.supermarket_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.supermarket_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Parks</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.park_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.park_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n                <div className='heatmap-rows'>\n                  <h2>Tubes</h2>\n                  {calc11.map((property, index) => {\n                    return (\n                      <div className='heatmap-content' key={index} id={property.tube_rank_perc}>\n                        <div className='heatmap-property-title'>\n                          <p className='property-numbers'>{property.tube_rank}</p>\n                        </div>\n                      </div>\n                    )\n\n                  })}\n                </div>\n              </>\n              : ''}\n          </div>\n        </Modal.Body>\n      </Modal>\n    </>\n  )\n}\n\nexport default Heatmap","import React, { useState, useEffect, useRef } from 'react'\nimport 'react-slideshow-image/dist/styles.css'\nimport { NumericFormat } from 'react-number-format'\nimport { Modal } from 'react-bootstrap'\nimport { useParams, useNavigate, Link } from 'react-router-dom'\n\nimport axios from 'axios'\nimport { isUserAuth, getUserToken, getAccessToken } from '../../auth/Auth'\n\n\n\nconst EditSearch = ({ editSearch, setEditSearch, handleSearchClose, searchShow, calc10, formData, setFormData, setErrors, editShow, setEditShow, handleEditClose, handleEditShow }) => {\n\n\n  // state to enable navigation between pages\n  const navigate = useNavigate()\n\n  // state for determining whether a property is favoruited - this is used on the conditional for adding/deleting a favourite\n  const [listFavourites, setListFavourites] = useState()\n\n  // state to collect properties\n  const [properties, setProperties] = useState()\n\n  // state to collect the user information\n  const [userData, setUserData] = useState([])\n\n  // state for extracting the users searches from user data\n  const [propertySearch, setPropertySearch] = useState({})\n\n  // set first run of the form data\n  const [initialForm, setInitialForm] = useState()\n\n  // adsitional state for testing - used for extracting the results from state when saved there\n  const [localProp, setLocalProp] = useState()\n\n  // another state for properties - this is used as the final property list before calculations are carried out\n  const [finalProp, setFinalProp] = useState()\n\n  // loadinig user information\n  const loadUserData = async () => {\n    if (isUserAuth())\n      try {\n        const { data } = await axios.get(`/api/auth/profile/${getUserToken()}/`, {\n          headers: {\n            Authorization: `Bearer ${getAccessToken()}`,\n          },\n        })\n        setPropertySearch(data.property_search_details)\n        console.log('property search array ->', data.property_search_details)\n        setUserData(data)\n        console.log('userdata ->', data)\n        const favouriteList = []\n        data.favourites.forEach(item => favouriteList.includes(item.property) ? '' : favouriteList.push(item.property))\n        setListFavourites(favouriteList)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    else\n      try {\n        const { data } = await axios.get('/api/auth/profile/xplw7aq5r/AdminData/')\n        setPropertySearch(data.property_search_details)\n        console.log('property search array ->', data.property_search_details)\n        setUserData(data)\n        console.log('userdata ->', data)\n        const favouriteList = []\n        data.favourites.forEach(item => favouriteList.includes(item.property) ? '' : favouriteList.push(item.property))\n        setListFavourites(favouriteList)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    const input = JSON.parse(localStorage.getItem('wittle-form-input'))\n    setInitialForm(input)\n    console.log('initial form ->', input)\n  }\n\n  // loadnig property data\n  const getProperties = async () => {\n    if (!localProp)\n      try {\n        const { data } = await axios.get('/api/properties/results')\n        setProperties(data)\n        console.log('property data ->', data)\n        setResultsToLocalStorage()\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n  }\n\n  // define function for setting results to storage\n  const setResultsToLocalStorage = (token) => {\n    window.localStorage.setItem('wittle-results', JSON.stringify(localProp))\n    setFinalProp(localProp)\n  }\n\n  // function for posting an edit to the search\n  const postEditSearch = async (e) => {\n    try {\n      const formData = {\n        owner: editSearch.owner,\n        start_search: editSearch.start_search,\n        search_name: editSearch.search_name,\n        search_type: 'Wittle',\n        search_channel: editSearch.search_channel,\n        restaurant_selection: editSearch.restaurant_selection,\n        restaurant_decision: editSearch.restaurant_decision,\n        restaurant_distance: editSearch.restaurant_distance,\n        restaurant_cuisine_1: editSearch.restaurant_cuisine_1,\n        restaurant_cuisine_2: editSearch.restaurant_cuisine_2,\n        takeaway_selection: editSearch.takeaway_selection,\n        takeaway_decision: editSearch.takeaway_decision,\n        takeaway_distance: editSearch.takeaway_distance,\n        takeaway_cuisine_1: editSearch.takeaway_cuisine_1,\n        takeaway_cuisine_2: editSearch.takeaway_cuisine_2,\n        pubs_selection: editSearch.pubs_selection,\n        pubs_distance: editSearch.pubs_distance,\n        cafes_selection: editSearch.cafes_selection,\n        cafes_decision: editSearch.cafes_decision,\n        cafes_detail: editSearch.cafes_detail,\n        cafes_distance: editSearch.cafes_distance,\n        tube_selection: editSearch.tube_selection,\n        tube_decision: editSearch.tube_decision,\n        tube_detail: editSearch.tube_detail,\n        tube_distance: editSearch.tube_distance,\n        train_selection: editSearch.train_selection,\n        train_decision: editSearch.train_decision,\n        train_detail: editSearch.train_detail,\n        train_distance: editSearch.train_distance,\n        primary_selection: editSearch.primary_selection,\n        primary_religion: editSearch.primary_religion,\n        primary_mode: editSearch.primary_mode,\n        primary_distance: editSearch.primary_distance,\n        college_selection: editSearch.college_selection,\n        college_religion: editSearch.college_religion,\n        college_mode: editSearch.college_mode,\n        college_distance: editSearch.college_distance,\n        secondary_selection: editSearch.secondary_selection,\n        secondary_religion: editSearch.secondary_religion,\n        secondary_mode: editSearch.secondary_mode,\n        secondary_distance: editSearch.secondary_distance,\n        supermarket_selection: editSearch.supermarket_selection,\n        supermarket_decision: editSearch.supermarket_decision,\n        supermarket_segment: editSearch.supermarket_segment,\n        supermarket_size: editSearch.supermarket_size,\n        supermarket_distance: editSearch.supermarket_distance,\n        gym_selection: editSearch.gym_selection,\n        gym_studio_name: editSearch.gym_studio_name,\n        gym_class_type: editSearch.gym_class_type,\n        gym_distance: editSearch.gym_distance,\n        park_selection: editSearch.park_selection,\n        park_type: editSearch.park_type,\n        park_distance: editSearch.park_distance,\n        workplace_selection: editSearch.workplace_selection,\n        workplace_detail: editSearch.workplace_detail,\n        workplace_transport: editSearch.workplace_transport,\n        workplace_distance: editSearch.workplace_distance,\n        family_selection: editSearch.family_selection,\n        family_detail_1: editSearch.family_detail_1,\n        family_distance_1: editSearch.family_distance_1,\n        family_detail_2: editSearch.family_detail_2,\n        family_distance_2: editSearch.family_distance_2,\n        family_detail_3: editSearch.family_detail_3,\n        family_distance_3: editSearch.family_distance_3,\n        family_mode_1: editSearch.family_mode_1,\n        family_mode_2: editSearch.family_mode_2,\n        family_mode_3: editSearch.family_mode_3,\n        property_price_min: editSearch.property_price_min,\n        property_price_max: editSearch.property_price_max,\n        property_bed_min: editSearch.property_bed_min,\n        property_bed_max: editSearch.property_bed_max,\n        property_type: editSearch.property_type,\n      }\n      console.log(e.target.value)\n      const { data } = await axios.put(`/api/property-search/${e.target.value}`, formData, {\n        headers: {\n          Authorization: `Bearer ${getAccessToken()}`,\n        },\n      })\n      window.localStorage.setItem('wittle-form-input', JSON.stringify(data))\n      console.log('new form data->', data)\n      if (e.target.id === 'Submit')\n        navigate('/wittle-results/')\n      else if (e.target.id === 'Save')\n        getProperties()\n      setEditShow(false)\n      loadUserData()\n      setFormData(data)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n\n\n  // Managing states for the drop down menus of stations and lines to be used in the edit search modal\n  // states for holding the tube information\n  const [tubeDataset, setTubeDataset] = useState([])\n  const [stations, setStations] = useState([])\n  const [lines, setLines] = useState([])\n\n  // states for holding the train information\n  const [trains, setTrains] = useState([])\n  const [trainStations, setTrainStations] = useState([])\n\n  // ectract tube data from the database\n  useEffect(() => {\n    const getTubes = async () => {\n      try {\n        const { data } = await axios.get('/api/tubes/')\n        setTubeDataset(data)\n        // console.log('tube data ->', data)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    }\n    getTubes()\n  }, [])\n\n  // extract train data from the database\n  useEffect(() => {\n    const getTrains = async () => {\n      try {\n        const { data } = await axios.get('/api/trains/')\n        setTrains(data)\n        // console.log('train data ->', data)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    }\n    getTrains()\n  }, [])\n\n  // create lsits so we have a dropdown\n  useEffect(() => {\n    if (trains.length) {\n      const stationList = []\n      trains.forEach(station => stationList.includes(station.station_name) ? '' : stationList.push(station.station_name))\n      setTrainStations(stationList)\n    }\n  }, [trains])\n\n  // create lsits so we have a dropdown\n  useEffect(() => {\n    if (tubeDataset.length) {\n      const stationList = []\n      const lineList = []\n      tubeDataset.forEach(station => stationList.includes(station.station_name) ? '' : stationList.push(station.station_name))\n      tubeDataset.forEach(line => lineList.includes(line.line) ? '' : lineList.push(line.line))\n      setStations(stationList)\n      setLines(lineList)\n    }\n  }, [tubeDataset])\n\n\n\n  return (\n    <>\n      <Modal show={editShow} onHide={handleEditClose} backdrop='static' className='edit-modal'>\n        <Modal.Body>\n          {editSearch ?\n            <>\n              <div className='modal-header'>\n                <div className='modal-header-text'>\n                  <h1 className='submit-title'>Edit your Wittle search</h1>\n                  <p className='submit-detail'>Make changes to current inputs, or add some that you missed off last time</p>\n\n                </div>\n                <button onClick={handleEditClose} className='edit-close'>Close</button>\n              </div>\n              <hr className='edit-divider' />\n              <div className='modal-detail'>\n                <div className='input-section'>\n                  <h1 className='section-header'>Hospitality</h1>\n                  {/* Restaurants */}\n\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Restaurants</h3>\n\n                      <div className='section-buttons'>\n                        {editSearch.restaurant_selection ? <button name='restaurant_selection' onClick={() => setEditSearch({ ...editSearch, restaurant_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='restaurant_selection' onClick={() => setEditSearch({ ...editSearch, restaurant_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.restaurant_selection ?\n                      <div className='section-detail'>\n                        <h3>Restaurant decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, restaurant_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='restaurant_decision'>\n                          <option>{editSearch.restaurant_decision} (selected)</option>\n                          <option>Any restaurants</option>\n                          <option>Specific cuisine</option>\n                        </select>\n\n                        <h3>Cuisine</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, restaurant_cuisine_1: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='restaurant_cuisine_1'>\n                          <option>{editSearch.restaurant_cuisine_1} (selected)</option>\n                          <option>American</option>\n                          <option>Asian</option>\n                          <option>Bar</option>\n                          <option>British</option>\n                          <option>Central American</option>\n                          <option>Central Asian</option>\n                          <option>Chicken</option>\n                          <option>Chinese</option>\n                          <option>European</option>\n                          <option>French</option>\n                          <option>Gastro Pub</option>\n                          <option>Greek</option>\n                          <option>Indian</option>\n                          <option>International</option>\n                          <option>Italian</option>\n                          <option>Japanese</option>\n                          <option>Meat & Grill</option>\n                          <option>Mediterranean</option>\n                          <option>Mexican</option>\n                          <option>Middle Eastern</option>\n                          <option>Modern</option>\n                          <option>North African</option>\n                          <option>Pizza</option>\n                          <option>Pub food</option>\n                          <option>Seafood</option>\n                          <option>South African</option>\n                          <option>South American</option>\n                          <option>South East Asian</option>\n                          <option>Spanish</option>\n                          <option>Thai</option>\n                          <option>Turkish</option>\n                          <option>Vegetarian/ Vegan</option>\n                          <option>Vietnamese</option>\n                          <option>Wine Bar</option>\n                        </select>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, restaurant_distance: e.target.value })} name='restaurant_distance' placeholder={editSearch.restaurant_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Cafes */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Cafes</h3>\n                      <div className='section-buttons'>\n                        {editSearch.cafes_selection ? <button name='cafes_selection' onClick={() => setEditSearch({ ...editSearch, cafes_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='cafes_selection' onClick={() => setEditSearch({ ...editSearch, cafes_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.cafes_selection ?\n                      <div className='section-detail'>\n                        <h3>Cafe decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, cafes_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='cafes_decision'>\n                          <option>{editSearch.cafes_decision} (selected)</option>\n                          <option>General cafes</option>\n                          <option>Specific cafe</option>\n                        </select>\n                        {editSearch.cafes_decision !== '' || editSearch.cafes_decision === 'Specific cafe' ?\n                          <>\n                            <h3>Cafe</h3>\n                            <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, cafes_detail: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='cafes_detail'>\n                              <option>{editSearch.cafes_detail} (selected)</option>\n                              <option>Black Sheep Coffee</option>\n                              <option>Cafe Nero</option>\n                              <option>Costa Coffee</option>\n                              <option>Gail&apos;s</option>\n                              <option>Grind</option>\n                              <option>Joe & The Juice</option>\n                              <option>Pattiserie Valerie</option>\n                              <option>Pret</option>\n                            </select>\n                          </>\n                          : ''}\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, cafes_distance: e.target.value })} name='cafes_distance' placeholder={editSearch.cafes_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Takeaways */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Takeaways</h3>\n\n                      <div className='section-buttons'>\n                        {editSearch.takeaway_selection ? <button name='takeaway_selection' onClick={() => setEditSearch({ ...editSearch, takeaway_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='takeaway_selection' onClick={() => setEditSearch({ ...editSearch, takeaway_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.takeaway_selection ?\n                      <div className='section-detail'>\n                        <h3>Takeaway decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, takeaway_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='takeaway_decision'>\n                          <option>{editSearch.takeaway_decision} (selected)</option>\n                          <option>Any takeaway</option>\n                          <option>Specific cuisine</option>\n                        </select>\n                        <h3>Cuisine</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, takeaway_cuisine_1: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='takeaway_cuisine_1'>\n                          <option>{editSearch.takeaway_cuisine_1} (selected)</option>\n                          <option>American</option>\n                          <option>Asianfusion</option>\n                          <option>Breakfast</option>\n                          <option>British</option>\n                          <option>Brunch</option>\n                          <option>Chinese</option>\n                          <option>Healthy</option>\n                          <option>Indian</option>\n                          <option>Italian</option>\n                          <option>Japanese</option>\n                          <option>Korean</option>\n                          <option>Mediterranean</option>\n                          <option>Mexican</option>\n                          <option>Thai</option>\n                          <option>Turkish</option>\n                          <option>Vietnamese</option>\n                        </select>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, takeaway_distance: e.target.value })} name='takeaway_distance' placeholder={editSearch.takeaway_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Pubs */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Pubs</h3>\n                      <div className='section-buttons'>\n                        {editSearch.pubs_selection ? <button name='pubs_selection' onClick={() => setEditSearch({ ...editSearch, pubs_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='pubs_selection' onClick={() => setEditSearch({ ...editSearch, pubs_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.pubs_selection ?\n                      <div className='section-detail'>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, pubs_distance: e.target.value })} name='pubs_distance' placeholder={editSearch.pubs_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  <hr className='inner-divider' />\n                  {/* Second section - lifestyle */}\n                  <h1 className='section-header'>Lifestyle</h1>\n                  {/* Supermarkets */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Supermarkets</h3>\n                      <div className='section-buttons'>\n                        {editSearch.supermarket_selection ? <button name='supermarket_selection' onClick={() => setEditSearch({ ...editSearch, supermarket_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='supermarket_selection' onClick={() => setEditSearch({ ...editSearch, supermarket_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.supermarket_selection ?\n                      <div className='section-detail'>\n                        <h3>Supermarket decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, supermarket_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='supermarket_decision'>\n                          <option>{editSearch.supermarket_decision} (selected)</option>\n                          <option>Any supermarket</option>\n                          <option>Specific supermarket</option>\n                        </select>\n                        <h3>Type</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, supermarket_segment: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='supermarket_segment'>\n                          <option>{editSearch.supermarket_segment} (selected)</option>\n                          <option>Budget</option>\n                          <option>Convenience</option>\n                          <option>Mainstream</option>\n                          <option>Premium</option>\n                        </select>\n                        <h3>Size</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, supermarket_size: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='supermarket_size'>\n                          <option>{editSearch.supermarket_size} (selected)</option>\n                          <option>Don&apos;t mind</option>\n                          <option>Small </option>\n                          <option>Medium</option>\n                          <option>Large</option>\n                        </select>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, supermarket_distance: e.target.value })} name='supermarket_distance' placeholder={editSearch.supermarket_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Gyms */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Gyms</h3>\n                      <div className='section-buttons'>\n                        {editSearch.gym_selection ? <button name='gym_selection' onClick={() => setEditSearch({ ...editSearch, gym_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='gym_selection' onClick={() => setEditSearch({ ...editSearch, gym_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.gym_selection ?\n                      <div className='section-detail'>\n                        <h3>Studio</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, gym_studio_name: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='gym_studio_name'>\n                          <option>{editSearch.gym_studio_name} (selected)</option>\n                          <option>No preference</option>\n                          <option>1Rebel</option>\n                          <option>Barry&apos;s</option>\n                          <option>Fitness First</option>\n                          <option>Gymbox</option>\n                          <option>MoreYoga</option>\n                          <option>Nuffield Health</option>\n                          <option>Pure Gym</option>\n                          <option>The Gym Group</option>\n                          <option>Third Space</option>\n                          <option>Virgin</option>\n                        </select>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, gym_distance: e.target.value })} name='gym_distance' placeholder={editSearch.gym_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Parks */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Parks</h3>\n\n                      <div className='section-buttons'>\n                        {editSearch.park_selection ? <button name='park_selection' onClick={() => setEditSearch({ ...editSearch, park_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='park_selection' onClick={() => setEditSearch({ ...editSearch, park_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.park_selection ?\n                      <div className='section-detail'>\n                        <h3>Park</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, park_type: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='park_type'>\n                          <option>{editSearch.park_type} (selected)</option>\n                          <option>Large park &#40;long walks or runs&#41;</option>\n                          <option>Medium sized park &#40;big enough for activities&#41;</option>\n                          <option>Small square &#40;read a book&#41;</option>\n                        </select>\n\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, park_distance: e.target.value })} name='park_distance' placeholder={editSearch.park_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Workplace */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Workplace</h3>\n                      <div className='section-buttons'>\n                        {editSearch.workplace_selection ? <button name='workplace_selection' onClick={() => setEditSearch({ ...editSearch, workplace_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='workplace_selection' onClick={() => setEditSearch({ ...editSearch, workplace_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.workplace_selection ?\n                      <div className='section-detail'>\n                        <h3>Postcode</h3>\n                        <input className='input-postcode' onChange={(e) => setEditSearch({ ...editSearch, workplace_detail: e.target.value })} name='workplace_detail' placeholder={editSearch.workplace_detail}></input>\n                        <h3>Transport</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, workplace_transport: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='workplace_transport'>\n                          <option>{editSearch.workplace_transport} (selected)</option>\n                          <option>Walking</option>\n                          <option>Cycling</option>\n                          <option>Driving/ transport</option>\n                        </select>\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, workplace_distance: e.target.value })} name='workplace_distance' placeholder={editSearch.workplace_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  <hr className='inner-divider' />\n\n                  {/* Third section - Travel */}\n                  <h1 className='section-header'>Travel</h1>\n                  {/* Tubes */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Tubes</h3>\n                      <div className='section-buttons'>\n                        {editSearch.tube_selection ? <button name='tube_selection' onClick={() => setEditSearch({ ...editSearch, tube_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='tube_selection' onClick={() => setEditSearch({ ...editSearch, tube_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.tube_selection ?\n                      <div className='section-detail'>\n                        <h3>Tube decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, tube_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='tube_decision'>\n                          <option>{editSearch.tube_decision} (selected)</option>\n                          <option>General tube station</option>\n                          <option>Specific tube station</option>\n                          <option>Specific tube line</option>\n                        </select>\n                        {editSearch.tube_decision === 'Specific tube station' ?\n                          <>\n                            <h3>Station</h3>\n                            <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, tube_detail: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='tube_detail'>\n                              <option>{editSearch.tube_detail} (selected)</option>\n                              {stations ? stations.map(station => <option key={station} value={station}>{station}</option>) : ''}\n                            </select>\n                          </>\n                          : editSearch.tube_decision === 'Specific tube line' ?\n                            <>\n                              <h3>Line</h3>\n                              <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, tube_detail: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='tube_detail'>\n                                <option>{editSearch.tube_detail} (selected)</option>\n                                {lines.map(line => <option key={line} value={line}>{line}</option>)}\n                              </select>\n                            </>\n                            : ''}\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, tube_distance: e.target.value })} name='tube_distance' placeholder={editSearch.tube_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Trains */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Trains</h3>\n                      <div className='section-buttons'>\n                        {editSearch.train_selection ? <button name='train_selection' onClick={() => setEditSearch({ ...editSearch, train_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='train_selection' onClick={() => setEditSearch({ ...editSearch, train_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.train_selection ?\n                      <div className='section-detail'>\n                        <h3>Train decision</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, train_decision: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='train_decision'>\n                          <option>{editSearch.train_decision} (selected)</option>\n                          <option>General train station</option>\n                          <option>Specific train station</option>\n                        </select>\n                        {editSearch.tube_decision === 'Specific train station' ?\n                          <>\n                            <h3>Station</h3>\n                            <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, train_detail: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='train_detail'>\n                              <option>{editSearch.train_detail} (selected)</option>\n                              {trainStations.map(station => <option key={station} value={station}>{station}</option>)}\n                            </select>\n                          </>\n                          : ''}\n                        <h3>Walking distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, train_distance: e.target.value })} name='train_distance' placeholder={editSearch.train_distance}></input>\n                      </div>\n                      : ''}\n                  </div>\n                  <hr className='inner-divider' />\n\n                  {/* Fourth section - Family */}\n                  <h1 className='section-header'>Family</h1>\n                  {/* Primary schools */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Primary Schools</h3>\n                      <div className='section-buttons'>\n                        {editSearch.primary_selection ? <button name='primary_selection' onClick={() => setEditSearch({ ...editSearch, primary_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='primary_selection' onClick={() => setEditSearch({ ...editSearch, primary_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.primary_selection ?\n                      <div className='section-detail'>\n                        <h3>Distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, primary_distance: e.target.value })} name='primary_distance' placeholder={editSearch.primary_distance}></input>\n                        <h3>Transport</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, primary_mode: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='primary_mode'>\n                          <option>{editSearch.primary_mode} (selected)</option>\n                          <option>Walk</option>\n                          <option>Cycle</option>\n                          <option>Drive/ transport</option>\n                        </select>\n                        <h3>Religion</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, primary_religion: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='primary_religion'>\n                          <option>{editSearch.primary_religion} (selected)</option>\n                          <option>No requirement</option>\n                          <option>Anglican/ Church of England</option>\n                          <option>Islam</option>\n                          <option>Jewish</option>\n                          <option>Roman Catholic</option>\n                        </select>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* Secondary schools */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Secondary Schools</h3>\n                      <div className='section-buttons'>\n                        {editSearch.secondary_selection ? <button name='secondary_selection' onClick={() => setEditSearch({ ...editSearch, secondary_selection: false })} value={false} className='delete-button'>Remove</button> : <button name='secondary_selection' onClick={() => setEditSearch({ ...editSearch, secondary_selection: true })} value={true} className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.secondary_selection ?\n                      <div className='section-detail'>\n                        <h3>Distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, secondary_distance: e.target.value })} name='secondary_distance' placeholder={editSearch.secondary_distance}></input>\n                        <h3>Transport</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, secondary_mode: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='secondary_mode'>\n                          <option>{editSearch.secondary_mode} (selected)</option>\n                          <option>Walk</option>\n                          <option>Cycle</option>\n                          <option>Drive/ transport</option>\n                        </select>\n                        <h3>Religion</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, secondary_religion: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='secondary_religion'>\n                          <option>{editSearch.secondary_religion} (selected)</option>\n                          <option>No requirement</option>\n                          <option>Anglican/ Church of England</option>\n                          <option>Islam</option>\n                          <option>Jewish</option>\n                          <option>Roman Catholic</option>\n                        </select>\n                      </div>\n                      : ''}\n                  </div>\n                  {/* 6th forms */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>6th Forms</h3>\n                      <div className='section-buttons'>\n                        {editSearch.college_selection ? <button name='college_selection' onClick={() => setEditSearch({ ...editSearch, college_selection: false })} value='false' className='delete-button'>Remove</button> : <button name='college_selection' onClick={() => setEditSearch({ ...editSearch, college_selection: true })} value='true' className='add-button'>Add</button>}\n                      </div>\n                    </div>\n                    {editSearch.college_selection ?\n                      <div className='section-detail'>\n                        <h3>Distance</h3>\n                        <input className='input-number' onChange={(e) => setEditSearch({ ...editSearch, college_distance: e.target.value })} name='college_distance' placeholder={editSearch.college_distance}></input>\n                        <h3>Transport</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, college_mode: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='college_mode'>\n                          <option>{editSearch.college_mode} (selected)</option>\n                          <option>Walk</option>\n                          <option>Cycle</option>\n                          <option>Drive/ transport</option>\n                        </select>\n                        <h3>Religion</h3>\n                        <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, college_religion: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='college_religion'>\n                          <option>{editSearch.college_religion} (selected)</option>\n                          <option>No requirement</option>\n                          <option>Anglican/ Church of England</option>\n                          <option>Islam</option>\n                          <option>Jewish</option>\n                          <option>Roman Catholic</option>\n                        </select>\n                      </div>\n                      : ''}\n                  </div>\n                  <hr className='inner-divider' />\n                  <h1 className='section-header'>Property details</h1>\n                  {/* Property price */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Price</h3>\n                    </div>\n                    <div className='section-detail'>\n                      <h3>Min price</h3>\n                      <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, property_price_min: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='property_price_min'>\n                        <option><NumericFormat value={editSearch.property_price_min} displayType={'text'} thousandSeparator={true} prefix={'£'} /> (selected)</option>                          <option>No min</option>\n                        <option>£200,000</option>\n                        <option>£300,000</option>\n                        <option>£400,000</option>\n                        <option>£500,000</option>\n                        <option>£600,000</option>\n                        <option>£700,000</option>\n                        <option>£800,000</option>\n                        <option>£900,000</option>\n                        <option>£1,000,000</option>\n                        <option>£1,250,000</option>\n                        <option>£1,500,000</option>\n                        <option>£1,750,000</option>\n                        <option>£2,000,000</option>\n                        <option>£2,500,000</option>\n                        <option>£3,000,000</option>\n                        <option>£3,500,000</option>\n                        <option>£4,000,000</option>\n                        <option>£5,000,000</option>\n                      </select>\n                      <h3>Max price</h3>\n                      <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, property_price_max: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='property_price_max'>\n                        <option><NumericFormat value={editSearch.property_price_max} displayType={'text'} thousandSeparator={true} prefix={'£'} /> (selected)</option>\n                        <option>No max</option>\n                        <option>£300,000</option>\n                        <option>£400,000</option>\n                        <option>£500,000</option>\n                        <option>£600,000</option>\n                        <option>£700,000</option>\n                        <option>£800,000</option>\n                        <option>£900,000</option>\n                        <option>£1,000,000</option>\n                        <option>£1,250,000</option>\n                        <option>£1,500,000</option>\n                        <option>£1,750,000</option>\n                        <option>£2,000,000</option>\n                        <option>£2,500,000</option>\n                        <option>£3,000,000</option>\n                        <option>£3,500,000</option>\n                        <option>£4,000,000</option>\n                        <option>£5,000,000</option>\n                        <option>£10,000,000</option>\n                      </select>\n                    </div>\n                  </div>\n                  {/* Property Bedrooms */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Bedrooms</h3>\n                    </div>\n                    <div className='section-detail'>\n                      <h3>Min bedrooms</h3>\n                      <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, property_bed_min: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='property_bed_min'>\n                        <option>{editSearch.property_bed_min} (selected)</option>\n                        <option>No min</option>\n                        <option>1</option>\n                        <option>2</option>\n                        <option>3</option>\n                        <option>4</option>\n                      </select>\n                      <h3>Max bedrooms</h3>\n                      <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, property_bed_max: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='property_bed_max'>\n                        <option>{editSearch.property_bed_max} (selected)</option>\n                        <option>No min</option>\n                        <option>1</option>\n                        <option>2</option>\n                        <option>3</option>\n                        <option>4</option>\n                        <option>5</option>\n                      </select>\n                    </div>\n                  </div>\n                  {/* Property type */}\n                  <div className='input-line'>\n                    <div className='title-section'>\n                      <h3 className='sub-title'>Other details</h3>\n                    </div>\n                    <div className='section-detail'>\n                      <h3>Type</h3>\n                      <select className='form-control' onChange={(e) => setEditSearch({ ...editSearch, property_type: e.target.value })} id='cuisine-drop-1' placeholder='Pick cuisine' name='property_type'>\n                        <option>{editSearch.property_type} (selected)</option>\n                        <option>Any</option>\n                        <option>House</option>\n                        <option>Flat</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n                <hr className='inner-divider' />\n              </div>\n              <div className='edit-footer'>\n                <div className='submission'>\n                  <button name='result_id' value={editSearch.result_id} id='Save' onClick={postEditSearch} className='edit-submit'>Save</button>\n                  <button name='result_id' value={editSearch.result_id} id='Submit' onClick={postEditSearch} className='edit-submit'>View Results</button>\n                </div>\n                <button onClick={handleEditClose} className='edit-close'>Close</button>\n\n              </div>\n            </>\n            : ''}\n        </Modal.Body>\n      </Modal>\n      <Modal show={searchShow} onHide={handleSearchClose} backdrop='static' className='search-details'>\n        <Modal.Body>\n          {calc10 ?\n            <>\n              <h3>Search details &gt;</h3>\n              <div className='input-sections'>\n                <h5>Property</h5>\n                <div className='poi'><p>Type: {formData.property_type}</p></div>\n\n\n                <div className='poi'><p>Price: <NumericFormat value={formData.property_price_min} displayType={'text'} thousandSeparator={true} prefix={'£'} /> - <NumericFormat value={formData.property_price_max} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </p></div>\n                <div className='poi'><p>Bedrooms: {formData.property_bed_min} - {formData.property_bed_max}</p></div>\n              </div>\n              <div className='input-sections'>\n                <h5>Points of interest</h5>\n                {formData.restaurant_selection ? <div className='poi'><p>👨‍🍳 Restaurants: {formData.restaurant_distance} min walk</p></div> : ''}\n                {formData.takeaway_selection ? <div className='poi'><p>🍜 Takeaways: {formData.takeaway_distance} min walk</p></div> : ''}\n                {formData.cafes_selection ? <div className='poi'><p>☕️ Cafes: {formData.cafes_distance} min walk</p></div> : ''}\n                {formData.pubs_selection ? <div className='poi'><p>🍻 Pubs: {formData.pubs_distance} min walk</p></div> : ''}\n                {formData.supermarket_selection ? <div className='poi'><p>🛒 Supermarkets: {formData.supermarket_distance} min walk</p></div> : ''}\n                {formData.gym_selection ? <div className='poi'><p>🏋️‍♂️ Gyms: {formData.gym_distance} min walk</p></div> : ''}\n                {formData.park_selection ? <div className='poi'><p>🌳 Park: {formData.park_distance} min walk</p></div> : ''}\n                {formData.workplace_selection ? <div className='poi'><p>✍🏼 Workplace: {formData.workplace_distance} min walk</p></div> : ''}\n                {formData.tube_selection ? <div className='poi'><p>🚇 Tube stations: {formData.tube_distance} min walk</p></div> : ''}\n                {formData.train_selection ? <div className='poi'><p>🚅 Train stations: {formData.train_distance} min walk</p></div> : ''}\n                {formData.primary_selection ? <div className='poi'><p>🏫 Primary schools: {formData.primary_distance} min walk</p></div> : ''}\n                {formData.secondary_selection ? <div className='poi'><p>🏫 Secondary schools: {formData.secondary_distance} min walk</p></div> : ''}\n                {formData.college_selection ? <div className='poi'><p>🏫 6th forms: {formData.college_distance} min walk</p></div> : ''}\n                {formData.family_selection ? <div className='poi'><p>👨‍👩‍👧‍👦 Friends & family: {formData.family_distance_1} min walk</p></div> : ''}\n              </div>\n              <div className='bottom-buttons'>\n                <button onClick={handleEditShow} className='edit-button'>Edit</button>\n                <button onClick={handleSearchClose} className='close-button'>Close</button>\n              </div>\n            </>\n            : ''}\n        </Modal.Body>\n      </Modal>\n\n    </>\n\n  )\n}\n\nexport default EditSearch\n\n","import React, { useState, useEffect, useRef } from 'react'\nimport 'react-slideshow-image/dist/styles.css'\nimport { NumericFormat } from 'react-number-format'\nimport { Modal } from 'react-bootstrap'\nimport axios from 'axios'\nimport { isUserAuth, getUserToken, getAccessToken } from '../../auth/Auth'\n\n\n\nconst MatchInsights = ({ calc10, formData, insightShow, handleInsightClose, currentId, insightChange, insightToggle }) => {\n\n\n  return (\n    <>\n      <Modal show={insightShow} onHide={handleInsightClose} backdrop='static' className='insights-modal'>\n        <Modal.Body>\n          {calc10 ?\n            <>\n              <div className='insights-body'>\n                {calc10.filter(property => property.id === currentId).map((property, index) => {\n                  return (\n                    <>\n                      <div className='insights-modal-header'>\n                        <h3 className='insights-title'>Property insight summary</h3>\n                        <button onClick={handleInsightClose} className='insights-modal-close'>Close</button>\n                      </div>\n                      <div className='insights-modal-title' key={index}>\n                        <h3 className='insights-property-name'>{property.property_name}</h3>\n                        <h3 className='insights-match'>🔥 {property.first_match}% match</h3>\n                      </div>\n                      <div className='insights-modal-sub-title'>\n                        <h5>Variable</h5>\n                        <select className='insight-toggle' name='selection' onChange={insightChange}>\n                          <option>Rank</option>\n                          <option>Match %</option>\n                        </select>\n                      </div>\n                      <div className='insights-modal-content'>\n                        {/* restaurant bars */}\n                        {formData.restaurant_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>👨‍🍳 Restaurants</h4>\n                            <div className='insights-modal-right'>\n                              {property.restaurants.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_restaurant)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_restaurant)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No restaurants within {formData.restaurant_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_restaurant}%</h4> : <h4 className='insights-modal-score'>#{property.restaurant_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n\n                        {/* takeaways bars */}\n                        {formData.takeaway_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🍜 Takeaways</h4>\n                            <div className='insights-modal-right'>\n                              {property.takeaways.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_takeaway)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_takeaway)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No takeaways within {formData.takeaway_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_takeaway}%</h4> : <h4 className='insights-modal-score'>#{property.takeaway_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* pub bars */}\n                        {formData.pubs_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🍻 Pubs</h4>\n                            <div className='insights-modal-right'>\n                              {property.bars.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_pub)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_pub)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No pubs within {formData.pubs_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_pub}%</h4> : <h4 className='insights-modal-score'>#{property.pub_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* cafe bars */}\n                        {formData.cafes_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>☕️ Cafes</h4>\n                            <div className='insights-modal-right'>\n                              {property.cafes.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_cafe)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_cafe)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No cafes within {formData.cafes_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_cafe}%</h4> : <h4 className='insights-modal-score'>#{property.cafe_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* primaries bars */}\n                        {formData.primary_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🏫 Primaries</h4>\n                            <div className='insights-modal-right'>\n                              {property.primaries.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_primary)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_primary)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No Primary Schools within {formData.primary_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_primary}%</h4> : <h4 className='insights-modal-score'>#{property.primary_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* secondaries bars */}\n                        {formData.secondary_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🏫 Secondaries</h4>\n                            <div className='insights-modal-right'>\n                              {property.secondaries.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_secondary)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_secondary)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No Secondary Schools within {formData.secondary_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_secondary}%</h4> : <h4 className='insights-modal-score'>#{property.secondary_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* supermarkets bars */}\n                        {formData.supermarket_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>👨‍🍳 Supermarkets</h4>\n                            <div className='insights-modal-right'>\n                              {property.supermarkets.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_supermarket)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_supermarket)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No supermarkets within {formData.supermarket_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_supermarket}%</h4> : <h4 className='insights-modal-score'>#{property.supermarket_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* gyms bars */}\n                        {formData.gym_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🏋️‍♂️ Gyms</h4>\n                            <div className='insights-modal-right'>\n                              {property.gyms.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_gym)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_gym)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No gyms within {formData.gym_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_gym}%</h4> : <h4 className='insights-modal-score'>#{property.gym_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* tubes bars */}\n                        {formData.tube_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🚇 Tubes</h4>\n                            <div className='insights-modal-right'>\n                              {property.tubes.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_tube)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_tube)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No tube stations within {formData.tube_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_tube}%</h4> : <h4 className='insights-modal-score'>#{property.tube_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* parks bars */}\n                        {formData.park_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🌳 Parks</h4>\n                            <div className='insights-modal-right'>\n                              {property.parks.length > 0 ?\n                                <div className='bar-container'>\n                                  {[...Array(property.final_park)].map((choice, index) => {\n                                    return (\n                                      <div className='bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })}\n                                  {\n                                    [...Array(100 - property.final_park)].map((choice, index) => {\n                                      return (\n                                        <div className='blank-bars' key={index} >\n                                          <div>.</div>\n                                        </div>\n                                      )\n                                    })\n                                  }\n                                </div>\n                                :\n                                <div className='bar-container'>\n                                  <h5>😕 No parks within {formData.park_distance} min walk from this property</h5>\n                                </div>\n                              }\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_park}%</h4> : <h4 className='insights-modal-score'>#{property.park_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* workplace bars */}\n                        {formData.workplace_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>🏢 Office</h4>\n                            <div className='insights-modal-right'>\n                              <div className='bar-container'>\n                                {[...Array(property.final_workplace)].map((choice, index) => {\n                                  return (\n                                    <div className='bars' key={index} >\n                                      <div>.</div>\n                                    </div>\n                                  )\n                                })}\n                                {\n                                  [...Array(100 - property.final_workplace)].map((choice, index) => {\n                                    return (\n                                      <div className='blank-bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })\n                                }\n                              </div>\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_workplace}%</h4> : <h4 className='insights-modal-score'>#{property.workplace_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                        {/* family 1 bars */}\n                        {formData.family_selection ?\n                          <div className='insights-modal-results'>\n                            <h4 className='insights-modal-variables'>👨‍👩‍👧‍👦 Friends & Fam</h4>\n                            <div className='insights-modal-right'>\n                              <div className='bar-container'>\n                                {[...Array(property.final_family1)].map((choice, index) => {\n                                  return (\n                                    <div className='bars' key={index} >\n                                      <div>.</div>\n                                    </div>\n                                  )\n                                })}\n                                {\n                                  [...Array(100 - property.final_family1)].map((choice, index) => {\n                                    return (\n                                      <div className='blank-bars' key={index} >\n                                        <div>.</div>\n                                      </div>\n                                    )\n                                  })\n                                }\n                              </div>\n                              {insightToggle.selection === 'Match %' ? <h4 className='insights-modal-score'>{property.final_family1}%</h4> : <h4 className='insights-modal-score'>#{property.family1_rank}</h4>}\n                            </div>\n                          </div>\n                          : ''}\n                      </div>\n                    </>\n                  )\n                })}\n              </div>\n            </>\n            : ''}\n        </Modal.Body>\n      </Modal>\n\n    </>\n\n  )\n}\n\nexport default MatchInsights","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport 'react-slideshow-image/dist/styles.css'\nimport { Slide } from 'react-slideshow-image'\nimport { useParams, useNavigate, Link } from 'react-router-dom'\nimport { NumericFormat } from 'react-number-format'\nimport { getUserToken, getAccessToken, isUserAuth } from '../../auth/Auth'\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl'\nimport { Modal } from 'react-bootstrap'\n\n\n\nconst AllPropertiesMap = ({ calc10, formData, mapShow, handleMapClose, viewport, setViewport, normalMapShow, normalMapClose, normalHandleMapShow, navigation }) => {\n\n  // state to enable navigation between pages\n  const navigate = useNavigate()\n\n\n  // ? Section 9: MODALS - section for managing the numerous modals on the page\n  // * Modal 1 - Map mdoal\n\n  // state for showing map property detail\n  const [mapPropertyShow, setMapProperty] = useState(false)\n\n  // function for closing the map detail modal\n  const handleMapDetailClose = () => {\n    setMapProperty(false)\n  }\n\n  // state for showing the map detail\n  const handleMapDetailShow = () => setMapProperty(true)\n\n  // states for handling the popups on the map\n  const [showPopup, setShowPopup] = useState(true)\n  const [iconId, setIconId] = useState()\n  // const openDetail = () => setbuttonActive(!buttonActive)\n\n  const iconSetting = (e) => {\n    setShowPopup(true)\n    console.log(showPopup)\n    setIconId(parseInt(e.target.id))\n    console.log(parseInt(e.target.id))\n  }\n\n\n  return (\n    <>\n      {/* Map modal for wittle search */}\n      {formData ?\n        <Modal show={mapShow} onHide={handleMapClose} backdrop='static' className='map-modal'>\n          <Modal.Body>\n            {calc10 ?\n              <>\n                <div className='map-header'>\n                  {isUserAuth() ? <h3 className='map-title'>{formData.search_name}: {calc10.length} properties</h3> : !isUserAuth() ? <h3 className='map-title'>Wittle Search: {calc10.length} properties</h3> : ''}\n                  <button onClick={handleMapClose}>Close map</button>\n                </div>\n                <ReactMapGL {...viewport}\n                  mapboxAccessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n                  mapStyle='mapbox://styles/mapbox/streets-v11'\n                  onViewportChange={viewport => {\n                    setViewport(viewport)\n                  }}\n                  center={viewport}\n                  onMove={evt => setViewport(evt.viewport)}>\n                  {calc10 ?\n                    <div className='poi-icons'>\n                      {calc10.map((property, index) => {\n                        return (\n                          <div key={property.id}>\n                            <>\n                              <Marker longitude={property.long} latitude={property.Lat} key={index} titleAccess={property.property_name} id='house-icon' >\n                                <div className='house-btn' onClick={() => navigate(`/${navigation}/${property.id}`)} id={property.id} onMouseEnter={iconSetting}>\n                                </div>\n                              </Marker>\n                              {(showPopup & property.id === iconId) && (\n                                <Popup key={index} id={property.id} longitude={property.long} latitude={property.Lat} closeOnClick={false}>\n                                  <div className='property-popup'>\n                                    <div className='property-image' style={{ backgroundImage: `url('${property.property_image_1}')` }}>\n                                    </div>\n                                    <div className='property-details'>\n                                      <h1>{property.property_name}</h1>\n                                      <h4>{property.first_match}% match</h4>\n\n                                      <h4><NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> offers over</h4>\n                                    </div>\n                                  </div>\n                                </Popup>\n                              )}\n                            </>\n                          </div>\n                        )\n                      })}\n                    </div>\n                    : ''}\n                </ReactMapGL>\n              </>\n              : ''}\n          </Modal.Body>\n        </Modal>\n        : ''}\n\n      {/* Map modal for normal search */}\n      <Modal show={normalMapShow} onHide={normalMapClose} backdrop='static' className='map-modal'>\n        <Modal.Body>\n          {calc10 ?\n            <>\n              <div className='map-header'>\n                <h3 className='map-title'> {calc10.length} properties</h3>\n                <button onClick={normalMapClose}>Close map</button>\n              </div>\n              <ReactMapGL {...viewport}\n                mapboxAccessToken={process.env.REACT_APP_MAPBOX_ACCESS_TOKEN}\n                mapStyle='mapbox://styles/mapbox/streets-v11'\n                onViewportChange={viewport => {\n                  setViewport(viewport)\n                }}\n                center={viewport}\n                onMove={evt => setViewport(evt.viewport)}>\n                {calc10 ?\n                  <div className='poi-icons'>\n                    {calc10.map((property, index) => {\n                      return (\n                        <div key={property.id}>\n                          <>\n                            <Marker longitude={property.long} latitude={property.Lat} key={index} titleAccess={property.property_name} id='house-icon' >\n                              <div className='house-btn' onClick={() => navigate(`/${navigation}/${property.id}`)} id={property.id} onMouseEnter={iconSetting}>\n                              </div>\n                            </Marker>\n                            {(showPopup & property.id === iconId) && (\n                              <Popup key={index} id={property.id} longitude={property.long} latitude={property.Lat} closeOnClick={false}>\n                                <div className='property-popup'>\n                                  <div className='property-image' style={{ backgroundImage: `url('${property.property_image_1}')` }}>\n                                  </div>\n                                  <div className='property-details'>\n                                    <h1>{property.property_name}</h1>\n                                    <h4><NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> offers over</h4>\n                                  </div>\n                                </div>\n                              </Popup>\n                            )}\n                          </>\n                        </div>\n                      )\n                    })}\n                  </div>\n                  : ''}\n              </ReactMapGL>\n            </>\n            : ''}\n        </Modal.Body>\n      </Modal>\n    </>\n  )\n\n}\n\n\nexport default AllPropertiesMap","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/* eslint-disable no-undefined,no-param-reassign,no-shadow */\n\n/**\n * Throttle execution of a function. Especially useful for rate limiting\n * execution of handlers on events like resize and scroll.\n *\n * @param  {Number}    delay          A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}   [noTrailing]   Optional, defaults to false. If noTrailing is true, callback will only execute every `delay` milliseconds while the\n *                                    throttled-function is being called. If noTrailing is false or unspecified, callback will be executed one final time\n *                                    after the last throttled-function call. (After the throttled-function has not been called for `delay` milliseconds,\n *                                    the internal counter is reset)\n * @param  {Function}  callback       A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                    to `callback` when the throttled-function is executed.\n * @param  {Boolean}   [debounceMode] If `debounceMode` is true (at begin), schedule `clear` to execute after `delay` ms. If `debounceMode` is false (at end),\n *                                    schedule `callback` to execute after `delay` ms.\n *\n * @return {Function}  A new, throttled, function.\n */\nfunction throttle (delay, noTrailing, callback, debounceMode) {\n  /*\n   * After wrapper has stopped being called, this timeout ensures that\n   * `callback` is executed at the proper times in `throttle` and `end`\n   * debounce modes.\n   */\n  var timeoutID;\n  var cancelled = false; // Keep track of the last time `callback` was executed.\n\n  var lastExec = 0; // Function to clear existing timeout\n\n  function clearExistingTimeout() {\n    if (timeoutID) {\n      clearTimeout(timeoutID);\n    }\n  } // Function to cancel next exec\n\n\n  function cancel() {\n    clearExistingTimeout();\n    cancelled = true;\n  } // `noTrailing` defaults to falsy.\n\n\n  if (typeof noTrailing !== 'boolean') {\n    debounceMode = callback;\n    callback = noTrailing;\n    noTrailing = undefined;\n  }\n  /*\n   * The `wrapper` function encapsulates all of the throttling / debouncing\n   * functionality and when executed will limit the rate at which `callback`\n   * is executed.\n   */\n\n\n  function wrapper() {\n    var self = this;\n    var elapsed = Date.now() - lastExec;\n    var args = arguments;\n\n    if (cancelled) {\n      return;\n    } // Execute `callback` and update the `lastExec` timestamp.\n\n\n    function exec() {\n      lastExec = Date.now();\n      callback.apply(self, args);\n    }\n    /*\n     * If `debounceMode` is true (at begin) this is used to clear the flag\n     * to allow future `callback` executions.\n     */\n\n\n    function clear() {\n      timeoutID = undefined;\n    }\n\n    if (debounceMode && !timeoutID) {\n      /*\n       * Since `wrapper` is being called for the first time and\n       * `debounceMode` is true (at begin), execute `callback`.\n       */\n      exec();\n    }\n\n    clearExistingTimeout();\n\n    if (debounceMode === undefined && elapsed > delay) {\n      /*\n       * In throttle mode, if `delay` time has been exceeded, execute\n       * `callback`.\n       */\n      exec();\n    } else if (noTrailing !== true) {\n      /*\n       * In trailing throttle mode, since `delay` time has not been\n       * exceeded, schedule `callback` to execute `delay` ms after most\n       * recent execution.\n       *\n       * If `debounceMode` is true (at begin), schedule `clear` to execute\n       * after `delay` ms.\n       *\n       * If `debounceMode` is false (at end), schedule `callback` to\n       * execute after `delay` ms.\n       */\n      timeoutID = setTimeout(debounceMode ? clear : exec, debounceMode === undefined ? delay - elapsed : delay);\n    }\n  }\n\n  wrapper.cancel = cancel; // Return the wrapper function.\n\n  return wrapper;\n}\n\n/* eslint-disable no-undefined */\n/**\n * Debounce execution of a function. Debouncing, unlike throttling,\n * guarantees that a function is only executed a single time, either at the\n * very beginning of a series of calls, or at the very end.\n *\n * @param  {Number}   delay         A zero-or-greater delay in milliseconds. For event callbacks, values around 100 or 250 (or even higher) are most useful.\n * @param  {Boolean}  [atBegin]     Optional, defaults to false. If atBegin is false or unspecified, callback will only be executed `delay` milliseconds\n *                                  after the last debounced-function call. If atBegin is true, callback will be executed only at the first debounced-function call.\n *                                  (After the throttled-function has not been called for `delay` milliseconds, the internal counter is reset).\n * @param  {Function} callback      A function to be executed after delay milliseconds. The `this` context and all arguments are passed through, as-is,\n *                                  to `callback` when the debounced-function is executed.\n *\n * @return {Function} A new, debounced function.\n */\n\nfunction debounce (delay, atBegin, callback) {\n  return callback === undefined ? throttle(delay, atBegin, false) : throttle(delay, callback, atBegin !== false);\n}\n\nexport { throttle, debounce };\n","/* eslint-disable camelcase */\nimport React, { useRef, useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { useParams, useNavigate, Link } from 'react-router-dom'\nimport { getUserToken, getAccessToken, isUserAuth } from '../../auth/Auth'\nimport { Modal } from 'react-bootstrap'\nimport ReactMapGL, { Marker, Popup } from 'react-map-gl'\nimport 'mapbox-gl/dist/mapbox-gl.css'\nimport { NumericFormat } from 'react-number-format'\nimport NavBar from '../../tools/NavBar'\nimport Loading from '../../helpers/Loading'\nimport 'react-slideshow-image/dist/styles.css'\nimport { Slide } from 'react-slideshow-image'\nimport ImageSlider from '../../helpers/ImageSlider'\nimport Favouriting from '../../helpers/modals/Favouriting'\nimport Heatmap from '../../helpers/modals/Heatmap'\nimport EditSearch from '../../helpers/modals/EditSearch'\nimport MatchInsights from '../../helpers/modals/MatchInsights'\nimport AllPropertiesMap from '../../helpers/modals/AllPropertiesMap'\nimport LazyLoad from 'react-lazyload'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport PropertyDetails from './propertyComponents/PropertyDetails'\nimport WhiteNavbar from '../../tools/WhiteNavbar'\n\n\nconst PropertyResultsWittle = () => {\n\n  // ? Section 1: Set the states for the items throughout the page\n\n  // state for switching page\n  const { id } = useParams()\n\n  // state for setting the current property id clicked - this will be used for the insigfhts modal\n  const [currentId, setCurrentId] = useState(0)\n\n  // state for determining whether a property is favoruited - this is used on the conditional for adding/deleting a favourite\n  const [listFavourites, setListFavourites] = useState()\n\n  // capturing the most recent favourited item\n  const [favourited, setFavourited] = useState()\n\n  // capturing info for most recent deleted iteem\n  const [deleted, setDeleted] = useState()\n\n  // capturing all other favourited properties\n  const [otherFavourites, setOtherFavourites] = useState()\n\n  // capturing the favoruite search information for the properties\n  const [favouriteInfo, setFavouriteInfo] = useState()\n  const [currentFavInfo, setCurrentFavInfo] = useState()\n  const [otherFavInfo, setOthrFavInfo] = useState()\n\n  // capture whethr action was deleting or favouriting\n  const [favouriteAction, setFavouriteAction] = useState()\n\n  // state to collect properties\n  const [properties, setProperties] = useState()\n\n  // state to collect the user information\n  const [userData, setUserData] = useState([])\n\n  // state for extracting the users searches from user data\n  const [propertySearch, setPropertySearch] = useState({})\n\n  // state for defining the name of the current property search\n  const [searchName, setSearchName] = useState()\n\n  // set first run of the form data\n  const [initialForm, setInitialForm] = useState()\n\n  // adsitional state for testing - used for extracting the results from state when saved there\n  const [localProp, setLocalProp] = useState()\n\n  // another state for properties - this is used as the final property list before calculations are carried out\n  const [finalProp, setFinalProp] = useState()\n\n  // states for calculation fields - there are a number of levels of calculation casrried out to transform the data\n  const [filteredProperties1, setFilteredProperties1] = useState()\n  const [filteredProperties2, setFilteredProperties2] = useState()\n  const [filteredProperties3, setFilteredProperties3] = useState()\n  const [filteredProperties4, setFilteredProperties4] = useState()\n  const [workFamilyCalc1, setWorkFamilyCalc1] = useState()\n  const [workFamilyCalc2, setWorkFamilyCalc2] = useState()\n  const [calc1, setCalc1] = useState()\n  const [calc2, setCalc2] = useState()\n  const [calc3, setCalc3] = useState()\n  const [calc4, setCalc4] = useState()\n  const [calc5, setCalc5] = useState()\n  const [calc6, setCalc6] = useState()\n  const [calc7, setCalc7] = useState()\n  const [calc8, setCalc8] = useState()\n  const [calc9, setCalc9] = useState()\n  const [calc10, setCalc10] = useState()\n  const [calc11, setCalc11] = useState()\n\n  // state to enable navigation between pages\n  const navigate = useNavigate()\n\n  // set error state for capturing errors\n  const [errors, setErrors] = useState(false)\n\n  // set for capturing the id of the edit search - used when editing a search and submitting to the database\n  const [editSearch, setEditSearch] = useState()\n\n  // states for filling out the form\n  const [formData, setFormData] = useState({\n    start_search: true,\n    search_name: '',\n    search_type: 'Wittle',\n    search_channel: '',\n    restaurant_selection: false,\n    restaurant_decision: '',\n    restaurant_distance: 0,\n    restaurant_cuisine_1: '',\n    restaurant_cuisine_2: '',\n    takeaway_selection: false,\n    takeaway_decision: '',\n    takeaway_distance: 0,\n    takeaway_cuisine_1: '',\n    takeaway_cuisine_2: '',\n    pubs_selection: false,\n    pubs_distance: 0,\n    cafes_selection: '',\n    cafes_decision: '',\n    cafes_detail: '',\n    cafes_distance: 0,\n    tube_selection: false,\n    tube_decision: '',\n    tube_detail: '',\n    tube_distance: 0,\n    train_selection: false,\n    train_decision: '',\n    train_detail: '',\n    train_distance: 0,\n    primary_selection: false,\n    primary_religion: '',\n    primary_mode: '',\n    primary_distance: 0,\n    college_selection: false,\n    college_religion: '',\n    college_mode: '',\n    college_distance: 0,\n    secondary_selection: false,\n    secondary_religion: '',\n    secondary_mode: '',\n    secondary_distance: 0,\n    supermarket_selection: false,\n    supermarket_decision: '',\n    supermarket_segment: '',\n    supermarket_size: '',\n    supermarket_distance: 0,\n    gym_selection: false,\n    gym_studio_name: '',\n    gym_class_type: '',\n    gym_distance: 0,\n    park_selection: false,\n    park_type: '',\n    park_distance: 0,\n    workplace_selection: false,\n    workplace_detail: '',\n    workplace_transport: '',\n    workplace_distance: 0,\n    family_selection: false,\n    family_detail_1: '',\n    family_distance_1: 0,\n    family_detail_2: '',\n    family_distance_2: 0,\n    family_detail_3: '',\n    family_distance_3: 0,\n    family_mode_1: '',\n    family_mode_2: '',\n    family_mode_3: '',\n    property_price_min: '',\n    property_price_max: '',\n    property_bed_min: '',\n    property_bed_max: '',\n    property_type: '',\n    owner: 31,\n  })\n\n  // set states for proeprty detail buttons\n  const [propertyButtons, setPropertyButtons] = useState('Details')\n\n  // set states for sidebar feature\n  const [sidebar, setSidebar] = useState('Close')\n\n  // set states for calculating the longitude and latitude of the workplaces\n  const [workLong, setWorkLong] = useState()\n  const [workLat, setWorkLat] = useState()\n  const [famLong1, setFamLong1] = useState()\n  const [famLat1, setFamLat1] = useState()\n  const [famLong2, setFamLong2] = useState()\n  const [famLat2, setFamLat2] = useState()\n  const [geoData, setGeoData] = useState()\n  const [workRun, setWorkRun] = useState(false)\n  const [famRun, setFamRun] = useState(false)\n\n  // set state for the image values\n  const [imageTracking, setImageTracking] = useState(1)\n\n  // define state for currenmt image\n  const [currentImage, setCurrentImage] = useState()\n\n  // state for calculations compelte\n  const [calculationsDone, setCalculationsDone] = useState(false)\n\n  // ? Section 2: SETTING SEARCH CRITERIA - Define the search criteria that we will be using to filter the properties\n  // Section 2: Step 1 - load in user information so w can extract th latest search\n  const loadUserData = async () => {\n    if (isUserAuth())\n      try {\n        const { data } = await axios.get(`/api/auth/profile/${getUserToken()}/`, {\n          headers: {\n            Authorization: `Bearer ${getAccessToken()}`,\n          },\n        })\n        setPropertySearch(data.property_search_details)\n        console.log('property search array ->', data.property_search_details)\n        setUserData(data)\n        setFavouriteInfo(data.favourites)\n        console.log('favourite info ->', data.favourites)\n        console.log('userdata ->', data)\n        const favouriteList = []\n        data.favourites.forEach(item => favouriteList.includes(item.property) ? '' : favouriteList.push(item.property))\n        setListFavourites(favouriteList)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    else\n      try {\n        const { data } = await axios.get('/api/auth/profile/xplw7aq5r/AdminData/')\n        setPropertySearch(data.property_search_details)\n        console.log('property search array ->', data.property_search_details)\n        setUserData(data)\n        console.log('userdata ->', data)\n        const favouriteList = []\n        data.favourites.forEach(item => favouriteList.includes(item.property) ? '' : favouriteList.push(item.property))\n        setListFavourites(favouriteList)\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n    const input = JSON.parse(localStorage.getItem('wittle-form-input'))\n    setInitialForm(input)\n    console.log('initial form ->', input)\n  }\n\n  // load this data in\n  useEffect(() => {\n    loadUserData()\n  }, [])\n\n\n  // Section 2: Step 2 - extract the name of the search from storage and filter to get the current search\n  // if we just use the wholke form data from storage, we don't get access to the 'result_id' (pk), which stops us from editing it effectively\n  const extractFormName = () => {\n    if (initialForm)\n      try {\n        const result = propertySearch.filter(property => {\n          return property.search_name === initialForm.search_name\n        })\n        setFormData(result[0])\n        console.log('form data', result[0])\n        setSearchName(result[0])\n        // if (result[0] === undefined)\n        //   navigate('/access-denied')\n      } catch (error) {\n        console.log('unable to set form name')\n      }\n  }\n\n  // load this data in\n  useEffect(() => {\n    if (propertySearch.length > 0)\n      extractFormName()\n  }, [propertySearch])\n\n\n  // useEffect(() => {\n  //   if (initialForm)\n  //     contentChecking()\n  // }, [initialForm])\n\n\n\n  // ? Section 3: FETCHING PROPERTIES - extract properties from the database and apply initialy filters to these\n  // Section 3: Step 1 - get properties from the database\n  // Option 1 - search hasn't been done before and isn't in storage\n  // useEffect(() => {\n  const getProperties = async () => {\n    if (!localProp)\n      try {\n        const params = {\n          // page: page,\n          min_price: formData.property_price_min || undefined,\n          max_price: formData.property_price_max || undefined,\n          min_bedrooms: formData.property_bed_min || undefined,\n          max_bedrooms: formData.property_bed_max || undefined,\n          channel: formData.channel || undefined,\n          restaurants_dist: formData.restaurant_selection ? parseFloat(formData.restaurant_distance) || undefined : undefined,\n          pubs_dist: formData.pubs_selection ? parseFloat(formData.pubs_distance) || undefined : undefined,\n          cafes_dist: formData.cafes_selection ? parseFloat(formData.cafes_distance) || undefined : undefined,\n          takeaways_dist: formData.takeaway_selection ? parseFloat(formData.takeaway_distance) || undefined : undefined,\n          gyms_dist: formData.gym_selection ? parseFloat(formData.gym_distance) || undefined : undefined,\n          park_dist: formData.park_selection ? parseFloat(formData.park_distance) || undefined : undefined,\n          supermarkets_dist: formData.supermarket_selection ? parseFloat(formData.supermarket_distance) || undefined : undefined,\n          primaries_dist: formData.primary_selection ? parseFloat(formData.primary_distance) || undefined : undefined,\n          secondaries_dist: formData.secondary_selection ? parseFloat(formData.secondary_distance) || undefined : undefined,\n          colleges_dist: formData.college_selection ? parseFloat(formData.college_distance) || undefined : undefined,\n          tubes_dist: formData.tube_selection ? parseFloat(formData.tube_distance) || undefined : undefined,\n          trains_dist: formData.train_selection ? parseFloat(formData.train_distance) || undefined : undefined,\n        }\n        console.log('Frontend API call params ->', params)\n        const { data } = await axios.get('/api/properties/results', { params })\n        setProperties(data)\n        setResultsToLocalStorage()\n      } catch (error) {\n        setErrors(true)\n        console.log(error)\n      }\n  }\n\n\n  // const contentChecking = () => {\n  //   if (initialForm.search_name === '') \n  //     navigate('/access-denied') \n  // }\n\n\n  useEffect(() => {\n    if (propertySearch.length > 0 && searchName)\n      getProperties()\n  }, [propertySearch, searchName])\n\n  // Option 2 - search has been carried out before and is contained in storage\n  const getResults = (token) => {\n    if (propertySearch.length > 0)\n      try {\n        const data = JSON.parse(localStorage.getItem('wittle-results'))\n        if (data)\n          setLocalProp(data)\n        setFinalProp(data)\n        // setProperties(data)\n      } catch (error) {\n        console.log('no storage data')\n      }\n  }\n\n\n  // Section 3: Step 2 - define criteria to remove any properties that don't fit the criteria\n  const removeEmpties = () => {\n    const calculation =\n      properties.filter(property =>\n        property.gyms.length !== 0 &\n        property.primaries.length !== 0 &\n        property.supermarkets.length !== 0 &\n        property.restaurants.length !== 0 &\n        property.parks.length !== 0 &\n        property.cafes.length !== 0 &\n        property.tubes.length !== 0 &\n        property.trains.length !== 0 &\n        property.bars.length !== 0 &\n        property.takeaways.length !== 0 &\n        property.secondaries.length !== 0 &\n        property.colleges.length !== 0)\n    setLocalProp(calculation)\n    setFinalProp(calculation)\n  }\n\n\n  // apply the changes from section 3\n  useEffect(() => {\n    (properties && propertySearch) ? removeEmpties() : getResults()\n  }, [properties, propertySearch])\n\n  // define function for setting results to storage\n  const setResultsToLocalStorage = (token) => {\n    window.localStorage.setItem('wittle-results', JSON.stringify(localProp))\n    setFinalProp(localProp)\n  }\n\n\n\n  // ? Section 4: APPLY FORM FILTERS - take the inputs freom the form and apply these to the properties before we carry out calculations\n  // Section 4: Step 1 - filter the properties based on the bvalue inputted by the user\n  const propertyFilter = () => {\n    const calculation =\n      finalProp.filter(property => {\n        return (formData.search_channel === 'Buying') ? (property.value <= formData.property_price_max && property.value >= formData.property_price_min) : (formData.search_channel === 'Renting') ? (property.monthly <= formData.property_price_max && property.monthly >= formData.property_price_min) : property\n      })\n    console.log('filtered properties ->', calculation)\n    setFilteredProperties1(calculation)\n  }\n\n  // apply the value filterr\n  useEffect(() => {\n    if (finalProp)\n      propertyFilter()\n  }, [finalProp])\n\n\n  // Section 4: Step 2 - filter the property based on the number of bedrooms inputted by the user\n  const bedroomFilter = () => {\n    const calculation2 =\n      filteredProperties1.filter(property => {\n        return (property.bedrooms <= formData.property_bed_max && property.bedrooms >= formData.property_bed_min)\n      })\n    console.log('filtered properties 2 ->', calculation2)\n    setFilteredProperties2(calculation2)\n  }\n\n  // apply the bedroom filter\n  useEffect(() => {\n    if (filteredProperties1)\n      bedroomFilter()\n  }, [filteredProperties1])\n\n\n  // Section 4: Step 3 - fitler the property based on the type of property\n  const propertyType = () => {\n    const calculation =\n      filteredProperties2.filter(property => {\n        return (formData.property_type === 'House' ? property.type = 'house' : formData.property_type === 'Flat' ? property.type = 'flat' : property)\n      })\n    console.log('filtered properties 3 ->', calculation)\n    setFilteredProperties3(calculation)\n  }\n\n  // apply the property type filter\n  useEffect(() => {\n    if (filteredProperties2)\n      propertyType()\n  }, [filteredProperties2])\n\n\n  // Section 4: Step 4 - filter out any restaurants not in the desired radius\n  const formFilters = () => {\n    const calculation =\n      filteredProperties3.map(property => {\n        return {\n          ...property,\n          restaurants: formData.restaurant_selection ? property.restaurants.filter(restaurant => {\n            return restaurant.walking_time_mins <= formData.restaurant_distance\n          }) : property.restaurants,\n          takeaways: formData.takeaway_selection ? property.takeaways.filter(restaurant => {\n            return restaurant.walking_time_mins <= formData.takeaway_distance\n          }) : property.takeaways,\n          bars: formData.pubs_selection ? property.bars.filter(bar => {\n            return bar.walking_time_mins <= formData.pubs_distance\n          }) : property.bars,\n          cafes: formData.cafes_selection ? property.cafes.filter(cafe => {\n            return cafe.walking_time_mins <= formData.cafes_distance\n          }) : property.cafes,\n          supermarkets: formData.supermarket_selection ? property.supermarkets.filter(shop => {\n            return shop.walking_time_mins <= formData.supermarket_distance\n          }) : property.supermarkets,\n          gyms: formData.gym_selection ? property.gyms.filter(gym => {\n            return gym.walking_time_mins <= formData.gym_distance\n          }) : property.gyms,\n          parks: formData.park_selection ? property.parks.filter(park => {\n            return park.walking_time_mins <= formData.park_distance\n          }) : property.parks,\n          tubes: formData.tube_selection ? property.tubes.filter(tube => {\n            return tube.walking_time_mins <= formData.tube_distance\n          }) : property.tubes,\n          primaries: formData.primary_selection ? property.primaries.filter(school => {\n            return school.walking_time_mins <= formData.primary_distance\n          }) : property.primaries,\n          secondaries: formData.secondary_selection ? property.secondaries.filter(school => {\n            return school.walking_time_mins <= formData.secondary_distance\n          }) : property.secondaries,\n        }\n      })\n    console.log('filtered properties 4->', calculation)\n    setFilteredProperties4(calculation)\n  }\n\n  useEffect(() => {\n    if (filteredProperties3)\n      formFilters()\n  }, [filteredProperties3])\n\n\n\n  // ? Section 5: CALCULATE MISSING FIELDS - if a user selects workplace or family as options, we need to calculate distances for these so we can filter on them\n  // Step 1: Extract coordinates from the postcvode using 3rd party API\n  const getWork = async () => {\n    try {\n      let postcode = initialForm.workplace_detail\n      if (postcode === 'False')\n        postcode = ''\n      else\n        postcode === postcode\n      const { data } = await axios.get(`https://api.postcodes.io/postcodes/${postcode}`)\n      // const { data } = await axios.get('http://getthedata.com/postcode/E11NH')\n      setWorkLat(parseFloat(data.result.latitude))\n      setWorkLong(parseFloat(data.result.longitude))\n      console.log(data.result.longitude)\n      setGeoData(data)\n      console.log('workplace coordinates retrieved')\n    } catch (error) {\n      setErrors(true)\n    }\n    setWorkRun(true)\n  }\n\n  // run calculation for work postcode data\n  useEffect(() => {\n    if (finalProp)\n      getWork()\n  }, [finalProp])\n\n\n  // extract family postcode from third party api\n  const getFam = async () => {\n    if (initialForm)\n      try {\n        let postcode = initialForm.family_detail_1\n        if (postcode === 'False')\n          postcode = ''\n        else\n          postcode === postcode\n        const { data } = await axios.get(`https://api.postcodes.io/postcodes/${postcode}`)\n        setFamLat1(parseFloat(data.result.latitude))\n        setFamLong1(parseFloat(data.result.longitude))\n        console.log(data.result.longitude)\n\n      } catch (error) {\n        setErrors(true)\n        console.log('family postcode error ->', error.response.data.error)\n      }\n    setFamRun(true)\n  }\n\n  // run calculation for family postcode fata \n  useEffect(() => {\n    if (workRun)\n      getFam()\n  }, [workRun])\n\n\n  // Step 2: calculate the distance between the properties and the workplace\n  const workPlaceCalc1 = () => {\n    const calculation =\n      filteredProperties4.map(property => {\n        return {\n          ...property,\n          workplace:\n          {\n            workplace_long: workLong,\n            workplace_lat: workLat,\n            workplace_distance_km: (12742 * Math.sin(Math.sqrt(0.5 - Math.cos((property.Lat - parseFloat(workLat)) * (Math.PI / 180)) / 2 + Math.cos(parseFloat(workLat) * (Math.PI / 180)) * Math.cos(property.Lat * (Math.PI / 180)) * (1 - Math.cos((property.long - parseFloat(workLong)) * (Math.PI / 180))) / 2))) * 1.2,\n          },\n          family1:\n          {\n            family_long: famLong1,\n            family_lat: famLat1,\n            family_distance_km: (12742 * Math.sin(Math.sqrt(0.5 - Math.cos((property.Lat - parseFloat(famLat1)) * (Math.PI / 180)) / 2 + Math.cos(parseFloat(famLat1) * (Math.PI / 180)) * Math.cos(property.Lat * (Math.PI / 180)) * (1 - Math.cos((property.long - parseFloat(famLong1)) * (Math.PI / 180))) / 2))) * 1.2,\n          },\n        }\n      })\n    setWorkFamilyCalc1(calculation)\n  }\n\n  // run calculation - we need to wait for the work and family postcode calculatinos to runpostcode \n  useEffect(() => {\n    // if (filteredProperties3 & workRun & famRun)\n    if (famRun)\n      workPlaceCalc1()\n  }, [famRun])\n\n\n  // Step 3: define the drive/cycle/walk time between the workplace and properties\n  const workPlaceCalc2 = () => {\n    const calculation =\n      workFamilyCalc1.map(property => {\n        return {\n          ...property,\n          workplace:\n            [{\n              workplace_long: property.workplace.workplace_long,\n              workplace_lat: property.workplace.workplace_lat,\n              workplace_distance_km: property.workplace.workplace_distance_km,\n              workplace_cycling_mins: (property.workplace.workplace_distance_km / 20) * 60,\n              workplace_walking_mins: (property.workplace.workplace_distance_km / 5) * 60,\n              workplace_driving_mins: (property.workplace.workplace_distance_km / 22) * 60,\n            }],\n          workplace_extra:\n          {\n            workplace_long: property.workplace.workplace_long,\n            workplace_lat: property.workplace.workplace_lat,\n            workplace_distance_km: property.workplace.workplace_distance_km,\n            workplace_cycling_mins: ((property.workplace.workplace_distance_km / 20) * 60).toFixed(0),\n            workplace_walking_mins: ((property.workplace.workplace_distance_km / 5) * 60).toFixed(0),\n            workplace_driving_mins: ((property.workplace.workplace_distance_km / 22) * 60).toFixed(0),\n          },\n          family1:\n            [{\n              family_long: property.family1.family_long,\n              family_lat: property.family1.family_lat,\n              family_distance_km: property.family1.family_distance_km,\n              family_cycling_mins: (property.family1.family_distance_km / 20) * 60,\n              family_walking_mins: (property.family1.family_distance_km / 5) * 60,\n              family_driving_mins: (property.family1.family_distance_km / 22) * 60,\n            }],\n          family1_extra:\n          {\n            family_long: property.family1.family_long,\n            family_lat: property.family1.family_lat,\n            family_distance_km: property.family1.family_distance_km,\n            family_cycling_mins: ((property.family1.family_distance_km / 20) * 60).toFixed(0),\n            family_walking_mins: ((property.family1.family_distance_km / 5) * 60).toFixed(0),\n            family_driving_mins: ((property.family1.family_distance_km / 22) * 60).toFixed(0),\n          },\n        }\n      })\n    setWorkFamilyCalc2(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (workFamilyCalc1)\n      workPlaceCalc2()\n  }, [workFamilyCalc1])\n\n\n\n  // ? Section 6: CONVERT VARIABLE VALUES - to imporve database efficiency, some fields have been converted to numbers. These need to be updated to show actual values\n  // Section 6: Step 1 - updating first set of values\n  const calculation1 = () => {\n    const calculation =\n      workFamilyCalc2.map(property => {\n        return {\n          ...property,\n          restaurants: property.restaurants.map(restaurant => {\n            return (restaurant.cuisine_value === 0) ? { ...restaurant, cuisine: 'Indian' } : (restaurant.cuisine_value === 1) ? { ...restaurant, cuisine: 'British' } : (restaurant.cuisine_value === 2) ? { ...restaurant, cuisine: 'American' } : (restaurant.cuisine_value === 3) ? { ...restaurant, cuisine: 'French' } : (restaurant.cuisine_value === 4) ? { ...restaurant, cuisine: 'European' } :\n              (restaurant.cuisine_value === 5) ? { ...restaurant, cuisine: 'Spanish' } : (restaurant.cuisine_value === 6) ? { ...restaurant, cuisine: 'Italian' } : (restaurant.cuisine_value === 7) ? { ...restaurant, cuisine: 'South American' } : (restaurant.cuisine_value === 8) ? { ...restaurant, cuisine: 'Chinesee' } : (restaurant.cuisine_value === 9) ? { ...restaurant, cuisine: 'Gastro Pub' } :\n                (restaurant.cuisine_value === 10) ? { ...restaurant, cuisine: 'Japanese' } : (restaurant.cuisine_value === 11) ? { ...restaurant, cuisine: 'Pub food' } : (restaurant.cuisine_value === 12) ? { ...restaurant, cuisine: 'Thai' } : (restaurant.cuisine_value === 13) ? { ...restaurant, cuisine: 'Seafood' } : (restaurant.cuisine_value === 14) ? { ...restaurant, cuisine: 'Middle Eastern' } :\n                  (restaurant.cuisine_value === 15) ? { ...restaurant, cuisine: 'Pizza' } : (restaurant.cuisine_value === 16) ? { ...restaurant, cuisine: 'Vietnamese' } : (restaurant.cuisine_value === 17) ? { ...restaurant, cuisine: 'Modern' } : (restaurant.cuisine_value === 18) ? { ...restaurant, cuisine: 'North African' } : (restaurant.cuisine_value === 19) ? { ...restaurant, cuisine: 'Central American' } :\n                    (restaurant.cuisine_value === 20) ? { ...restaurant, cuisine: 'South East Asian' } : (restaurant.cuisine_value === 21) ? { ...restaurant, cuisine: 'No Cuisine Data' } : (restaurant.cuisine_value === 22) ? { ...restaurant, cuisine: 'No Cuisine Data' } : (restaurant.cuisine_value === 23) ? { ...restaurant, cuisine: 'Turkish' } : (restaurant.cuisine_value === 24) ? { ...restaurant, cuisine: 'Other' } :\n                      (restaurant.cuisine_value === 25) ? { ...restaurant, cuisine: 'Mediterranean' } : (restaurant.cuisine_value === 26) ? { ...restaurant, cuisine: 'Asian' } : (restaurant.cuisine_value === 27) ? { ...restaurant, cuisine: 'Meat & Grill' } : (restaurant.cuisine_value === 28) ? { ...restaurant, cuisine: 'International' } : (restaurant.cuisine_value === 29) ? { ...restaurant, cuisine: 'Bar' } :\n                        (restaurant.cuisine_value === 30) ? { ...restaurant, cuisine: 'Mexican' } : (restaurant.cuisine_value === 31) ? { ...restaurant, cuisine: 'Greek' } : (restaurant.cuisine_value === 32) ? { ...restaurant, cuisine: 'Afternoon Tea' } : (restaurant.cuisine_value === 33) ? { ...restaurant, cuisine: 'Vegetarian/ Vegan' } : (restaurant.cuisine_value === 34) ? { ...restaurant, cuisine: 'Chicken' } :\n                          (restaurant.cuisine_value === 35) ? { ...restaurant, cuisine: 'Wine Bar' } : (restaurant.cuisine_value === 36) ? { ...restaurant, cuisine: 'Central Asian' } : (restaurant.cuisine_value === 37) ? { ...restaurant, cuisine: 'South African' } : { ...restaurant, cuisine: 'No Cuisine Data' }\n          }),\n          takeaways: property.takeaways.map(restaurant => {\n            return (restaurant.cuisine.length > 50) ? { ...restaurant, cuisine: 'Multiple' } : { ...restaurant, cuisine: restaurant.cuisine }\n          }),\n          bars: property.bars.map(pub => {\n            return (pub.pub_category_value === 0) ? { ...pub, pub_category: 'Worth a visit' } : (pub.pub_category_value === 1) ? { ...pub, pub_category: 'Other pubs' } : (pub.pub_category_value === 2) ? { ...pub, pub_category: 'Timeout100' } : (pub.pub_category_value === 3) ? { ...pub, pub_category: 'Other Pubs' } : { ...pub, pub_category: 'Recommended' }\n          }),\n          gyms: property.gyms.map(gym => {\n            return (gym.gym_group_value === 0) ? { ...gym, gym_group: 'Other' } : (gym.gym_group_value === 1) ? { ...gym, gym_group: 'Fitness First' } : (gym.gym_group_value === 2) ? { ...gym, gym_group: 'MoreYoga' } : (gym.gym_group_value === 3) ? { ...gym, gym_group: 'Virgin' } : (gym.gym_group_value === 4) ? { ...gym, gym_group: 'Pure Gym' } : (gym.gym_group_value === 5) ? { ...gym, gym_group: 'The Gym Group' } : (gym.gym_group_value === 6) ? { ...gym, gym_group: 'Barrecore' } : (gym.gym_group_value === 7) ? { ...gym, gym_group: 'Nuffield Health' } :\n              (gym.gym_group_value === 8) ? { ...gym, gym_group: '1Rebel' } : (gym.gym_group_value === 9) ? { ...gym, gym_group: 'Gymbox' } : (gym.gym_group_value === 10) ? { ...gym, gym_group: 'Barrys' } : { ...gym, gym_group: 'Third Space' }\n          }),\n          supermarkets: property.supermarkets.map(supermarket => {\n            return (supermarket.cleansed_name_value === 0) ? { ...supermarket, cleansed_name: 'Co-op' } : (supermarket.cleansed_name_value === 1) ? { ...supermarket, cleansed_name: 'Tesco' } : (supermarket.cleansed_name_value === 2) ? { ...supermarket, cleansed_name: 'Sainsburys' } : (supermarket.cleansed_name_value === 3) ? { ...supermarket, cleansed_name: 'Nisa' } : (supermarket.cleansed_name_value === 4) ? { ...supermarket, cleansed_name: 'Budgens' } : (supermarket.cleansed_name_value === 5) ? { ...supermarket, cleansed_name: 'Amazon Fresh' } :\n              (supermarket.cleansed_name_value === 6) ? { ...supermarket, cleansed_name: 'Spar' } : (supermarket.cleansed_name_value === 7) ? { ...supermarket, cleansed_name: 'Asda' } : (supermarket.cleansed_name_value === 8) ? { ...supermarket, cleansed_name: 'Morrisons' } : (supermarket.cleansed_name_value === 9) ? { ...supermarket, cleansed_name: 'M&S Food' } : (supermarket.cleansed_name_value === 10) ? { ...supermarket, cleansed_name: 'Waitrose' } : (supermarket.cleansed_name_value === 11) ? { ...supermarket, cleansed_name: 'Whole Foods' } :\n                (supermarket.cleansed_name_value === 12) ? { ...supermarket, cleansed_name: 'Iceland' } : (supermarket.cleansed_name_value === 13) ? { ...supermarket, cleansed_name: 'Farmfoods' } : (supermarket.cleansed_name_value === 14) ? { ...supermarket, cleansed_name: 'Lidl' } : (supermarket.cleansed_name_value === 16) ? { ...supermarket, cleansed_name: 'Londis' } : (supermarket.cleansed_name_value === 17) ? { ...supermarket, cleansed_name: 'Local Convenience Store' } : (supermarket.cleansed_name_value === 18) ? { ...supermarket, cleansed_name: 'Costcutter' } :\n                  (supermarket.segment_value === 0) ? { ...supermarket, segment: 'Mainstream' } : (supermarket.segment_value === 1) ? { ...supermarket, segment: 'Premium' } : (supermarket.segment_value === 2) ? { ...supermarket, segment: 'Budget' } : (supermarket.segment_value === 3) ? { ...supermarket, segment: 'Convenience' } :\n                    (supermarket.size_value === 0) ? { ...supermarket, size: 'Local' } : (supermarket.size_value === 1) ? { ...supermarket, size: 'Convenience' } : { ...supermarket, size: 'Large' }\n          }),\n          primaries: property.primaries.map(school => {\n            return (school.ofsted_value === 0) ? { ...school, ofsted_results: 'Outstanding' } : (school.ofsted_value === 1) ? { ...school, ofsted_results: 'Good' } : (school.ofsted_value === 2) ? { ...school, ofsted_results: 'No assessment' } : (school.ofsted_value === 3) ? { ...school, ofsted_results: 'Requires Improvement' } : (school.ofsted_value === 4) ? { ...school, ofsted_results: 'Serious Weaknesses' } : { ...school, ofsted_results: 'Special Measures' }\n          }),\n          secondaries: property.secondaries.map(school => {\n            return (school.ofsted_value === 0) ? { ...school, ofsted_results: 'Outstanding' } : (school.ofsted_value === 1) ? { ...school, ofsted_results: 'Good' } : (school.ofsted_value === 2) ? { ...school, ofsted_results: 'No assessment' } : (school.ofsted_value === 3) ? { ...school, ofsted_results: 'Requires Improvement' } : (school.ofsted_value === 4) ? { ...school, ofsted_results: 'Serious Weaknesses' } : { ...school, ofsted_results: 'Special Measures' }\n          }),\n          // colleges: property.colleges.map(school => {\n          //   return (school.ofsted_value === 0) ? { ...school, ofsted_results: 'Outstanding' } : (school.ofsted_value === 1) ? { ...school, ofsted_results: 'Good' } : (school.ofsted_value === 2) ? { ...school, ofsted_results: 'No assessment' } : (school.ofsted_value === 3) ? { ...school, ofsted_results: 'Requires Improvement' } : (school.ofsted_value === 4) ? { ...school, ofsted_results: 'Serious Weaknesses' } : { ...school, ofsted_results: 'Special Measures' }\n          // }),\n        }\n      })\n    setCalc1(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (workFamilyCalc2)\n      calculation1()\n  }, [workFamilyCalc2])\n\n\n  // Section 6: Step 2 - updating second set of values  \n  const calculation2 = () => {\n    const calculation =\n      calc1.map(property => {\n        return {\n          ...property,\n          restaurants: property.restaurants.map(restaurant => {\n            return (restaurant.source_value === 0) ? { ...restaurant, source: 'Open Table' } : (restaurant.source_value === 1) ? { ...restaurant, source: 'Google' } : (restaurant.source_value === 2) ? { ...restaurant, source: 'Open Table & Google' } : (restaurant.source_value === 3) ? { ...restaurant, source: 'Michelin Guide' } : (restaurant.source_value === 0) ? { ...restaurant, source: 'Michelin & Google' } : (restaurant.source_value === 5) ? { ...restaurant, source: 'Open Table & Michelin' } : { ...restaurant, source: 'Open Table, Michelin & Google' }\n          }),\n          supermarkets: property.supermarkets.map(supermarket => {\n            return (supermarket.segment_value === 0) ? { ...supermarket, segment: 'Mainstream' } : (supermarket.segment_value === 1) ? { ...supermarket, segment: 'Premium' } : (supermarket.segment_value === 2) ? { ...supermarket, segment: 'Budget' } : { ...supermarket, segment: 'Convenience' }\n          }),\n          primaries: property.primaries.map(school => {\n            return (school.ofsted_recency_value === 0) ? { ...school, ofsted_recncy: 'Over 8 Years' } : (school.ofsted_recency_value === 1) ? { ...school, ofsted_recency: 'Within 5 Years' } : (school.ofsted_recency_value === 2) ? { ...school, ofsted_recency: 'Within 8 Years' } : (school.ofsted_recency_value === 3) ? { ...school, ofsted_recency: 'Within 3 Years' } : (school.ofsted_recency_value === 4) ? { ...school, ofsted_recency: 'Within 1 Year' } : { ...school, ofsted_results: 'No assessment' }\n          }),\n          secondaries: property.secondaries.map(school => {\n            return (school.ofsted_recency_value === 0) ? { ...school, ofsted_recncy: 'Over 8 Years' } : (school.ofsted_recency_value === 1) ? { ...school, ofsted_recency: 'Within 5 Years' } : (school.ofsted_recency_value === 2) ? { ...school, ofsted_recency: 'Within 8 Years' } : (school.ofsted_recency_value === 3) ? { ...school, ofsted_recency: 'Within 3 Years' } : (school.ofsted_recency_value === 4) ? { ...school, ofsted_recency: 'Within 1 Year' } : { ...school, ofsted_results: 'No assessment' }\n          }),\n          // colleges: property.colleges.map(school => {\n          //   return (school.ofsted_recency_value === 0) ? { ...school, ofsted_recncy: 'Over 8 Years' } : (school.ofsted_recency_value === 1) ? { ...school, ofsted_recency: 'Within 5 Years' } : (school.ofsted_recency_value === 2) ? { ...school, ofsted_recency: 'Within 8 Years' } : (school.ofsted_recency_value === 3) ? { ...school, ofsted_recency: 'Within 3 Years' } : (school.ofsted_recency_value === 4) ? { ...school, ofsted_recency: 'Within 1 Year' } : { ...school, ofsted_results: 'No assessment' }\n          // }),\n        }\n      })\n    setCalc2(calculation)\n  }\n\n  // run calculatino\n  useEffect(() => {\n    if (calc1)\n      calculation2()\n  }, [calc1])\n\n\n  // Section 6: Step 3 - updating third set of values  \n  const calculation3 = () => {\n    const calculation =\n      calc2.map(property => {\n        return {\n          ...property,\n          supermarkets: property.supermarkets.map(supermarket => {\n            return (supermarket.size_value === 0) ? { ...supermarket, size: 'Local' } : (supermarket.size_value === 1) ? { ...supermarket, size: 'Convenience' } : { ...supermarket, size: 'Large' }\n          }),\n          primaries: property.primaries.map(school => {\n            return (school.religion_value === 0) ? { ...school, religious_grouping: 'Does not apply' } : (school.religion_value === 1) ? { ...school, religious_grouping: 'Church of England' } : (school.religion_value === 2) ? { ...school, religious_grouping: 'Roman Catholic' } : (school.religion_value === 3) ? { ...school, religious_grouping: 'None' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Muslim' } : (school.religion_value === 5) ? { ...school, religious_grouping: 'Jewish' } : (school.religion_value === 6) ? { ...school, religious_grouping: 'Christian' } : (school.religion_value === 7) ? { ...school, religious_grouping: 'Catholic' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Church of England/Christian' } : { ...school, religious_grouping: 'Hindu' }\n          }),\n          secondaries: property.secondaries.map(school => {\n            return (school.religion_value === 0) ? { ...school, religious_grouping: 'Does not apply' } : (school.religion_value === 1) ? { ...school, religious_grouping: 'Church of England' } : (school.religion_value === 2) ? { ...school, religious_grouping: 'Roman Catholic' } : (school.religion_value === 3) ? { ...school, religious_grouping: 'None' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Muslim' } : (school.religion_value === 5) ? { ...school, religious_grouping: 'Jewish' } : (school.religion_value === 6) ? { ...school, religious_grouping: 'Christian' } : (school.religion_value === 7) ? { ...school, religious_grouping: 'Catholic' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Church of England/Christian' } : { ...school, religious_grouping: 'Hindu' }\n          }),\n          // colleges: property.colleges.map(school => {\n          //   return (school.religion_value === 0) ? { ...school, religious_grouping: 'Does not apply' } : (school.religion_value === 1) ? { ...school, religious_grouping: 'Church of England' } : (school.religion_value === 2) ? { ...school, religious_grouping: 'Roman Catholic' } : (school.religion_value === 3) ? { ...school, religious_grouping: 'None' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Muslim' } : (school.religion_value === 5) ? { ...school, religious_grouping: 'Jewish' } : (school.religion_value === 6) ? { ...school, religious_grouping: 'Christian' } : (school.religion_value === 7) ? { ...school, religious_grouping: 'Catholic' } : (school.religion_value === 4) ? { ...school, religious_grouping: 'Church of England/Christian' } : { ...school, religious_grouping: 'Hindu' }\n          // }),\n        }\n      })\n    setCalc3(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc2)\n      calculation3()\n  }, [calc2])\n\n\n  // Section 6: Step 4 - updating fourth set of values  \n  const calculation4 = () => {\n    const calculation =\n      calc3.map(property => {\n        return {\n          ...property,\n          primaries: property.primaries.map(school => {\n            return (school.gender_value === 0) ? { ...school, gender: 'Mixed' } : (school.gender_value === 1) ? { ...school, gender: 'Girls' } : { ...school, gender: 'Boys' }\n          }),\n          secondaries: property.secondaries.map(school => {\n            return (school.gender_value === 0) ? { ...school, gender: 'Mixed' } : (school.gender_value === 1) ? { ...school, gender: 'Girls' } : { ...school, gender: 'Boys' }\n          }),\n          // colleges: property.colleges.map(school => {\n          //   return (school.gender_value === 0) ? { ...school, gender: 'Mixed' } : (school.gender_value === 1) ? { ...school, gender: 'Girls' } : { ...school, gender: 'Boys' }\n          // }),\n        }\n      })\n    setCalc4(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc3)\n      calculation4()\n  }, [calc3])\n\n\n  // ? Section 7: CALCULATIONS FOR WITTLE ALGORITHM - key calculations that will complete the match score\n  // First key calculation that will give a value for the variables on each property\n  const calculation5 = () => {\n    const calculation =\n      calc4.map(property => {\n        return {\n          ...property,\n          restaurant_calcs: formData.restaurant_selection ? property.restaurants.map(restaurant => {\n            return (restaurant.Rating >= 4.9) ? { ...restaurant, restaurant_score: 15 } : (restaurant.Rating >= 4.7) ? { ...restaurant, restaurant_score: 12 } : (restaurant.Rating >= 4.5) ? { ...restaurant, restaurant_score: 9 } : (restaurant.Rating >= 4.3) ? { ...restaurant, restaurant_score: 6 } : (restaurant.Rating >= 4.1) ? { ...restaurant, restaurant_score: 4 } : (restaurant.Rating >= 3.8) ? { ...restaurant, restaurant_score: 2 } : { ...restaurant, restaurant_score: 1 }\n          }) : 'Not selected',\n          pub_calcs: formData.pubs_selection ? property.bars.map(pub => {\n            return (pub.pub_category === 'Recommended' || pub.pub_category === 'Timeout100') ? { ...pub, pub_score: 100 } : (pub.pub_category === 'Worth a visit') ? { ...pub, pub_score: 50 } : { ...pub, pub_score: 5 }\n          }) : 'Not selected',\n          primaries_calcs: formData.primary_selection ? property.primaries.map(primary => {\n            return (primary.ofsted_results === 'Outstanding') ? { ...primary, primary_score: 100 } : (primary.ofsted_results === 'Good') ? { ...primary, primary_score: 20 } : { ...primary, primary_score: 10 }\n          }) : 'Not selected',\n          tubes_calcs: formData.tube_selection ? property.tubes.map(tube => {\n            return (formData.tube_distance === 0) ? { ...tube, tube_score: 0 } : (formData.tube_distance <= 15 && tube.walking_time_mins <= 5) ? { ...tube, tube_score: 1 } : (formData.tube_distance > 15 && tube.walking_time_mins <= (formData.tube_distance / 3)) ? { ...tube, tube_score: 1 } : (formData.tube_distance <= 15 && tube.walking_time_mins > 5) ? { ...tube, tube_score: 1 - (((tube.walking_time_mins - 5) / (formData.tube_distance - 5)) * 0.3) } : (formData.tube_distance > 15 && tube.walking_time_mins > 5) ? { ...tube, tube_score: 1 - ((tube.walking_time_mins - (formData.tube_distance * 0.33)) / (formData.tube_distance - (formData.tube_distance * 0.33)) * 0.3) } : { ...tube, tube_score: 0 }\n          }) : 'Not selected',\n          cafes_calcs: formData.cafes_selection ? property.cafes.map(cafe => {\n            return (formData.cafes_decision === 'Specific' & formData.cafes_detail === cafe.cleansed_name) ? { ...cafe, cafe_score: 100 } : { ...cafe, cafe_score: 10 }\n          }) : 'Not selected',\n          supermarkets_calcs: formData.supermarket_selection ? property.supermarkets.map(supermarket => {\n            return (formData.supermarket_segment === supermarket.segment) ? { ...supermarket, supermarket_match: 1 } : { ...supermarket, supermarket_match: 0 }\n          }) : 'Not selected',\n          parks_calcs: formData.park_selection ? property.parks.map(park => {\n            return (formData.park_type === park.park_type) ? { ...park, park_match: 1 } : { ...park, park_match: 0 }\n          }) : 'Not selected',\n          gym_calcs: formData.gym_selection ? property.gyms.map(gym => {\n            return (formData.gym_studio_name === gym.gym_group) ? { ...gym, gym_match: 1 } : { ...gym, gym_match: 0 }\n          }) : 'Not selected',\n          train_calcs: formData.train_selection && property.trains ? property.trains.map(train => {\n            return (formData.train_distance === 0) ? { ...train, train_score: 0 } : (formData.train_distance <= 15 && train.walking_time_mins <= 5) ? { ...train, train_score: 1 } : (formData.train_distance > 15 && train.walking_time_mins <= (formData.train_distance / 3)) ? { ...train, train_score: 1 } : (formData.train_distance <= 15 && train.walking_time_mins > 5) ? { ...train, train_score: 1 - (((train.walking_time_mins - 5) / (formData.train_distance - 5)) * 0.3) } : (formData.train_distance > 15 && train.walking_time_mins > 5) ? { ...train, train_score: 1 - ((train.walking_time_mins - (formData.train_distance * 0.33)) / (formData.train_distance - (formData.train_distance * 0.33)) * 0.3) } : { ...train, train_score: 0 }\n          }) : 'Not selected',\n          secondaries_calcs: formData.secondary_selection ? property.secondaries.map(secondary => {\n            return (secondary.ofsted_results === 'Outstanding') ? { ...secondary, secondary_score: 100 } : (secondary.ofsted_results === 'Good') ? { ...secondary, secondary_score: 20 } : { ...secondary, secondary_score: 10 }\n          }) : 'Not selected',\n          colleges_calcs: property.colleges ? property.colleges.map(college => {\n            return (college.ofsted_results === 'Outstanding') ? { ...college, college_score: 100 } : (college.ofsted_results === 'Good') ? { ...college, college_score: 20 } : { ...college, college_score: 10 }\n          }) : 'Not selected',\n          takeaway_calcs: formData.takeaway_selection ? property.takeaways.map(restaurant => {\n            return (restaurant.wittle_rating >= 9.6) ? { ...restaurant, takeaway_score: 15 } : (restaurant.wittle_rating >= 9.2) ? { ...restaurant, takeaway_score: 12 } : (restaurant.wittle_rating >= 9.0) ? { ...restaurant, takeaway_score: 9 } : (restaurant.wittle_rating >= 8.6) ? { ...restaurant, takeaway_score: 6 } : (restaurant.wittle_rating >= 8.2) ? { ...restaurant, takeaway_score: 4 } : (restaurant.wittle_rating >= 7.9) ? { ...restaurant, takeaway_score: 2 } : { ...restaurant, takeaway_score: 1 }\n          }) : 'Not selected',\n          workplace_score: formData.workplace_selection ? property.workplace.map(workplace => {\n            return (formData.workplace_transport === 'Driving/ transport' & workplace.workplace_driving_mins <= formData.workplace_distance) ? (0.8 + (0.2 - ((workplace.workplace_driving_mins / formData.workplace_distance) * 0.2))) : (formData.workplace_transport === 'Driving/ transport' & workplace.workplace_driving_mins > formData.workplace_distance) ? 0.2\n              : (formData.workplace_transport === 'Cycling' & workplace.workplace_cycling_mins <= formData.workplace_distance) ? (0.8 + (0.2 - ((workplace.workplace_cycling_mins / formData.workplace_distance) * 0.2))) : (formData.workplace_transport === 'Cycling' & workplace.workplace_cycling_mins > formData.workplace_distance) ? 0.2\n                : (formData.workplace_transport === 'Walking' & workplace.workplace_walking_mins <= formData.workplace_distance) ? (0.8 + (0.2 - ((workplace.workplace_walking_mins / formData.workplace_distance) * 0.2))) : 0.2\n          })[0] : 'Not selected',\n          family1_score: formData.family_selection ? property.family1.map(workplace => {\n            return (formData.family_mode_1 === 'Driving/ transport' & workplace.family_driving_mins <= formData.family_distance_1) ? (0.8 + (0.2 - ((workplace.family_driving_mins / formData.family_distance_1) * 0.2))) : (formData.family_mode_1 === 'Driving/ transport' & workplace.family_driving_mins > formData.family_distance_1) ? 0.2\n              : (formData.family_mode_1 === 'Cycling' & workplace.family_cycling_mins <= formData.family_distance_1) ? (0.8 + (0.2 - ((workplace.family_cycling_mins / formData.family_distance_1) * 0.2))) : (formData.family_mode_1 === 'Cycling' & workplace.family_cycling_mins > formData.family_distance_1) ? 0.2\n                : (formData.family_mode_1 === 'Walking' & workplace.family_walking_mins <= formData.family_distance_1) ? (0.8 + (0.2 - ((workplace.family_walking_mins / formData.family_distance_1) * 0.2))) : 0.2\n          })[0] : 'Not selected',\n          // property_images: [property.property_image_1, property.property_image_2],\n          property_images: [\n            { url: property.property_image_1 },\n            { url: property.property_image_2 }\n          ],\n        }\n      })\n    setCalc5(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc4)\n      calculation5()\n  }, [calc4])\n\n\n  // Second key calculation that will give a total value for each variable per property that we can use to give a match %\n  const calculation6 = () => {\n    const calculation =\n      calc5.map(property => {\n        return {\n          ...property,\n          restaurant_total: property.restaurant_calcs !== 'Not selected' ? property.restaurant_calcs.reduce((a, v) => {\n            return a + v.restaurant_score\n          }, 0) : 'Not selected',\n          pub_total: property.pub_calcs !== 'Not selected' ? property.pub_calcs.reduce((a, v) => {\n            return a + v.pub_score\n          }, 0) : 'Not selected',\n          primaries_total: property.primaries_calcs !== 'Not selected' ? property.primaries_calcs.reduce((a, v) => {\n            return a + v.primary_score\n          }, 0) : 'Not selected',\n          tubes_total: property.tubes_calcs !== 'Not selected' ? Math.max(...property.tubes_calcs.map(o => o.tube_score), 0) : 'Not selected',\n          cafes_total: property.cafes_calcs !== 'Not selected' ? property.cafes_calcs.reduce((a, v) => {\n            return a + v.cafe_score\n          }, 0) : 'Not selected',\n          supermarkets_total: property.supermarkets_calcs !== 'Not selected' ? property.supermarkets_calcs.reduce((a, v) => {\n            return a + v.supermarket_match\n          }, 0) : 'Not selected',\n          parks_total: property.parks_calcs !== 'Not selected' ? property.parks_calcs.reduce((a, v) => {\n            return a + v.park_match\n          }, 0) : 'Not selected',\n          gyms_total: property.gym_calcs !== 'Not selected' ? property.gym_calcs.reduce((a, v) => {\n            return a + v.gym_match\n          }, 0) : 'Not selected',\n          trains_total: property.train_calcs !== 'Not selected' ? Math.max(...property.train_calcs.map(o => o.train_score), 0) : 'Not selected',\n          secondaries_total: property.secondaries_calcs !== 'Not selected' ? property.secondaries_calcs.reduce((a, v) => {\n            return a + v.secondary_score\n          }, 0) : 'Not selected',\n          colleges_total: property.colleges_calcs !== 'Not selected' ? property.colleges_calcs.reduce((a, v) => {\n            return a + v.college_score\n          }, 0) : 'Not selected',\n          takeaway_total: property.takeaway_calcs !== 'Not selected' ? property.takeaway_calcs.reduce((a, v) => {\n            return a + v.takeaway_score\n          }, 0) : 'Not selected',\n        }\n      })\n    setCalc6(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc5)\n      calculation6()\n  }, [calc5])\n\n\n  // Third key calculation that will allow us to establish the highest of each of the values, so we can create a %\n  const calculation7 = () => {\n    const calculation =\n      calc6.map(property => {\n        return {\n          ...property,\n          restaurant_max: property.restaurant_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.restaurant_total), 0) : 'Not selected',\n          pub_max: property.pub_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.pub_total), 0) : 'Not selected',\n          primaries_max: property.primaries_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.primaries_total), 0) : 'Not selected',\n          secondaries_max: property.secondaries_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.secondaries_total), 0) : 'Not selected',\n          colleges_max: property.colleges_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.colleges_total), 0) : 'Not selected',\n          cafes_max: property.cafes_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.cafes_total), 0) : 'Not selected',\n          takeaway_max: property.takeaway_calcs !== 'Not selected' ? Math.max(...calc6.map(o => o.takeaway_total), 0) : 'Not selected',\n          restaurant_chosen: property.restaurant_total !== 'Not selected' ? 1 : 0,\n          pub_chosen: property.pub_total !== 'Not selected' ? 1 : 0,\n          primaries_chosen: property.primaries_total !== 'Not selected' ? 1 : 0,\n          cafe_chosen: property.cafes_total !== 'Not selected' ? 1 : 0,\n          tube_chosen: property.tubes_total !== 'Not selected' ? 1 : 0,\n          supermarkets_chosen: property.supermarkets_total !== 'Not selected' ? 1 : 0,\n          parks_chosen: property.parks_total !== 'Not selected' ? 1 : 0,\n          gym_chosen: property.gyms_total !== 'Not selected' ? 1 : 0,\n          secondary_chosen: property.secondaries_total !== 'Not selected' ? 1 : 0,\n          college_chosen: property.colleges_total !== 'Not selected' ? 1 : 0,\n          train_chosen: property.trains_total !== 'Not selected' ? 1 : 0,\n          takeaway_chosen: property.takeaway_total !== 'Not selected' ? 1 : 0,\n          workplace_chosen: property.workplace_score !== 'Not selected' ? 1 : 0,\n          family1_chosen: property.family1_score !== 'Not selected' ? 1 : 0,\n        }\n      })\n    setCalc7(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc6)\n      calculation7()\n  }, [calc6])\n\n\n  // Fourth key calculation that will give each variable a % score\n  const calculation8 = () => {\n    const calculation =\n      calc7.map(property => {\n        return {\n          ...property,\n          restaurant_perc: property.restaurant_calcs !== 'Not selected' ? property.restaurant_total / property.restaurant_max : 0,\n          pub_perc: property.pub_calcs !== 'Not selected' ? property.pub_total / property.pub_max : 0,\n          primary_perc: property.primaries_calcs !== 'Not selected' ? property.primaries_total / property.primaries_max : 0,\n          tube_perc: property.tubes_calcs !== 'Not selected' ? property.tubes_total : 0,\n          cafe_perc: property.cafes_calcs !== 'Not selected' ? property.cafes_total / property.cafes_max : 0,\n          supermarket_perc: property.supermarkets_calcs !== 'Not selected' ? ((property.supermarkets.length > 3 & property.supermarkets_total > 0) ? 1 : (property.supermarkets.length > 2 & property.supermarkets_total > 0) ? 0.95 : (property.supermarkets.length > 1 & property.supermarkets_total > 0) ? 0.9 : (property.supermarkets.length > 0 & property.supermarkets_total > 0) ? 0.85 : (property.supermarkets.length > 3 & property.supermarkets_total === 0) ? 0.7 : (property.supermarkets.length > 2 & property.supermarkets_total === 0) ? 0.65 : (property.supermarkets.length > 1 & property.supermarkets_total === 0) ? 0.6 : (property.supermarkets.length > 0 & property.supermarkets_total === 0) ? 0.55 : 0) : 0,\n          park_perc: property.parks_calcs !== 'Not selected' ? ((property.parks_total > 1) ? 1 : (property.parks_total > 0) ? 0.90 : (property.parks_total === 0) ? 0.75 : 0) : 0,\n          gym_perc: property.gym_calcs !== 'Not selected' ? ((property.gyms_total > 0 & property.gyms.length > 2) ? 1 : (property.gyms_total > 0 & property.gyms.length > 1) ? 0.95 : (property.gyms_total > 0 & property.gyms.length > 0) ? 0.9 : (property.gyms_total === 0 & property.gyms.length > 4) ? 0.85 : (property.gyms_total === 0 & property.gyms.length > 3) ? 0.8 : (property.gyms_total === 0 & property.gyms.length > 2) ? 0.75 : (property.gyms_total === 0 & property.gyms.length > 1) ? 0.7 : (property.gyms_total === 0 & property.gyms.length > 0) ? 0.65 : 0) : 0,\n          train_perc: property.train_calcs !== 'Not selected' ? property.trains_total : 0,\n          secondary_perc: property.secondaries_calcs !== 'Not selected' ? property.secondaries_total / property.secondaries_max : 0,\n          college_perc: property.colleges_calcs !== 'Not selected' ? property.colleges_total / property.colleges_max : 0,\n          takeaway_perc: property.takeaway_calcs !== 'Not selected' ? property.takeaway_total / property.takeaway_max : 0,\n          workplace_perc: property.workplace_score !== 'Not selected' ? property.workplace_score : 0,\n          family1_perc: property.family1_score !== 'Not selected' ? property.family1_score : 0,\n          options_chosen: property.restaurant_chosen + property.pub_chosen + property.primaries_chosen + property.cafe_chosen + property.tube_chosen + property.supermarkets_chosen + property.parks_chosen + property.gym_chosen + property.train_chosen + property.secondary_chosen + property.college_chosen + property.takeaway_chosen + property.workplace_chosen + property.family1_chosen,\n        }\n      })\n    setCalc8(calculation)\n  }\n\n\n  // run calculation\n  useEffect(() => {\n    if (calc7)\n      calculation8()\n  }, [calc7])\n\n\n  // 5th key calculation that will give the total property a score\n  const calculation9 = () => {\n    const calculation =\n      calc8.map(property => {\n        return {\n          ...property,\n          first_match: parseInt(((property.restaurant_perc + property.pub_perc + property.primary_perc + property.tube_perc + property.cafe_perc + property.supermarket_perc + property.park_perc + property.gym_perc + property.train_perc + property.secondary_perc + property.college_perc + property.takeaway_perc + property.workplace_perc + property.family1_perc) / property.options_chosen) * 100),\n          final_restaurant: parseFloat((property.restaurant_perc * 100).toFixed(0)),\n          final_takeaway: parseFloat((property.takeaway_perc * 100).toFixed(0)),\n          final_cafe: parseFloat((property.cafe_perc * 100).toFixed(0)),\n          final_pub: parseFloat((property.pub_perc * 100).toFixed(0)),\n          final_supermarket: parseFloat((property.supermarket_perc * 100).toFixed(0)),\n          final_gym: parseFloat((property.gym_perc * 100).toFixed(0)),\n          final_park: parseFloat((property.park_perc * 100).toFixed(0)),\n          final_tube: parseFloat((property.tube_perc * 100).toFixed(0)),\n          final_train: parseFloat((property.train_perc * 100).toFixed(0)),\n          final_primary: parseFloat((property.primary_perc * 100).toFixed(0)),\n          final_secondary: parseFloat((property.secondary_perc * 100).toFixed(0)),\n          final_college: parseFloat((property.college_perc * 100).toFixed(0)),\n          final_workplace: parseFloat((property.workplace_perc * 100).toFixed(0)),\n          final_family1: parseFloat((property.family1_perc * 100).toFixed(0)),\n        }\n      }).sort((a, b) => b.first_match - a.first_match)\n    setCalc9(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc8)\n      calculation9()\n  }, [calc8])\n\n\n  // Final key calculation that will rank each of the variables\n  const calculation10 = () => {\n    const restaurant_ranks = calc9.map(e => e.final_restaurant).sort((a, b) => b - a)\n    const takeaway_ranks = calc9.map(e => e.final_takeaway).sort((a, b) => b - a)\n    const pub_ranks = calc9.map(e => e.final_pub).sort((a, b) => b - a)\n    const cafe_ranks = calc9.map(e => e.final_cafe).sort((a, b) => b - a)\n    const supermarket_ranks = calc9.map(e => e.final_supermarket).sort((a, b) => b - a)\n    const gym_ranks = calc9.map(e => e.final_gym).sort((a, b) => b - a)\n    const park_ranks = calc9.map(e => e.final_park).sort((a, b) => b - a)\n    const tube_ranks = calc9.map(e => e.final_tube).sort((a, b) => b - a)\n    const train_ranks = calc9.map(e => e.final_train).sort((a, b) => b - a)\n    const primary_ranks = calc9.map(e => e.final_primary).sort((a, b) => b - a)\n    const secondary_ranks = calc9.map(e => e.final_secondary).sort((a, b) => b - a)\n    const college_ranks = calc9.map(e => e.final_college).sort((a, b) => b - a)\n    const workplace_ranks = calc9.map(e => e.final_workplace).sort((a, b) => b - a)\n    const family1_ranks = calc9.map(e => e.final_family1).sort((a, b) => b - a)\n    const average_score = calc9.reduce((a, v) => {\n      return (a + v.first_match)\n    }, 0) / calc9.length\n    const calculation =\n      calc9.map(property => {\n        return {\n          ...property,\n          restaurant_rank: (restaurant_ranks.indexOf(property.final_restaurant) + 1),\n          takeaway_rank: (takeaway_ranks.indexOf(property.final_takeaway) + 1),\n          cafe_rank: (cafe_ranks.indexOf(property.final_cafe) + 1),\n          pub_rank: (pub_ranks.indexOf(property.final_pub) + 1),\n          supermarket_rank: (supermarket_ranks.indexOf(property.final_supermarket) + 1),\n          gym_rank: (gym_ranks.indexOf(property.final_gym) + 1),\n          park_rank: (park_ranks.indexOf(property.final_park) + 1),\n          tube_rank: (tube_ranks.indexOf(property.final_tube) + 1),\n          train_rank: (train_ranks.indexOf(property.final_train) + 1),\n          primary_rank: (primary_ranks.indexOf(property.final_primary) + 1),\n          secondary_rank: (secondary_ranks.indexOf(property.final_secondary) + 1),\n          college_rank: (college_ranks.indexOf(property.final_college) + 1),\n          workplace_rank: (workplace_ranks.indexOf(property.final_workplace) + 1),\n          family1_rank: (family1_ranks.indexOf(property.final_family1) + 1),\n          average_score: parseInt(average_score),\n        }\n      }).sort((a, b) => b.first_match - a.first_match)\n    setCalc10(calculation)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc9)\n      calculation10()\n  }, [calc9])\n\n\n  // const calculation12 = () => {\n  //   const calculation =\n  //     calc10.map(property => {\n  //       return {\n  //         ...property,\n  //         restaurant_rank_perc: 'id' + Math.ceil((property.restaurant_rank / calc9.length) * 10),\n  //         takeaway_rank_perc: 'id' + Math.ceil((property.takeaway_rank / calc9.length) * 10),\n  //         cafe_rank_perc: 'id' + Math.ceil((property.cafe_rank / calc9.length) * 10),\n  //         pub_rank_perc: 'id' + Math.ceil((property.pub_rank / calc9.length) * 10),\n  //         supermarket_rank_perc: 'id' + Math.ceil((property.supermarket_rank / calc9.length) * 10),\n  //         gym_rank_perc: 'id' + Math.ceil((property.gym_rank / calc9.length) * 10),\n  //         park_rank_perc: 'id' + Math.ceil((property.park_rank / calc9.length) * 10),\n  //         tube_rank_perc: 'id' + Math.ceil((property.tube_rank / calc9.length) * 10),\n  //         train_rank_perc: 'id' + Math.ceil((property.train_rank / calc9.length) * 10),\n  //         primary_rank_perc: 'id' + Math.ceil((property.primary_rank / calc9.length) * 10),\n  //         secondary_rank_perc: 'id' + Math.ceil((property.secondary_rank / calc9.length) * 10),\n  //         college_rank_perc: 'id' + Math.ceil((property.college_rank / calc9.length) * 10),\n  //         workplace_rank_perc: 'id' + Math.ceil((property.workplace_rank / calc9.length) * 10),\n  //         family1_rank_perc: 'id' + Math.ceil((property.family1_rank / calc9.length) * 10),\n  //       }\n  //     }).sort((a, b) => b.first_match - a.first_match)\n  //   console.log('calculation 12 ->', calculation)\n  //   setCalc11(calculation)\n  // }\n\n\n\n\n  // Update the search result with summary scores\n  const calculation11 = async () => {\n    if (isUserAuth())\n      try {\n        const newData = {\n          top_score: calc10[parseInt(0)].first_match,\n          average_score: calc10[parseInt(0)].average_score,\n          total_properties: calc10.length,\n          search_name: formData.search_name,\n          owner: formData.owner,\n          search_type: 'Wittle',\n          search_channel: formData.search_channel,\n        }\n        console.log('search id ->', formData.result_id)\n        const { data } = await axios.put(`/api/property-search/${parseInt(formData.result_id)}`, newData, {\n          headers: {\n            Authorization: `Bearer ${getAccessToken()}`,\n          },\n        })\n        window.localStorage.setItem('wittle-form-input', JSON.stringify(data))\n        setFormData(data)\n      } catch (error) {\n        console.log(error)\n      }\n    else\n      try {\n        const newData = {\n          top_score: calc10[parseInt(0)].first_match,\n          average_score: calc10[parseInt(0)].average_score,\n          total_properties: calc10.length,\n          search_name: formData.search_name,\n          owner: formData.owner,\n          search_type: 'Wittle',\n          search_channel: formData.search_channel,\n        }\n        console.log('search id ->', formData.result_id)\n        const { data } = await axios.put(`/api/property-search/xplw7aq5r/${parseInt(formData.result_id)}`, newData)\n        window.localStorage.setItem('wittle-form-input', JSON.stringify(data))\n        setFormData(data)\n      } catch (error) {\n        console.log(error)\n      }\n    window.localStorage.setItem('wittle-results', JSON.stringify(finalProp))\n    setCalculationsDone(true)\n  }\n\n  // run calculation\n  useEffect(() => {\n    if (calc10 && !calculationsDone) {\n      calculation11()\n      // calculation12()\n    }\n  }, [calc10, calculationsDone])\n\n\n  \n  // final section for enabling infinite scroll\n  const [infiniteScrollData, setInfiniteScrollData] = useState()\n\n  // set up function for loading more data each time you reach the bottom of the page\n  useEffect(() => {\n    if (calc10 && calculationsDone) {\n      const calculation = calc10.slice(0, 15)\n      setInfiniteScrollData(calculation)\n    }\n  }, [calc10, calculationsDone])\n\n  // change the value\n  const handleAddProperties = () => {\n    if (calc10 && calculationsDone) {\n      const calculation = calc10.slice(0, (infiniteScrollData.length + 10))\n      setInfiniteScrollData(calculation)\n    }\n  }\n\n\n\n\n  // ? Section 8: FAVOURITES - section toi handle favouriting and deleting properties from favourites\n  // Favorite button handler\n  const [favouriteError, setFavouriteError] = useState()\n\n  const postFavourite = async (e) => {\n    if (isUserAuth())\n      if (listFavourites.includes(parseInt(e.target.id)))\n        try {\n\n          // outlining the property for deletion\n          const propertyData = calc10.filter(property => {\n            return property.id === parseInt(e.target.id)\n          })\n\n          // setting this property to state, so we can see it in the modal\n          setDeleted(propertyData)\n          setFavourited(false)\n\n          // posting the deletion to the databased\n          const { data } = await axios.delete(`/api/favourites/${parseInt(e.target.id)}/`, {\n            headers: {\n              Authorization: `Bearer ${getAccessToken()}`,\n            },\n          })\n          handleDeleteShow()\n\n\n          const otherFavouriteIds = listFavourites.filter(property => {\n            return property.id === parseInt(e.target.id)\n          })\n          const otherFavourites = calc10.filter(property => otherFavouriteIds.includes(property.id))\n          const otherInfo = favouriteInfo.filter(property => {\n            return (property.property !== parseInt(e.target.id))\n          })\n          setOtherFavourites(otherFavourites)\n          setCurrentFavInfo(formData)\n          setOthrFavInfo(otherInfo)\n          loadUserData()\n        } catch (error) {\n          console.log(error)\n        }\n      else\n        try {\n          const propertyData = calc10.filter(property => {\n            return property.id === parseInt(e.target.id)\n          })\n          const otherFavouriteIds = listFavourites.filter(property => {\n            return property.id !== parseInt(e.target.id)\n          })\n          const otherFavourites = calc10.filter(property => otherFavouriteIds.includes(property.id))\n          const otherInfo = favouriteInfo.filter(property => {\n            return (property.property !== parseInt(e.target.id))\n          })\n          const additionalData =\n          {\n            favourite: true,\n            property: e.target.id,\n            owner: parseInt(userData.id),\n            property_name: propertyData[0].property_name,\n            search_name: formData.search_name,\n            searh_type: 'Wittle search',\n            restaurant_score: propertyData[0].final_restaurant,\n            takeaway_score: propertyData[0].final_takeaway,\n            pubs_score: propertyData[0].final_pub,\n            cafes_score: propertyData[0].final_cafe,\n            tube_score: propertyData[0].final_tube,\n            train_score: propertyData[0].final_train,\n            primary_score: propertyData[0].final_primary,\n            secondary_score: propertyData[0].final_secondary,\n            college_score: propertyData[0].final_college,\n            supermarket_score: propertyData[0].final_supermarket,\n            gym_score: propertyData[0].final_gym,\n            park_score: propertyData[0].final_park,\n            workplace_score: propertyData[0].final_workplace,\n            family1_score: propertyData[0].final_family1,\n            total_score: propertyData[0].first_match,\n            restaurant_input: formData.restaurant_distance,\n            takeaway_input: formData.takeaway_distance,\n            pubs_input: formData.pubs_distance,\n            cafes_input: formData.cafes_distance,\n            tube_input: formData.tube_distance,\n            train_input: formData.train_distance,\n            primary_input: formData.primary_distance,\n            secondary_input: formData.secondary_distance,\n            college_input: formData.college_distance,\n            supermarket_input: formData.supermarket_distance,\n            gym_input: formData.gym_distance,\n            park_input: formData.park_distance,\n            workplace_input: formData.workplace_distance,\n            friends_input: formData.family_distance_1,\n            restaurant_selection: formData.restaurant_selection,\n            takeaway_selection: formData.takeaway_selection,\n            pubs_selection: formData.pubs_selection,\n            cafes_selection: formData.cafes_selection,\n            tube_selection: formData.tube_selection,\n            train_selection: formData.train_selection,\n            primary_selection: formData.primary_selection,\n            secondary_selection: formData.secondary_selection,\n            college_selection: formData.college_selection,\n            supermarket_selection: formData.supermarket_selection,\n            gym_selection: formData.gym_selection,\n            park_selection: formData.park_selection,\n            workplace_selection: formData.workplace_selection,\n            friends_selection: formData.family_selection,\n          }\n          handleFavouriteShow()\n          const { data } = await axios.post('/api/favourites/', additionalData, {\n            headers: {\n              Authorization: `Bearer ${getAccessToken()}`,\n            },\n          })\n          setDeleted(false)\n          setFavourited(propertyData)\n          setOtherFavourites(otherFavourites)\n          setCurrentFavInfo(additionalData)\n          setOthrFavInfo(otherInfo)\n          loadUserData()\n        } catch (error) {\n          console.log(error)\n        }\n    else\n      try {\n        handleFavAuthShow()\n        setFavouriteError(true)\n        console.log('must have an account to favourite')\n      } catch (error) {\n        console.log('error')\n      }\n  }\n\n\n\n  // set state for showing edit modal\n  const [favouritingShow, setFavouritingShow] = useState(false)\n\n  // close modal\n  const handleFavouriteClose = () => {\n    setFavouritingShow(false)\n  }\n\n  // show the modal\n  const handleFavouriteShow = (e) => {\n    setFavouritingShow(true)\n  }\n\n  // state for showing the delete modal\n  const [deleteShow, setDeleteShow] = useState(false)\n\n  // close modal\n  const handleDeleteClose = () => {\n    setDeleteShow(false)\n  }\n\n  // show the modal\n  const handleDeleteShow = (e) => {\n    setDeleteShow(true)\n  }\n\n  // state for showing the not-auth modal\n  const [favouriteAuth, setFavouriteAuth] = useState()\n\n  // close non auth modal \n  const handleFavAuthClose = () => {\n    setFavouriteAuth(false)\n  }\n\n  // show the modal\n  const handleFavAuthShow = (e) => {\n    setFavouriteAuth(true)\n  }\n\n\n  // ? Section 9: MODALS - section for managing the numerous modals on the page\n  // * Modal 1 - Map mdoal\n  // Setting state and handles for submit modal\n  const [mapShow, setMapShow] = useState(false)\n\n  // closing thee modal\n  const handleMapClose = () => {\n    setMapShow(false)\n    setViewport(viewport)\n  }\n\n  // states for handling the popups on the map\n  const [showPopup, setShowPopup] = useState(true)\n\n  // showing the modal\n  const handleMapShow = () => {\n    setMapShow(true)\n    setViewport(viewport)\n    setShowPopup(false)\n  }\n\n  // control the states for maps\n  const [viewport, setViewport] = useState({\n    latitude: 51.515419,\n    longitude: -0.141099,\n    zoom: 10.5,\n  })\n\n\n  // * Modal 2 - Insights modal\n  // set state for showing insights modal\n  const [insightShow, setInsightShow] = useState(false)\n\n  // state for toggling the results in the insights modal\n  const [insightToggle, setInsightToggle] = useState({\n    selection: '',\n  })\n\n  // close modal\n  const handleInsightClose = () => {\n    setInsightShow(false)\n  }\n\n  // show the modal\n  const handleInsightShow = (e) => {\n    setInsightShow(true)\n    setInsightToggle({ ...insightToggle, selection: 'rank' })\n    setCurrentId(parseInt(e.target.id))\n  }\n\n  // set current id on click\n  const setID = e => {\n    setCurrentId(parseInt(e.target.id))\n    console.log('property id ->', e.target.id)\n    console.log('match score ->', e.target.value)\n    window.localStorage.setItem('wittle-current-match', JSON.stringify(e.target.id))\n  }\n\n\n  // dropdown for insight summary\n  const insightChange = e => {\n    setInsightToggle({ ...insightToggle, [e.target.name]: e.target.value })\n  }\n\n  //  Managing statez for modal to see search details in mobile view\n  // set state for showing the modal\n  const [searchShow, setSearchShow] = useState(false)\n\n  // set state for closing the modal\n  const handleSearchClose = () => {\n    setSearchShow(false)\n  }\n\n  // set state for the modal popping up\n  const handleSearchShow = () => {\n    setSearchShow(true)\n  }\n\n\n  // * Modal 3: Edit search modal\n  // set state for showing edit modal\n  const [editShow, setEditShow] = useState(false)\n\n  // close modal\n  const handleEditClose = () => {\n    setEditShow(false)\n  }\n\n  // show the modal\n  const handleEditShow = (e) => {\n    setEditSearch(formData)\n    setEditShow(true)\n  }\n\n  // * MOdal 4: Heatmap\n  // set state for showing edit modal\n  const [heatmapShow, setHeatmapShow] = useState(false)\n\n  // close modal\n  const handleHeatmapClose = () => {\n    setHeatmapShow(false)\n  }\n\n  // show the modal\n  const handleHeatmapShow = (e) => {\n    setHeatmapShow(true)\n  }\n\n \n  // ? Section 10: Lazy loading\n  const LazyBackgroundImage = ({ src, alt }) => {\n    const [isVisible, setIsVisible] = useState(false)\n    const ref = useRef()\n  \n    useEffect(() => {\n      const observer = new IntersectionObserver(\n        ([entry]) => {\n          if (entry.isIntersecting) {\n            setIsVisible(true)\n            observer.unobserve(ref.current)\n          }\n        },\n        {\n          rootMargin: '0px',\n          threshold: 0.1,\n        }\n      )\n      observer.observe(ref.current)\n  \n      return () => {\n        observer.unobserve(ref.current)\n      }\n    }, [])\n  \n    const style = {\n      backgroundImage: isVisible ? `url(${src})` : '',\n      alt: alt,\n    }\n  \n    return <div ref={ref} style={style} />\n  }\n\n\n  return (\n    <>\n      <section className='property-detail-pages'>\n        <NavBar />\n        {infiniteScrollData ?\n          <>\n            <InfiniteScroll\n              dataLength={calc10.length} //This is important field to render the next data\n              scrollThreshold={0.95}\n              next={handleAddProperties}\n              hasMore={true}\n              loader={<h4>Loading...</h4>}\n              endMessage={\n                <p style={{ textAlign: 'center' }}>\n                  <b>You&apos;ve seen everything</b>\n                </p>\n              }\n              {...calc3}\n            >\n              <section className='property-main-page'>\n                {sidebar === 'Open' ?\n                  <section className='title-section' id='form-buttons'>\n                    <div className='logo-section'>\n                      <div className='logo'>\n                        <h2 onClick={() => navigate('/')}>Wittle</h2>\n                      </div>\n                    </div>\n                    <h3>Search details &gt;</h3>\n                    <div className='input-sections'>\n                      <h5>Property</h5>\n                      <div className='poi'><p>Type: {formData.property_type}</p></div>\n\n\n                      <div className='poi'><p>Price: <NumericFormat value={formData.property_price_min} displayType={'text'} thousandSeparator={true} prefix={'£'} /> - <NumericFormat value={formData.property_price_max} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </p></div>\n                      <div className='poi'><p>Bedrooms: {formData.property_bed_min} - {formData.property_bed_max}</p></div>\n                    </div>\n                    <div className='input-sections'>\n                      <h5>Points of interest</h5>\n                      {formData.restaurant_selection ? <div className='poi'><p>👨‍🍳 Restaurants: {formData.restaurant_distance} min walk</p></div> : ''}\n                      {formData.takeaway_selection ? <div className='poi'><p>🍜 Takeaways: {formData.takeaway_distance} min walk</p></div> : ''}\n                      {formData.cafes_selection ? <div className='poi'><p>☕️ Cafes: {formData.cafes_distance} min walk</p></div> : ''}\n                      {formData.pubs_selection ? <div className='poi'><p>🍻 Pubs: {formData.pubs_distance} min walk</p></div> : ''}\n                      {formData.supermarket_selection ? <div className='poi'><p>🛒 Supermarkets: {formData.supermarket_distance} min walk</p></div> : ''}\n                      {formData.gym_selection ? <div className='poi'><p>🏋️‍♂️ Gyms: {formData.gym_distance} min walk</p></div> : ''}\n                      {formData.park_selection ? <div className='poi'><p>🌳 Park: {formData.park_distance} min walk</p></div> : ''}\n                      {formData.workplace_selection ? <div className='poi'><p>✍🏼 Office: {formData.workplace_distance} min walk</p></div> : ''}\n                      {formData.tube_selection ? <div className='poi'><p>🚇 Tube stations: {formData.tube_distance} min walk</p></div> : ''}\n                      {formData.train_selection ? <div className='poi'><p>🚅 Train stations: {formData.train_distance} min walk</p></div> : ''}\n                      {formData.primary_selection ? <div className='poi'><p>🏫 Primary schools: {formData.primary_distance} min walk</p></div> : ''}\n                      {formData.secondary_selection ? <div className='poi'><p>🏫 Secondary schools: {formData.secondary_distance} min walk</p></div> : ''}\n                      {formData.college_selection ? <div className='poi'><p>🏫 6th forms: {formData.college_distance} min walk</p></div> : ''}\n                      {formData.family_selection ? <div className='poi'><p>👨‍👩‍👧‍👦 Friends & family: {formData.family_distance_1} min walk</p></div> : ''}\n                    </div>\n                    <button onClick={handleEditShow} className='edit-button'>Edit</button>\n                    <div className='sidebar-button'>\n                      <button onClick={() => sidebar === 'Open' ? setSidebar('Close') : sidebar}>&#60;</button>\n                    </div>\n                  </section>\n                  :\n                  sidebar === 'Close' ?\n                    <section className='title-section' style={{ width: '0px' }} id='form-buttons'>\n                      <div className=\"closed-sidebar\">\n                        <div className='sidebar-button'>\n                          {/* <button onClick={() => sidebar === 'Close' ? setSidebar('Open') : sidebar}>&#62</button> */}\n                        </div>\n                      </div>\n                    </section>\n                    : ''}\n                {infiniteScrollData ? sidebar === 'Open' ?\n                  <>\n                    <section className='property-results' style={{ marginLeft: '200px' }}>\n                      <div className='property-results-title'>\n                        <div className='title-buttons'>\n                          <button className='modal-map' onClick={handleMapShow} data-toggle='modal' >View on map</button>\n                        </div>\n                        <div className='title-centre'>\n                          {isUserAuth() ? <h1 className='property-count'>{formData.search_name}: {calc10.length} properties</h1> : !isUserAuth() ? <h1 className='property-count'>Wittle Search: {calc10.length} properties</h1> : ''}\n                        </div>\n                      </div>\n                      <div className='property-grid'>\n                        {infiniteScrollData.map((property, index) => {\n                          return (\n                            <>\n                              {/* <div className='property-card' key={index} onClick={setID} id={property.first_match} name={index}> */}\n                              <div className='property-card' key={index} id={property.first_match} name={index}>\n                                <div className='mobile-name'>\n                                  <h2>{property.property_name}</h2>\n                                  <h4 onClick={handleInsightShow} id={property.id}>🔥 {property.first_match}% match</h4>\n                                </div>\n                                <div className='slide-section-desktop'>\n                                  {/* <LazyLoad offset={100}> */}\n                                  <Slide className='slide-import' autoplay={false} transitionDuration={750} arrows={true} indicators={true}>\n                                    {property.property_images.map((images, index) => {\n                                      return (\n                                        <>\n                                          <LazyLoad once={true} offset={100}>\n                                            <div className='image-card' id={property.id} style={{ backgroundImage: `url('${images.url}')` }} key={index}>\n                                              {/* <div className='image-card' id={property.id} key={index}> */}\n                                              {/* <LazyBackgroundImage src={images.url} alt={property.address} /> */}\n\n                                              <div className='property-image-details'>\n                                                {formData.search_channel === 'Renting' ?\n                                                  <h3><NumericFormat value={property.monthly} displayType={'text'} thousandSeparator={true} prefix={'£'} /> pcm</h3>\n                                                  :\n                                                  <h3>Fixed Price: <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </h3>\n                                                }\n                                              </div>\n                                              {listFavourites ?\n                                                <div className='favourite-section' id={property.id} onClick={postFavourite}>\n                                                  {listFavourites.includes(property.id) ?\n                                                    <div className='favourite-button-on' id={property.id} ></div>\n                                                    :\n                                                    <div className='favourite-button-off' id={property.id} ></div>\n                                                  }\n                                                </div>\n                                                : ''}\n                                            </div>\n                                          </LazyLoad>\n                                        </>\n                                      )\n                                    })}\n                                  </Slide>\n\n                                </div>\n                                {/* <div className='detail-section' onClick={setID} id={property.first_match}> */}\n                                <div className='detail-section' id={property.first_match}>\n                                  <Link to={(`/wittle-results/${property.id}`)} style={{ textDecoration: 'none' }}><h2 className='property-desktop' onClick={(e) => window.localStorage.setItem('wittle-current-match', JSON.stringify(e.target.id))} id={property.first_match}>{property.property_name}</h2></Link>\n                                  <h4 className='property-desktop' id={property.id} onClick={handleInsightShow}>🔥 {property.first_match}% match</h4>\n                                  <div className='property-buttons'>\n                                    <h5 onClick={() => setPropertyButtons('Details')} style={{ color: propertyButtons === 'Details' ? '#FFA7E5' : '#051885' }}>Details</h5>\n                                    <h5 onClick={() => setPropertyButtons('Insights')} style={{ color: propertyButtons === 'Insights' ? '#FFA7E5' : '#051885' }}>Insights</h5>\n                                    <h5 onClick={() => setPropertyButtons('Floorplan')} style={{ color: propertyButtons === 'Floorplan' ? '#FFA7E5' : '#051885' }}>Floorplan</h5>\n                                    <h5 onClick={() => setPropertyButtons('Documents')} style={{ color: propertyButtons === 'Documents' ? '#FFA7E5' : '#051885' }}>Documents</h5>\n                                  </div>\n                                  <div className='property-button-expansion'>\n                                    {propertyButtons === 'Details' ?\n                                      <>\n                                        <div className='wittle-all-detail'>\n\n                                          <PropertyDetails\n                                            property={property}\n                                          />\n                                        </div>\n\n                                      </>\n                                      : ''}\n                                    {propertyButtons === 'Insights' ?\n                                      <>\n                                        {formData.restaurant_selection & property.restaurant_chosen === 1 ? <p className='insight-bullets'>👨‍🍳 {property.restaurants.length} restaurants <span>(within {formData.restaurant_distance} min walk)</span></p> : ''}\n                                        {formData.pubs_selection & property.pub_chosen === 1 ? <p className='insight-bullets'>🍻{property.bars.length} bars <span>(within {formData.pubs_distance} min walk)</span></p> : ''}\n                                        {formData.cafes_selection & property.cafe_chosen === 1 ? <p className='insight-bullets'>☕️ {property.cafes.length} cafes <span>(within {formData.cafes_distance} min walk)</span></p> : ''}\n                                        {formData.takeaway_selection & property.takeaway_chosen === 1 ? <p className='insight-bullets'>☕️ {property.takeaways.length} takeaways <span>(within {formData.takeaway_distance} min walk)</span></p> : ''}\n                                        {formData.primary_selection & property.primaries_chosen === 1 ? <p className='insight-bullets'>🏫 {property.primaries.length} primary schools <span>(within {formData.primary_distance} min walk)</span></p> : ''}\n                                        {formData.secondary_selection & property.secondary_chosen === 1 ? <p className='insight-bullets'>🏫 {property.secondaries.length} secondary schools <span>(within {formData.secondary_distance} min walk)</span></p> : ''}\n                                        {formData.college_selection & property.college_chosen === 1 ? <p className='insight-bullets'>🏫 {property.colleges.length} 6th forms <span>(within {formData.college_distance} min walk)</span></p> : ''}\n                                        {formData.supermarket_selection & property.supermarkets_chosen === 1 ? <p className='insight-bullets'>🛒 {property.supermarkets.length} supermarkets <span>(within {formData.supermarket_distance} min walk)</span></p> : ''}\n                                        {formData.gym_selection & property.gym_chosen === 1 ? <p className='insight-bullets'>🏋️‍♂️ {property.gyms.length} gyms <span>(within {formData.gym_distance} min walk)</span></p> : ''}\n                                        {formData.park_selection & property.parks_chosen === 1 ? <p className='insight-bullets'>🌳 {property.parks.length} parks <span>(within {formData.park_distance} min walk)</span></p> : ''}\n                                        {formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Driving/ transport' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_driving_mins} mins drive)</span></p> : formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Cycling' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_cycling_mins} mins cycle)</span></p> : formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Walking' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_walking_mins} mins walk)</span></p> : ''}\n                                        {formData.family_selection & property.family_chosen === 1 & formData.family_mode_1 === 'Driving/ transport' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family1_driving_mins} mins drive)</span></p> : formData.family_selection & property.family1_chosen === 1 & formData.family_mode_1 === 'Cycling' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family1_cycling_mins} mins cycle)</span></p> : formData.family_selection & property.family1_chosen === 1 & formData.family_mode_1 === 'Walking' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family_walking_mins} mins walk)</span></p> : ''}\n                                        {formData.tube_selection & property.tube_chosen === 1 ? <p className='insight-bullets'>🚇 {property.tubes.length} tube stations <span>(within {formData.tube_distance} min walk)</span></p> : ''}\n                                        {formData.train_selection & property.train_chosen === 1 ? <p className='insight-bullets'>🚊 {property.trains.length} train stations <span>(within {formData.train_distance} min walk)</span></p> : ''}\n                                      </>\n                                      : ''}\n                                  </div>\n                                </div>\n                              </div>\n                              <hr className='mobile-line' />\n                            </>\n                          )\n                        })}\n                      </div>\n                    </section>\n                  </>\n                  :\n                  sidebar === 'Close' ?\n                    <>\n                      <section className='property-results' id='close' style={{ marginLeft: '0px' }}>\n                        <div className='property-results-title'>\n                          <div className='title-buttons'>\n                            <button className='filter-button' onClick={() => sidebar === 'Close' ? setSidebar('Open') : sidebar}>My filters</button>\n                            <button className='modal-map' onClick={handleMapShow} data-toggle='modal' >View on map</button>\n                            <button className='mobile-filter-button' onClick={handleSearchShow}>My filters</button>\n\n                          </div>\n                          <div className='title-centre'>\n                            {calc10 && isUserAuth() ? <h1 className='property-count'>{formData.search_name}: {calc10.length} properties</h1> : calc10 && !isUserAuth() ? <h1 className='property-count'>Wittle Search: {calc10.length} properties</h1> : ''}\n                          </div>\n                        </div>\n                        <div className='property-grid'>\n                          {infiniteScrollData.map((property, index) => {\n                            return (\n                              <>\n                                <div className='property-card' key={index} id={property.first_match} name={index}>\n                                  <div className='mobile-name' >\n                                    <Link to={(`/wittle-results/${property.id}`)} style={{ textDecoration: 'none' }}>\n                                      <div className='name-box'>\n                                        <h2 id={property.first_match} onClick={(e) => window.localStorage.setItem('wittle-current-match', JSON.stringify(e.target.id))}>{property.property_name}</h2>\n                                      </div>\n                                    </Link>\n                                    <h4 onClick={handleInsightShow} id={property.id}>🔥 {property.first_match}% match</h4>\n                                  </div>\n                                  {/* <ImageSlider calc10={calc10} formData={formData} listFavourites={listFavourites} postFavourite={postFavourite} /> */}\n                                  <div className='slide-section-desktop'>\n\n                                    {/* <LazyLoad offset={100}> */}\n                                    <Slide className='slide-import' autoplay={false} transitionDuration={750} arrows={true} indicators={true}>\n                                      {property.property_images.map((images, index) => {\n                                        return (\n                                          <>\n                                            <LazyLoad once={true} offset={100}>\n                                              <div className='image-card' id={property.id} style={{ backgroundImage: `url('${images.url}')` }} key={index}>\n                                                <div className='property-image-details'>\n                                                  {formData.search_channel === 'Renting' ?\n                                                    <h3><NumericFormat value={property.monthly} displayType={'text'} thousandSeparator={true} prefix={'£'} /> pcm</h3>\n                                                    :\n                                                    <h3>Fixed Price: <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </h3>\n                                                  }\n                                                </div>\n                                                {listFavourites ?\n                                                  <div className='favourite-section' id={property.id} onClick={postFavourite}>\n                                                    {listFavourites.includes(property.id) ?\n                                                      <div className='favourite-button-on' id={property.id} ></div>\n                                                      :\n                                                      <div className='favourite-button-off' id={property.id} ></div>\n                                                    }\n                                                  </div>\n                                                  : ''}\n                                              </div>\n                                            </LazyLoad>\n                                          </>\n                                        )\n                                      })}\n                                    </Slide>\n                                    {/* </LazyLoad> */}\n\n                                  </div>\n                                  <div className='slide-section-mobile'>\n\n                                    {/* <LazyLoad offset={100}> */}\n                                    <Slide className='slide-import' autoplay={false} transitionDuration={500} arrows={false} indicators={true}>\n                                      {property.property_images.map((images, index) => {\n                                        return (\n                                          <>\n                                            <LazyLoad once={true} offset={100}>\n                                              <div className='image-card' id={property.id} style={{ backgroundImage: `url('${images.url}')` }} key={index}>\n                                                <div className='property-image-details'>\n                                                  {formData.search_channel === 'Renting' ?\n                                                    <h3><NumericFormat value={property.monthly} displayType={'text'} thousandSeparator={true} prefix={'£'} /> pcm</h3>\n                                                    :\n                                                    <h3>Fixed Price: <NumericFormat value={property.value} displayType={'text'} thousandSeparator={true} prefix={'£'} /> </h3>\n                                                  }\n                                                </div>\n                                                {listFavourites ?\n                                                  <div className='favourite-section' id={property.id} onClick={postFavourite}>\n                                                    {listFavourites.includes(property.id) ?\n                                                      <div className='favourite-button-on' id={property.id} ></div>\n                                                      :\n                                                      <div className='favourite-button-off' id={property.id} ></div>\n                                                    }\n                                                  </div>\n                                                  : ''}\n                                              </div>\n                                            </LazyLoad>\n                                          </>\n                                        )\n                                      })}\n                                    </Slide>\n                                    {/* </LazyLoad> */}\n\n                                  </div>\n                                  <div className='detail-section' id={property.first_match}>\n                                    {/* <Link to={(`/wittle-results/${property.id}`)} style={{ textDecoration: 'none' }}><h2 className='property-desktop' id={property.first_match}>{property.property_name}</h2></Link> */}\n                                    <Link to={(`/wittle-results/${property.id}`)} style={{ textDecoration: 'none' }}>\n                                      <div className='name-box'>\n                                        <h2 className='property-desktop' id={property.first_match} onClick={(e) => window.localStorage.setItem('wittle-current-match', JSON.stringify(e.target.id))}>{property.property_name}</h2>\n                                      </div>\n                                    </Link>\n                                    <h4 onClick={handleInsightShow} id={property.id} className='property-desktop'>🔥 {property.first_match}% match</h4>\n                                    <div className='property-buttons'>\n                                      <h5 onClick={() => setPropertyButtons('Details')} style={{ color: propertyButtons === 'Details' ? '#FFA7E5' : '#051885' }}>Details</h5>\n                                      <h5 onClick={() => setPropertyButtons('Insights')} style={{ color: propertyButtons === 'Insights' ? '#FFA7E5' : '#051885' }}>Insights</h5>\n                                      <h5 onClick={() => setPropertyButtons('Floorplan')} style={{ color: propertyButtons === 'Floorplan' ? '#FFA7E5' : '#051885' }}>Floorplan</h5>\n                                      <h5 onClick={() => setPropertyButtons('Documents')} style={{ color: propertyButtons === 'Documents' ? '#FFA7E5' : '#051885' }}>Documents</h5>\n                                    </div>\n                                    <div className='property-button-expansion'>\n                                      {propertyButtons === 'Details' ?\n                                        <>\n                                          <div className='wittle-all-detail'>\n\n                                            <PropertyDetails\n                                              property={property}\n                                            />\n                                          </div>\n                                        </>\n                                        : ''}\n                                      {propertyButtons === 'Insights' ?\n                                        <>\n                                          {formData.restaurant_selection & property.restaurant_chosen === 1 ? <p className='insight-bullets'>👨‍🍳 {property.restaurants.length} restaurants <span>(within {formData.restaurant_distance} min walk)</span></p> : ''}\n                                          {formData.pubs_selection & property.pub_chosen === 1 ? <p className='insight-bullets'>🍻{property.bars.length} bars <span>(within {formData.pubs_distance} min walk)</span></p> : ''}\n                                          {formData.cafes_selection & property.cafe_chosen === 1 ? <p className='insight-bullets'>☕️ {property.cafes.length} cafes <span>(within {formData.cafes_distance} min walk)</span></p> : ''}\n                                          {formData.takeaway_selection & property.takeaway_chosen === 1 ? <p className='insight-bullets'>☕️ {property.takeaways.length} takeaways <span>(within {formData.takeaway_distance} min walk)</span></p> : ''}\n                                          {formData.primary_selection & property.primaries_chosen === 1 ? <p className='insight-bullets'>🏫 {property.primaries.length} primary schools <span>(within {formData.primary_distance} min walk)</span></p> : ''}\n                                          {formData.secondary_selection & property.secondary_chosen === 1 ? <p className='insight-bullets'>🏫 {property.secondaries.length} secondary schools <span>(within {formData.secondary_distance} min walk)</span></p> : ''}\n                                          {formData.college_selection & property.college_chosen === 1 ? <p className='insight-bullets'>🏫 {property.colleges.length} 6th forms <span>(within {formData.college_distance} min walk)</span></p> : ''}\n                                          {formData.supermarket_selection & property.supermarkets_chosen === 1 ? <p className='insight-bullets'>🛒 {property.supermarkets.length} supermarkets <span>(within {formData.supermarket_distance} min walk)</span></p> : ''}\n                                          {formData.gym_selection & property.gym_chosen === 1 ? <p className='insight-bullets'>🏋️‍♂️ {property.gyms.length} gyms <span>(within {formData.gym_distance} min walk)</span></p> : ''}\n                                          {formData.park_selection & property.parks_chosen === 1 ? <p className='insight-bullets'>🌳 {property.parks.length} parks <span>(within {formData.park_distance} min walk)</span></p> : ''}\n                                          {formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Driving/ transport' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_driving_mins} mins drive)</span></p> : formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Cycling' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_cycling_mins} mins cycle)</span></p> : formData.workplace_selection & property.workplace_chosen === 1 & formData.workplace_transport === 'Walking' ? <p className='insight-bullets'>🏢 Office <span>({property.workplace_extra.workplace_walking_mins} mins walk)</span></p> : ''}\n                                          {formData.family_selection & property.family_chosen === 1 & formData.family_mode_1 === 'Driving/ transport' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family1_driving_mins} mins drive)</span></p> : formData.family_selection & property.family1_chosen === 1 & formData.family_mode_1 === 'Cycling' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family1_cycling_mins} mins cycle)</span></p> : formData.family_selection & property.family1_chosen === 1 & formData.family_mode_1 === 'Walking' ? <p className='insight-bullets'>👨‍👩‍👧‍👦 Friends & Fam <span>({property.family1_extra.family_walking_mins} mins walk)</span></p> : ''}\n                                          {formData.tube_selection & property.tube_chosen === 1 ? <p className='insight-bullets'>🚇 {property.tubes.length} tube stations <span>(within {formData.tube_distance} min walk)</span></p> : ''}\n                                          {formData.train_selection & property.train_chosen === 1 ? <p className='insight-bullets'>🚊 {property.trains.length} train stations <span>(within {formData.train_distance} min walk)</span></p> : ''}\n                                        </>\n                                        : ''}\n                                    </div>\n                                  </div>\n                                </div>\n                                <hr className='mobile-line' />\n                              </>\n                            )\n                          })}\n                        </div>\n                      </section>\n                    </>\n                    : '' : ''}\n\n              </section>\n            </InfiniteScroll>\n          </>\n          :\n          <>\n            <section className='loading-screen'>\n              <h1>Wittle magic loading...</h1>\n              <h3>Sit tight while the algorithm does its work. This usually takes about a minute the first time you search.</h3>\n              <Loading />\n\n            </section>\n          </>\n        }\n      </section>\n\n      <div className='property-map-detail'>\n        <AllPropertiesMap\n          calc10={calc10}\n          formData={formData}\n          mapShow={mapShow}\n          handleMapClose={handleMapClose}\n          viewport={viewport}\n          setViewport={setViewport}\n          navigation='wittle-results'\n        />\n      </div>\n\n      <div className='property-insights-container'>\n        {calc10 ?\n          <MatchInsights\n            insightShow={insightShow}\n            handleInsightClose={handleInsightClose}\n            handleInsightShow={handleInsightShow}\n            calc10={calc10}\n            formData={formData}\n            currentId={currentId}\n            insightChange={insightChange}\n            insightToggle={insightToggle}\n          />\n          : ''}\n      </div>\n\n      <div className='edit-modal-section'>\n        <EditSearch\n          editShow={editShow}\n          handleEditClose={handleEditClose}\n          handleEditShow={handleEditShow}\n          editSearch={editSearch}\n          setEditSearch={setEditSearch}\n          handleSearchClose={handleSearchClose}\n          searchShow={searchShow}\n          calc10={calc10}\n          formData={formData}\n          setFormData={setFormData}\n          setErrors={setErrors}\n          setEditShow={setEditShow}\n        />\n      </div>\n\n      <div className='heatmap-section'>\n        <Heatmap\n          heatmapShow={heatmapShow}\n          handleHeatmapClose={handleHeatmapClose}\n          calc11={calc11}\n        />\n      </div>\n\n      <div className='favourites-section'>\n        <Favouriting\n          favouritingShow={favouritingShow}\n          handleFavouriteShow={handleFavouriteShow}\n          handleFavouriteClose={handleFavouriteClose}\n          favourited={favourited}\n          otherFavourites={otherFavourites}\n          currentFavInfo={currentFavInfo}\n          otherFavInfo={otherFavInfo}\n          favouriteAction={favouriteAction}\n          deleteShow={deleteShow}\n          handleDeleteClose={handleDeleteClose}\n          favouriteAuth={favouriteAuth}\n          handleFavAuthClose={handleFavAuthClose}\n          deleted={deleted}\n        />\n      </div>\n    </>\n  )\n\n}\n\nexport default PropertyResultsWittle\n\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { useParams, useNavigate, Link } from 'react-router-dom'\nimport { NumericFormat } from 'react-number-format'\n\n\n\n\nconst PropertyDetails = ({ property }) => {\n\n\n  return (\n    <>\n      <div className='details-and-description'>\n        <div className='property-details-section'>\n          <h5 className='detail-title'>Property details</h5>\n          <div className='property-details-list'>\n            <h5>🏠 {property.type}</h5>\n            <h5>🛌 {property.bedrooms} bedrooms</h5>\n            <h5>🛁 2 bathrooms</h5>\n            <h5>🫴 <NumericFormat value={property.sqft} displayType={'text'} thousandSeparator={true} /> sqft</h5>\n          </div>\n        </div>\n        <div className='property-details-section'>\n          {property.channel === 'Rent' ?\n            <>\n              <h5 className='detail-title'>Letting details</h5>\n              <div className='property-details-list'>\n                <h5>⏰ Available from 12/04/2023</h5>\n                <h5>💷 <NumericFormat value={1500} displayType={'text'} thousandSeparator={true} /> deposit</h5>\n                <h5>🛋 furnished</h5>\n                <h5>⏰ 12 months min tenancy</h5>\n              </div>\n            </>\n            :\n            property.channel === 'Sale' ?\n              <>\n                <h5 className='detail-title'>Additional details</h5>\n                <div className='property-details-list'>\n                  <h5>📝 {property.tenure}</h5>\n                  <h5>🌳 1 acre garden</h5>\n                  <h5>🧾 Council tax band {property.council_tax}</h5>\n                  <h5>🚘 On road parking</h5>\n                </div>\n              </>\n              :\n              ''\n          }\n        </div>\n      </div>\n      <div className='details-and-description'>\n        <p className='description-text'>{property.property_description}</p>\n      </div>\n    </>\n  )\n}\n\nexport default PropertyDetails","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.forceVisible = exports.forceCheck = exports.lazyload = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _event = require('./utils/event');\n\nvar _scrollParent = require('./utils/scrollParent');\n\nvar _scrollParent2 = _interopRequireDefault(_scrollParent);\n\nvar _debounce = require('./utils/debounce');\n\nvar _debounce2 = _interopRequireDefault(_debounce);\n\nvar _throttle = require('./utils/throttle');\n\nvar _throttle2 = _interopRequireDefault(_throttle);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * react-lazyload\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar defaultBoundingClientRect = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0,\n  width: 0,\n  height: 0\n};\nvar LISTEN_FLAG = 'data-lazyload-listened';\nvar listeners = [];\nvar pending = [];\n\n// try to handle passive events\nvar passiveEventSupported = false;\ntry {\n  var opts = Object.defineProperty({}, 'passive', {\n    get: function get() {\n      passiveEventSupported = true;\n    }\n  });\n  window.addEventListener('test', null, opts);\n} catch (e) {}\n// if they are supported, setup the optional params\n// IMPORTANT: FALSE doubles as the default CAPTURE value!\nvar passiveEvent = passiveEventSupported ? { capture: false, passive: true } : false;\n\n/**\n * Check if `component` is visible in overflow container `parent`\n * @param  {node} component React component\n * @param  {node} parent    component's scroll parent\n * @return {bool}\n */\nvar checkOverflowVisible = function checkOverflowVisible(component, parent) {\n  var node = component.ref;\n\n  var parentTop = void 0;\n  var parentLeft = void 0;\n  var parentHeight = void 0;\n  var parentWidth = void 0;\n\n  try {\n    var _parent$getBoundingCl = parent.getBoundingClientRect();\n\n    parentTop = _parent$getBoundingCl.top;\n    parentLeft = _parent$getBoundingCl.left;\n    parentHeight = _parent$getBoundingCl.height;\n    parentWidth = _parent$getBoundingCl.width;\n  } catch (e) {\n    parentTop = defaultBoundingClientRect.top;\n    parentLeft = defaultBoundingClientRect.left;\n    parentHeight = defaultBoundingClientRect.height;\n    parentWidth = defaultBoundingClientRect.width;\n  }\n\n  var windowInnerHeight = window.innerHeight || document.documentElement.clientHeight;\n  var windowInnerWidth = window.innerWidth || document.documentElement.clientWidth;\n\n  // calculate top and height of the intersection of the element's scrollParent and viewport\n  var intersectionTop = Math.max(parentTop, 0); // intersection's top relative to viewport\n  var intersectionLeft = Math.max(parentLeft, 0); // intersection's left relative to viewport\n  var intersectionHeight = Math.min(windowInnerHeight, parentTop + parentHeight) - intersectionTop; // height\n  var intersectionWidth = Math.min(windowInnerWidth, parentLeft + parentWidth) - intersectionLeft; // width\n\n  // check whether the element is visible in the intersection\n  var top = void 0;\n  var left = void 0;\n  var height = void 0;\n  var width = void 0;\n\n  try {\n    var _node$getBoundingClie = node.getBoundingClientRect();\n\n    top = _node$getBoundingClie.top;\n    left = _node$getBoundingClie.left;\n    height = _node$getBoundingClie.height;\n    width = _node$getBoundingClie.width;\n  } catch (e) {\n    top = defaultBoundingClientRect.top;\n    left = defaultBoundingClientRect.left;\n    height = defaultBoundingClientRect.height;\n    width = defaultBoundingClientRect.width;\n  }\n\n  var offsetTop = top - intersectionTop; // element's top relative to intersection\n  var offsetLeft = left - intersectionLeft; // element's left relative to intersection\n\n  var offsets = Array.isArray(component.props.offset) ? component.props.offset : [component.props.offset, component.props.offset]; // Be compatible with previous API\n\n  return offsetTop - offsets[0] <= intersectionHeight && offsetTop + height + offsets[1] >= 0 && offsetLeft - offsets[0] <= intersectionWidth && offsetLeft + width + offsets[1] >= 0;\n};\n\n/**\n * Check if `component` is visible in document\n * @param  {node} component React component\n * @return {bool}\n */\nvar checkNormalVisible = function checkNormalVisible(component) {\n  var node = component.ref;\n\n  // If this element is hidden by css rules somehow, it's definitely invisible\n  if (!(node.offsetWidth || node.offsetHeight || node.getClientRects().length)) return false;\n\n  var top = void 0;\n  var elementHeight = void 0;\n\n  try {\n    var _node$getBoundingClie2 = node.getBoundingClientRect();\n\n    top = _node$getBoundingClie2.top;\n    elementHeight = _node$getBoundingClie2.height;\n  } catch (e) {\n    top = defaultBoundingClientRect.top;\n    elementHeight = defaultBoundingClientRect.height;\n  }\n\n  var windowInnerHeight = window.innerHeight || document.documentElement.clientHeight;\n\n  var offsets = Array.isArray(component.props.offset) ? component.props.offset : [component.props.offset, component.props.offset]; // Be compatible with previous API\n\n  return top - offsets[0] <= windowInnerHeight && top + elementHeight + offsets[1] >= 0;\n};\n\n/**\n * Detect if element is visible in viewport, if so, set `visible` state to true.\n * If `once` prop is provided true, remove component as listener after checkVisible\n *\n * @param  {React} component   React component that respond to scroll and resize\n */\nvar checkVisible = function checkVisible(component) {\n  var node = component.ref;\n  if (!(node instanceof HTMLElement)) {\n    return;\n  }\n\n  var parent = (0, _scrollParent2.default)(node);\n  var isOverflow = component.props.overflow && parent !== node.ownerDocument && parent !== document && parent !== document.documentElement;\n  var visible = isOverflow ? checkOverflowVisible(component, parent) : checkNormalVisible(component);\n  if (visible) {\n    // Avoid extra render if previously is visible\n    if (!component.visible) {\n      if (component.props.once) {\n        pending.push(component);\n      }\n\n      component.visible = true;\n      component.forceUpdate();\n    }\n  } else if (!(component.props.once && component.visible)) {\n    component.visible = false;\n    if (component.props.unmountIfInvisible) {\n      component.forceUpdate();\n    }\n  }\n};\n\nvar purgePending = function purgePending() {\n  pending.forEach(function (component) {\n    var index = listeners.indexOf(component);\n    if (index !== -1) {\n      listeners.splice(index, 1);\n    }\n  });\n\n  pending = [];\n};\n\nvar lazyLoadHandler = function lazyLoadHandler() {\n  for (var i = 0; i < listeners.length; ++i) {\n    var listener = listeners[i];\n    checkVisible(listener);\n  }\n  // Remove `once` component in listeners\n  purgePending();\n};\n\n/**\n * Forces the component to display regardless of whether the element is visible in the viewport.\n */\nvar forceVisible = function forceVisible() {\n  for (var i = 0; i < listeners.length; ++i) {\n    var listener = listeners[i];\n    listener.visible = true;\n    listener.forceUpdate();\n  }\n  // Remove `once` component in listeners\n  purgePending();\n};\n\n// Depending on component's props\nvar delayType = void 0;\nvar finalLazyLoadHandler = null;\n\nvar isString = function isString(string) {\n  return typeof string === 'string';\n};\n\nvar LazyLoad = function (_Component) {\n  _inherits(LazyLoad, _Component);\n\n  function LazyLoad(props) {\n    _classCallCheck(this, LazyLoad);\n\n    var _this = _possibleConstructorReturn(this, (LazyLoad.__proto__ || Object.getPrototypeOf(LazyLoad)).call(this, props));\n\n    _this.visible = false;\n    _this.setRef = _this.setRef.bind(_this);\n    return _this;\n  }\n\n  _createClass(LazyLoad, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      // It's unlikely to change delay type on the fly, this is mainly\n      // designed for tests\n      var scrollport = window;\n      var scrollContainer = this.props.scrollContainer;\n\n      if (scrollContainer) {\n        if (isString(scrollContainer)) {\n          scrollport = scrollport.document.querySelector(scrollContainer);\n        }\n      }\n      var needResetFinalLazyLoadHandler = this.props.debounce !== undefined && delayType === 'throttle' || delayType === 'debounce' && this.props.debounce === undefined;\n\n      if (needResetFinalLazyLoadHandler) {\n        (0, _event.off)(scrollport, 'scroll', finalLazyLoadHandler, passiveEvent);\n        (0, _event.off)(window, 'resize', finalLazyLoadHandler, passiveEvent);\n        finalLazyLoadHandler = null;\n      }\n\n      if (!finalLazyLoadHandler) {\n        if (this.props.debounce !== undefined) {\n          finalLazyLoadHandler = (0, _debounce2.default)(lazyLoadHandler, typeof this.props.debounce === 'number' ? this.props.debounce : 300);\n          delayType = 'debounce';\n        } else if (this.props.throttle !== undefined) {\n          finalLazyLoadHandler = (0, _throttle2.default)(lazyLoadHandler, typeof this.props.throttle === 'number' ? this.props.throttle : 300);\n          delayType = 'throttle';\n        } else {\n          finalLazyLoadHandler = lazyLoadHandler;\n        }\n      }\n\n      if (this.props.overflow) {\n        var parent = (0, _scrollParent2.default)(this.ref);\n        if (parent && typeof parent.getAttribute === 'function') {\n          var listenerCount = 1 + +parent.getAttribute(LISTEN_FLAG);\n          if (listenerCount === 1) {\n            parent.addEventListener('scroll', finalLazyLoadHandler, passiveEvent);\n          }\n          parent.setAttribute(LISTEN_FLAG, listenerCount);\n        }\n      } else if (listeners.length === 0 || needResetFinalLazyLoadHandler) {\n        var _props = this.props,\n            scroll = _props.scroll,\n            resize = _props.resize;\n\n\n        if (scroll) {\n          (0, _event.on)(scrollport, 'scroll', finalLazyLoadHandler, passiveEvent);\n        }\n\n        if (resize) {\n          (0, _event.on)(window, 'resize', finalLazyLoadHandler, passiveEvent);\n        }\n      }\n\n      listeners.push(this);\n      checkVisible(this);\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate() {\n      return this.visible;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.props.overflow) {\n        var parent = (0, _scrollParent2.default)(this.ref);\n        if (parent && typeof parent.getAttribute === 'function') {\n          var listenerCount = +parent.getAttribute(LISTEN_FLAG) - 1;\n          if (listenerCount === 0) {\n            parent.removeEventListener('scroll', finalLazyLoadHandler, passiveEvent);\n            parent.removeAttribute(LISTEN_FLAG);\n          } else {\n            parent.setAttribute(LISTEN_FLAG, listenerCount);\n          }\n        }\n      }\n\n      var index = listeners.indexOf(this);\n      if (index !== -1) {\n        listeners.splice(index, 1);\n      }\n\n      if (listeners.length === 0 && typeof window !== 'undefined') {\n        (0, _event.off)(window, 'resize', finalLazyLoadHandler, passiveEvent);\n        (0, _event.off)(window, 'scroll', finalLazyLoadHandler, passiveEvent);\n      }\n    }\n  }, {\n    key: 'setRef',\n    value: function setRef(element) {\n      if (element) {\n        this.ref = element;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props2 = this.props,\n          height = _props2.height,\n          children = _props2.children,\n          placeholder = _props2.placeholder,\n          className = _props2.className,\n          classNamePrefix = _props2.classNamePrefix,\n          style = _props2.style;\n\n\n      return _react2.default.createElement(\n        'div',\n        { className: classNamePrefix + '-wrapper ' + className, ref: this.setRef, style: style },\n        this.visible ? children : placeholder ? placeholder : _react2.default.createElement('div', {\n          style: { height: height },\n          className: classNamePrefix + '-placeholder'\n        })\n      );\n    }\n  }]);\n\n  return LazyLoad;\n}(_react.Component);\n\nLazyLoad.propTypes = {\n  className: _propTypes2.default.string,\n  classNamePrefix: _propTypes2.default.string,\n  once: _propTypes2.default.bool,\n  height: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]),\n  offset: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.arrayOf(_propTypes2.default.number)]),\n  overflow: _propTypes2.default.bool,\n  resize: _propTypes2.default.bool,\n  scroll: _propTypes2.default.bool,\n  children: _propTypes2.default.node,\n  throttle: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.bool]),\n  debounce: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.bool]),\n  placeholder: _propTypes2.default.node,\n  scrollContainer: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.object]),\n  unmountIfInvisible: _propTypes2.default.bool,\n  style: _propTypes2.default.object\n};\n\nLazyLoad.defaultProps = {\n  className: '',\n  classNamePrefix: 'lazyload',\n  once: false,\n  offset: 0,\n  overflow: false,\n  resize: false,\n  scroll: true,\n  unmountIfInvisible: false\n};\n\nvar getDisplayName = function getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n};\n\nvar decorator = function decorator() {\n  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return function lazyload(WrappedComponent) {\n    return function (_Component2) {\n      _inherits(LazyLoadDecorated, _Component2);\n\n      function LazyLoadDecorated() {\n        _classCallCheck(this, LazyLoadDecorated);\n\n        var _this2 = _possibleConstructorReturn(this, (LazyLoadDecorated.__proto__ || Object.getPrototypeOf(LazyLoadDecorated)).call(this));\n\n        _this2.displayName = 'LazyLoad' + getDisplayName(WrappedComponent);\n        return _this2;\n      }\n\n      _createClass(LazyLoadDecorated, [{\n        key: 'render',\n        value: function render() {\n          return _react2.default.createElement(\n            LazyLoad,\n            options,\n            _react2.default.createElement(WrappedComponent, this.props)\n          );\n        }\n      }]);\n\n      return LazyLoadDecorated;\n    }(_react.Component);\n  };\n};\n\nexports.lazyload = decorator;\nexports.default = LazyLoad;\nexports.forceCheck = lazyLoadHandler;\nexports.forceVisible = forceVisible;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = debounce;\nfunction debounce(func, wait, immediate) {\n  var timeout = void 0;\n  var args = void 0;\n  var context = void 0;\n  var timestamp = void 0;\n  var result = void 0;\n\n  var later = function later() {\n    var last = +new Date() - timestamp;\n\n    if (last < wait && last >= 0) {\n      timeout = setTimeout(later, wait - last);\n    } else {\n      timeout = null;\n      if (!immediate) {\n        result = func.apply(context, args);\n        if (!timeout) {\n          context = null;\n          args = null;\n        }\n      }\n    }\n  };\n\n  return function debounced() {\n    context = this;\n    args = arguments;\n    timestamp = +new Date();\n\n    var callNow = immediate && !timeout;\n    if (!timeout) {\n      timeout = setTimeout(later, wait);\n    }\n\n    if (callNow) {\n      result = func.apply(context, args);\n      context = null;\n      args = null;\n    }\n\n    return result;\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.on = on;\nexports.off = off;\nfunction on(el, eventName, callback, opts) {\n  opts = opts || false;\n  if (el.addEventListener) {\n    el.addEventListener(eventName, callback, opts);\n  } else if (el.attachEvent) {\n    el.attachEvent(\"on\" + eventName, function (e) {\n      callback.call(el, e || window.event);\n    });\n  }\n}\n\nfunction off(el, eventName, callback, opts) {\n  opts = opts || false;\n  if (el.removeEventListener) {\n    el.removeEventListener(eventName, callback, opts);\n  } else if (el.detachEvent) {\n    el.detachEvent(\"on\" + eventName, callback);\n  }\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n/**\n * @fileOverview Find scroll parent\n */\n\nexports.default = function (node) {\n  if (!(node instanceof HTMLElement)) {\n    return document.documentElement;\n  }\n\n  var excludeStaticParent = node.style.position === 'absolute';\n  var overflowRegex = /(scroll|auto)/;\n  var parent = node;\n\n  while (parent) {\n    if (!parent.parentNode) {\n      return node.ownerDocument || document.documentElement;\n    }\n\n    var style = window.getComputedStyle(parent);\n    var position = style.position;\n    var overflow = style.overflow;\n    var overflowX = style['overflow-x'];\n    var overflowY = style['overflow-y'];\n\n    if (position === 'static' && excludeStaticParent) {\n      parent = parent.parentNode;\n      continue;\n    }\n\n    if (overflowRegex.test(overflow) && overflowRegex.test(overflowX) && overflowRegex.test(overflowY)) {\n      return parent;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return node.ownerDocument || node.documentElement || document.documentElement;\n};","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = throttle;\n/*eslint-disable */\nfunction throttle(fn, threshhold, scope) {\n  threshhold || (threshhold = 250);\n  var last, deferTimer;\n  return function () {\n    var context = scope || this;\n\n    var now = +new Date(),\n        args = arguments;\n    if (last && now < last + threshhold) {\n      // hold on to it\n      clearTimeout(deferTimer);\n      deferTimer = setTimeout(function () {\n        last = now;\n        fn.apply(context, args);\n      }, threshhold);\n    } else {\n      last = now;\n      fn.apply(context, args);\n    }\n  };\n}"],"names":["className","src","require","alt","navbarColour","navigate","useNavigate","style","backgroundColor","onClick","isUserAuth","token","localStorage","removeItem","window","location","reload","favouritingShow","handleFavouriteClose","favourited","otherFavourites","currentFavInfo","otherFavInfo","deleteShow","handleDeleteClose","favouriteAuth","handleFavAuthClose","deleted","Modal","show","onHide","backdrop","ModalBody","map","property","index","to","id","backgroundImage","property_image_1","property_name","total_score","search_name","value","displayType","thousandSeparator","prefix","bedrooms","length","fav","first_match","calc11","heatmapShow","handleHeatmapClose","handleHeatmapShow","restaurant_rank_perc","restaurant_rank","pub_rank_perc","pub_rank","cafe_rank_perc","cafe_rank","takeaway_rank_perc","takeaway_rank","gym_rank_perc","gym_rank","supermarket_rank_perc","supermarket_rank","park_rank_perc","park_rank","tube_rank_perc","tube_rank","editSearch","setEditSearch","handleSearchClose","searchShow","calc10","formData","setFormData","setErrors","editShow","setEditShow","handleEditClose","handleEditShow","listFavourites","setListFavourites","useState","properties","setProperties","userData","setUserData","propertySearch","setPropertySearch","initialForm","setInitialForm","localProp","setLocalProp","finalProp","setFinalProp","setResultsToLocalStorage","setItem","JSON","stringify","postEditSearch","async","owner","start_search","search_type","search_channel","restaurant_selection","restaurant_decision","restaurant_distance","restaurant_cuisine_1","restaurant_cuisine_2","takeaway_selection","takeaway_decision","takeaway_distance","takeaway_cuisine_1","takeaway_cuisine_2","pubs_selection","pubs_distance","cafes_selection","cafes_decision","cafes_detail","cafes_distance","tube_selection","tube_decision","tube_detail","tube_distance","train_selection","train_decision","train_detail","train_distance","primary_selection","primary_religion","primary_mode","primary_distance","college_selection","college_religion","college_mode","college_distance","secondary_selection","secondary_religion","secondary_mode","secondary_distance","supermarket_selection","supermarket_decision","supermarket_segment","supermarket_size","supermarket_distance","gym_selection","gym_studio_name","gym_class_type","gym_distance","park_selection","park_type","park_distance","workplace_selection","workplace_detail","workplace_transport","workplace_distance","family_selection","family_detail_1","family_distance_1","family_detail_2","family_distance_2","family_detail_3","family_distance_3","family_mode_1","family_mode_2","family_mode_3","property_price_min","property_price_max","property_bed_min","property_bed_max","property_type","console","log","e","target","data","axios","headers","Authorization","getAccessToken","error","getProperties","getUserToken","property_search_details","favouriteList","favourites","forEach","item","includes","push","input","parse","getItem","loadUserData","tubeDataset","setTubeDataset","stations","setStations","lines","setLines","trains","setTrains","trainStations","setTrainStations","useEffect","getTubes","getTrains","stationList","station","station_name","lineList","line","name","onChange","placeholder","result_id","insightShow","handleInsightClose","currentId","insightChange","insightToggle","filter","restaurants","Array","final_restaurant","choice","selection","takeaways","final_takeaway","bars","final_pub","cafes","final_cafe","primaries","final_primary","primary_rank","secondaries","final_secondary","secondary_rank","supermarkets","final_supermarket","gyms","final_gym","tubes","final_tube","parks","final_park","final_workplace","workplace_rank","final_family1","family1_rank","mapShow","handleMapClose","viewport","setViewport","normalMapShow","normalMapClose","normalHandleMapShow","navigation","mapPropertyShow","setMapProperty","showPopup","setShowPopup","iconId","setIconId","iconSetting","parseInt","mapboxAccessToken","process","mapStyle","onViewportChange","center","onMove","evt","longitude","long","latitude","Lat","titleAccess","onMouseEnter","closeOnClick","extendStatics","d","b","Object","setPrototypeOf","__proto__","p","hasOwnProperty","__assign","assign","t","s","i","n","arguments","prototype","call","apply","this","delay","noTrailing","callback","debounceMode","timeoutID","cancelled","lastExec","clearExistingTimeout","clearTimeout","wrapper","self","elapsed","Date","now","args","exec","clear","undefined","setTimeout","cancel","__","constructor","create","useParams","setCurrentId","setFavourited","setDeleted","setOtherFavourites","favouriteInfo","setFavouriteInfo","setCurrentFavInfo","setOthrFavInfo","favouriteAction","setFavouriteAction","searchName","setSearchName","filteredProperties1","setFilteredProperties1","filteredProperties2","setFilteredProperties2","filteredProperties3","setFilteredProperties3","filteredProperties4","setFilteredProperties4","workFamilyCalc1","setWorkFamilyCalc1","workFamilyCalc2","setWorkFamilyCalc2","calc1","setCalc1","calc2","setCalc2","calc3","setCalc3","calc4","setCalc4","calc5","setCalc5","calc6","setCalc6","calc7","setCalc7","calc8","setCalc8","calc9","setCalc9","setCalc10","setCalc11","errors","propertyButtons","setPropertyButtons","sidebar","setSidebar","workLong","setWorkLong","workLat","setWorkLat","famLong1","setFamLong1","famLat1","setFamLat1","famLong2","setFamLong2","famLat2","setFamLat2","geoData","setGeoData","workRun","setWorkRun","famRun","setFamRun","imageTracking","setImageTracking","currentImage","setCurrentImage","calculationsDone","setCalculationsDone","result","extractFormName","params","min_price","max_price","min_bedrooms","max_bedrooms","channel","restaurants_dist","parseFloat","pubs_dist","cafes_dist","takeaways_dist","gyms_dist","park_dist","supermarkets_dist","primaries_dist","secondaries_dist","colleges_dist","tubes_dist","trains_dist","calculation","colleges","removeEmpties","getResults","monthly","propertyFilter","calculation2","bedroomFilter","type","propertyType","restaurant","walking_time_mins","bar","cafe","shop","gym","park","tube","school","formFilters","postcode","getWork","response","getFam","workplace","workplace_long","workplace_lat","workplace_distance_km","Math","sin","sqrt","cos","PI","family1","family_long","family_lat","family_distance_km","workPlaceCalc1","workplace_cycling_mins","workplace_walking_mins","workplace_driving_mins","workplace_extra","toFixed","family_cycling_mins","family_walking_mins","family_driving_mins","family1_extra","workPlaceCalc2","cuisine_value","cuisine","pub","pub_category_value","pub_category","gym_group_value","gym_group","supermarket","cleansed_name_value","cleansed_name","segment_value","segment","size_value","size","ofsted_value","ofsted_results","calculation1","source_value","source","ofsted_recency_value","ofsted_recncy","ofsted_recency","religion_value","religious_grouping","calculation3","gender_value","gender","calculation4","restaurant_calcs","Rating","restaurant_score","pub_calcs","pub_score","primaries_calcs","primary","primary_score","tubes_calcs","tube_score","cafes_calcs","cafe_score","supermarkets_calcs","supermarket_match","parks_calcs","park_match","gym_calcs","gym_match","train_calcs","train","train_score","secondaries_calcs","secondary","secondary_score","colleges_calcs","college","college_score","takeaway_calcs","wittle_rating","takeaway_score","workplace_score","family1_score","property_images","url","property_image_2","calculation5","restaurant_total","reduce","a","v","pub_total","primaries_total","tubes_total","max","o","cafes_total","supermarkets_total","parks_total","gyms_total","trains_total","secondaries_total","colleges_total","takeaway_total","calculation6","restaurant_max","pub_max","primaries_max","secondaries_max","colleges_max","cafes_max","takeaway_max","restaurant_chosen","pub_chosen","primaries_chosen","cafe_chosen","tube_chosen","supermarkets_chosen","parks_chosen","gym_chosen","secondary_chosen","college_chosen","train_chosen","takeaway_chosen","workplace_chosen","family1_chosen","calculation7","restaurant_perc","pub_perc","primary_perc","tube_perc","cafe_perc","supermarket_perc","park_perc","gym_perc","train_perc","secondary_perc","college_perc","takeaway_perc","workplace_perc","family1_perc","options_chosen","calculation8","final_train","final_college","sort","calculation9","restaurant_ranks","takeaway_ranks","pub_ranks","cafe_ranks","supermarket_ranks","gym_ranks","park_ranks","tube_ranks","train_ranks","primary_ranks","secondary_ranks","college_ranks","workplace_ranks","family1_ranks","average_score","indexOf","train_rank","college_rank","calculation10","newData","top_score","total_properties","calculation11","infiniteScrollData","setInfiniteScrollData","slice","favouriteError","setFavouriteError","postFavourite","propertyData","handleDeleteShow","otherFavouriteIds","otherInfo","additionalData","favourite","searh_type","pubs_score","cafes_score","supermarket_score","gym_score","park_score","restaurant_input","takeaway_input","pubs_input","cafes_input","tube_input","train_input","primary_input","secondary_input","college_input","supermarket_input","gym_input","park_input","workplace_input","friends_input","friends_selection","handleFavouriteShow","handleFavAuthShow","setFavouritingShow","setDeleteShow","setFavouriteAuth","setMapShow","handleMapShow","zoom","setInsightShow","setInsightToggle","handleInsightShow","setSearchShow","setHeatmapShow","NavBar","dataLength","scrollThreshold","next","hasMore","loader","endMessage","textAlign","width","marginLeft","autoplay","transitionDuration","arrows","indicators","images","once","offset","textDecoration","color","PropertyDetails","family_chosen","family1_driving_mins","family1_cycling_mins","Loading","sqft","tenure","council_tax","property_description","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","key","Constructor","protoProps","staticProps","_react","_react2","_interopRequireDefault","_propTypes2","_event","_scrollParent2","_debounce2","_throttle2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","defaultBoundingClientRect","LISTEN_FLAG","listeners","pending","passiveEventSupported","opts","get","addEventListener","passiveEvent","capture","passive","checkVisible","component","node","ref","HTMLElement","parent","visible","overflow","ownerDocument","document","documentElement","parentTop","parentLeft","parentHeight","parentWidth","_parent$getBoundingCl","getBoundingClientRect","top","left","height","windowInnerHeight","innerHeight","clientHeight","windowInnerWidth","innerWidth","clientWidth","intersectionTop","intersectionLeft","intersectionHeight","min","intersectionWidth","_node$getBoundingClie","offsetTop","offsetLeft","offsets","isArray","checkOverflowVisible","offsetWidth","offsetHeight","getClientRects","elementHeight","_node$getBoundingClie2","checkNormalVisible","forceUpdate","unmountIfInvisible","purgePending","splice","lazyLoadHandler","listener","delayType","finalLazyLoadHandler","LazyLoad","_Component","_this","getPrototypeOf","setRef","bind","scrollport","scrollContainer","querySelector","needResetFinalLazyLoadHandler","debounce","off","throttle","getAttribute","listenerCount","setAttribute","_props","scroll","resize","on","removeEventListener","removeAttribute","element","_props2","children","classNamePrefix","createElement","Component","propTypes","string","bool","oneOfType","number","arrayOf","object","defaultProps","getDisplayName","WrappedComponent","displayName","exports","func","wait","immediate","timeout","context","timestamp","later","last","callNow","el","eventName","attachEvent","event","detachEvent","excludeStaticParent","position","overflowRegex","parentNode","getComputedStyle","overflowX","overflowY","test","fn","threshhold","scope","deferTimer"],"sourceRoot":""}