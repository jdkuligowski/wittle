"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[844,667],{37336:function(e,t,s){s.d(t,{Z:function(){return o}});var i=s(42524),n=s(28381);s(65293);s(63762),s(11535),s(31824);var a=s(29343);var o=e=>{let{setProfileContent:t,profileContent:s,profileDetail:o,setProfileDetail:r}=e;const l=(0,i.s0)(),[c,h]=((0,n.useRef)(null),(0,n.useState)(!1)),[d,u]=(0,n.useState)({email:"",password:"",passwordConfirmation:""}),[p,m]=(0,n.useState)("password"),[g,f]=(0,n.useState)("password"),[x,b]=(0,n.useState)(!1),[y,k]=(0,n.useState)(!1),[w,j]=(0,n.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[v,M]=(0,n.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),[_,C]=(0,n.useState)("#051885"),[F,S]=(0,n.useState)("#FFA7E5"),[N,E]=(0,n.useState)("#FFA7E5");return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("section",{className:"centered-nav-bar",style:{backgroundColor:_},children:[(0,a.jsx)("section",{className:"top-section",children:(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)("h2",{style:{color:F},onClick:()=>l("/"),children:"Wittle"})})}),(0,a.jsxs)("section",{className:"nav-slider",children:[(0,a.jsx)("h4",{style:{color:N,textDecoration:"My properties"===s?`underline 3px ${N}`:"",textUnderlineOffset:"My properties"===s?"5px":""},onClick:()=>{t("My properties"),r("My properties"),l("/agents/profile")},children:"MY PROPERTIES"}),(0,a.jsx)("h4",{style:{color:N,textDecoration:"Variables"===s?`underline 3px ${N}`:"",textUnderlineOffset:"Variables"===s?"5px":""},onClick:()=>{t("Variables"),r("Variables"),l("/agents/explore")},children:"EXPLORE"}),(0,a.jsx)("h4",{style:{color:N,textDecoration:"Comparison"===s?`underline 3px ${N}`:"",textUnderlineOffset:"Comparison"===s?"5px":""},onClick:()=>{t("Comparison"),r("Comparison"),l("/agents/compare")},children:"COMPARISON"}),(0,a.jsx)("h4",{style:{color:N,textDecoration:"Account"===s?`underline 3px ${N}`:"",textUnderlineOffset:"Account"===s?"5px":""},onClick:()=>{t("Account"),r("Account")},children:"ACCOUNT"})]})]})})}},48925:function(e,t,s){s(28381);var i=s(29343);t.Z=e=>{let{setProfileContent:t,profileContent:s,profileDetail:n,setProfileDetail:a}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("div",{className:"mobile-selector-section",children:(0,i.jsx)("div",{className:"mobile-title-slider",children:"Search"===s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Wittle search"),style:{fontWeight:"Wittle search"===n?"700":"500",backgroundColor:"Wittle search"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Wittle search"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Property search"),style:{fontWeight:"Property search"===n?"700":"500",backgroundColor:"Property search"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property search"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Saved properties"),style:{fontWeight:"Saved properties"===n?"700":"500",backgroundColor:"Saved properties"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved properties"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Saved searches"),style:{fontWeight:"Saved searches"===n?"700":"500",backgroundColor:"Saved searches"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved searches"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Property comparison"),style:{fontWeight:"Property comparison"===n?"700":"500",backgroundColor:"Property comparison"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Property comparison"})]}):"Lifestyle"===s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Lifestyle search"),style:{fontWeight:"Lifestyle search"===n?"700":"500",backgroundColor:"Lifestyle search"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Search"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("List"),style:{fontWeight:"List"===n?"700":"500",backgroundColor:"List"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Saved places"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Lifestyle insights"),style:{fontWeight:"Lifestyle insights"===n?"700":"500",backgroundColor:"Lifestyle insights"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Insights"})]}):"Admin"===s?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Admin dashboard"),style:{fontWeight:"Admin dashboard"===n?"700":"500",backgroundColor:"Admin dashboard"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Dashboard"}),(0,i.jsx)("h2",{className:"pills",onClick:()=>a("Admin opportunities"),style:{fontWeight:"Admin opportunities"===n?"700":"500",backgroundColor:"Admin opportunities"===n?"#FFA7E5":"rgba(255, 167, 229, 0.1)"},children:"Opportunity"})]}):""})})})}},8772:function(e,t,s){var i=s(42524),n=(s(28381),s(65293),s(15211)),a=(s(63762),s(31824),s(29343));t.Z=e=>{let{navbarColour:t}=e;const s=(0,i.s0)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("section",{className:"nav-section no-print",style:{backgroundColor:t},children:[(0,a.jsx)("div",{className:"left-section",children:(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)("h2",{onClick:()=>s("/"),children:"Wittle"})})}),(0,n.Hb)()?(0,a.jsx)("div",{className:"menu-container",children:(0,a.jsx)("h3",{className:"cta",onClick:e=>{localStorage.removeItem("wittle-user-token"),localStorage.removeItem("wittle-username"),window.location.reload()},children:(0,a.jsx)("a",{children:"Sign out"})})}):(0,a.jsx)("div",{className:"menu-container",children:(0,a.jsx)("h3",{className:"cta",onClick:()=>s("/login"),children:(0,a.jsx)("a",{children:"Sign in"})})})]})})}},59693:function(e,t,s){var i=s(42524),n=(s(28381),s(29343));t.Z=e=>{let{setProfileDetail:t,variableSide:s,setProfileContent:a,setVariableSide:o,userData:r}=e;const l=(0,i.s0)();return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("section",{className:"profile-sidebar-open no-print remove-margin",children:[(0,n.jsx)("div",{className:"logo",children:(0,n.jsx)("h2",{onClick:()=>l("/"),children:"Wittle"})}),(0,n.jsxs)("div",{className:"profile-buttons",children:[(0,n.jsx)("div",{className:"profile-button-title",children:(0,n.jsx)("h2",{onClick:()=>{t("Home"),a("Home"),l("/agents/profile")},children:"\ud83e\uddd8\u200d\u2642\ufe0f Wittle home"})}),(0,n.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,n.jsx)("h2",{onClick:()=>{t("My properties"),a("My properties"),l("/agents/properties")},children:"\ud83c\udfe1 My property list"})}),(0,n.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,n.jsx)("h2",{onClick:()=>{t("Listing generator"),a("Listing generator"),l("/agents/listing-generator")},children:"\ud83e\udde0 Listing generator"})}),(0,n.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,n.jsx)("h2",{onClick:()=>{a("Property finder"),t("Property finder"),l("/agents/finder")},children:"\ud83d\udd0e Property finder"})})]})]})})}},97844:function(e,t,s){s.r(t);var i=s(28381),n=s(65293),a=s(42524),o=s(15211),r=(s(47142),s(95325),s(48925),s(8772)),l=s(59693),c=s(37336),h=s(50964),d=s(29343);n.ZP.defaults.xsrfCookieName="csrftoken",n.ZP.defaults.xsrfHeaderName="X-CSRFToken";t.default=()=>{const e=(0,a.s0)(),[t,s]=(0,i.useState)(),[u,p]=(0,i.useState)(),[m,g]=(0,i.useState)(),f=(0,i.useRef)(null),[x,b]=(0,i.useState)(!1),[y,k]=(0,i.useState)("Listing generator"),[w,j]=(0,i.useState)("Listing generator"),[v,M]=(0,i.useState)("Property insights"),[_,C]=(0,i.useState)(""),[F,S]=(0,i.useState)({postcode:"",description:"",bedrooms:"",bathrooms:"",property_type:"",tenure:"",size:"",on_road_parking:"",off_road_parking:"",balcony:"",primary_schools:0,secondary_schools:0,tubes:0,trains:0,restaurants:0,pubs:0,supermarkets:0,gyms:0,parks:0,evs:0,crime:0}),[N,E]=(0,i.useState)(),[P,T]=(0,i.useState)(),[A,D]=(0,i.useState)(),[L,W]=(0,i.useState)(),[Z,R]=(0,i.useState)(),[O,I]=(0,i.useState)(),[U,q]=(0,i.useState)(),[H,V]=(0,i.useState)(),[z,B]=(0,i.useState)(),[$,X]=(0,i.useState)(),[Y,G]=(0,i.useState)(),[K,J]=(0,i.useState)(),[Q,ee]=(0,i.useState)(),[te,se]=(0,i.useState)(),[ie,ne]=(0,i.useState)(),[ae,oe]=(0,i.useState)(),[re,le]=(0,i.useState)(),[ce,he]=(0,i.useState)(),[de,ue]=(0,i.useState)([]),[pe,me]=(0,i.useState)([]),[ge,fe]=(0,i.useState)([]),[xe,be]=(0,i.useState)([]),[ye,ke]=(0,i.useState)(),[we,je]=(0,i.useState)(),[ve,Me]=(0,i.useState)(),[_e,Ce]=(0,i.useState)();(0,i.useEffect)((()=>{N&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/primaries/");T(e)})()}catch(e){s(!0),console.log(e)}})()}),[N]);const Fe=20/60*5,Se=6371,Ne=e=>e*Math.PI/180,Ee=5/60;(0,i.useEffect)((()=>{P&&(()=>{const e=P.filter((e=>{const t=Ne(parseFloat(e.latitude)-parseFloat(N[0].longitude)),s=Ne(parseFloat(e.longitude)-parseFloat(N[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ne(parseFloat(N[0].longitude)))*Math.cos(Ne(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Se*n;e.distance_between=a,e.walkTimeMin=Math.round(a/Ee);const o=a/e.max_distance;return"Independent school"===e.school_type||"Special school"===e.school_type||"On request"===e.max_distance?e.within_catchment="N/a":"Based on map"===e.additional_status?e.within_catchment="Check catchment map":"Religion"===e.max_distance&e.distance_between<.6?e.within_catchment="Very likely if religious critera met":"Religion"===e.max_distance&e.distance_between<.8?e.within_catchment="Likely if religious critera met":"Religion"===e.max_distance&e.distance_between<1?e.within_catchment="Probably if religious critera met":"Religion"===e.max_distance&e.distance_between<1.5?e.within_catchment="Unlikely, even if religious critera met":"Religion"===e.max_distance&e.distance_between>1.5?e.within_catchment="Very unlikely, even if religious critera met":"Not specified"===e.max_distance&e.distance_between<.4?e.within_catchment="Very likely but no distance specified":"Not specified"===e.max_distance&e.distance_between<.7?e.within_catchment="Likely but no distance specified":"Not specified"===e.max_distance&e.distance_between<1?e.within_catchment="Probably but no distance specified":"Not specified"===e.max_distance&e.distance_between>1?e.within_catchment="Unlikely, but no distance specified":null===e.max_distance&e.distance_between<.6?e.within_catchment="Very likely, but no distance data available":null===e.max_distance&e.distance_between<.8?e.within_catchment="Likely, but no distance data available":null===e.max_distance&e.distance_between<1?e.within_catchment="Probably, but no distance data available":null===e.max_distance&e.distance_between<1.5?e.within_catchment="Unlikely, but no distance data available":null===e.max_distance&e.distance_between>1.5?e.within_catchment="Very unlikely, but no distance data available":o<=.6?e.within_catchment="Yes":o<=.8?e.within_catchment="Very likely":o<=1?e.within_catchment="Probably":o<=1.2?e.within_catchment="Probably not":"Does not apply"===e.max_distance?e.within_catchment="Yes":e.within_catchment="No",a<=Fe})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,8);I(t),D(e),console.log("nearby primaries ->",e)})()}),[P]);(0,i.useEffect)((()=>{N&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/secondaries/");W(e)})()}catch(e){s(!0),console.log(e)}})()}),[N]);(0,i.useEffect)((()=>{L&&(()=>{const e=L.filter((e=>{const t=Ne(parseFloat(e.latitude)-parseFloat(N[0].longitude)),s=Ne(parseFloat(e.longitude)-parseFloat(N[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ne(parseFloat(N[0].longitude)))*Math.cos(Ne(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Se*n;e.distance_between=a,e.walkTimeMin=Math.round(a/Ee);const o=a/e.max_distance,r=a/e.min_distance;return e.school_type.includes("independent")||e.school_type.includes("special")?e.within_catchment="N/a":"Exam"===e.max_distance||"Test score"===e.max_distance?e.within_catchment="Dependent on test results":"Random"===e.max_distance?e.within_catchment="Random selection based on performance":"Catchment score"===e.max_distance?e.within_catchment="School uses catchment score - check":"Based on map"===e.max_distance?e.within_catchment="Check catchment map":"Religion"===e.max_distance&e.distance_between<.7?e.within_catchment="Very likely if religious critera met":"Religion"===e.max_distance&e.distance_between<.9?e.within_catchment="Likely if religious critera met":"Religion"===e.max_distance&e.distance_between<1.5?e.within_catchment="Probably if religious critera met":"Religion"===e.max_distance&e.distance_between>1.5?e.within_catchment="Unlikely, even if religious critera met":"Does not apply"===e.max_distance||null!==e.min_distance&r<=1?e.within_catchment="Yes":null!==e.min_distance&o<=.5?e.within_catchment="Very likely":null!==e.min_distance&o<=.7?e.within_catchment="Probably":e.within_catchment=o<=.6?"Yes":o<=.8?"Very likely":o<=1?"Probably":o<=1.2?"Probably not":"No",a<=2.5})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,8);q(t),R(e),console.log("nearby secondaries ->",e)})()}),[L]);(0,i.useEffect)((()=>{N&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/restaurants/");V(e)})()}catch(e){s(!0),console.log(e)}})()}),[N]);const Pe=1.25;(0,i.useEffect)((()=>{H&&(()=>{const e=H.filter((e=>{const t=Ne(parseFloat(e.latitude)-parseFloat(N[0].longitude)),s=Ne(parseFloat(e.longitude)-parseFloat(N[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ne(parseFloat(N[0].longitude)))*Math.cos(Ne(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Se*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ee),a<=Pe})).sort(((e,t)=>t.rating-e.rating)),t=e.filter((e=>"No Cuisine Data"!==e.cuisine)).slice(0,3).map((e=>e.restaurant_name));he((e=>new Set(e.map((e=>e.cuisine))).size)(e)),ee(e),ue(t),console.log("Nearby restaurants ->",e)})()}),[H]);(0,i.useEffect)((()=>{N&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/gyms/");console.log("gyms data ->",e),B(e)})()}catch(e){s(!0),console.log(e)}})()}),[N]);(0,i.useEffect)((()=>{z&&(()=>{const e=["third space","pure gym","1 rebel","virgin","barry's","the gym group"],t=new Set,s=z.filter((e=>{const t=Ne(parseFloat(e.Lat)-parseFloat(N[0].longitude)),s=Ne(parseFloat(e.long)-parseFloat(N[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ne(parseFloat(N[0].longitude)))*Math.cos(Ne(parseFloat(e.Lat)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Se*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ee),a<=Pe})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),i=[];for(let n=0;n<s.length;n++){const a=s[n];if(a.gym_group&&e.includes(a.gym_group.toLowerCase())&&!t.has(a.gym_group)&&(i.push(a.gym_group),t.add(a.gym_group),3===i.length))break}se(s),fe(i)})()}),[z]);(0,i.useEffect)((()=>{N&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/supermarkets/");G(e)})()}catch(e){s(!0),console.log(e)}})()}),[N]);(0,i.useEffect)((()=>{Y&&(()=>{const e=["m&s","waitrose","aldi","lidl","sainsburys","tesco","asda"],t=new Set,s=Y.map((e=>{const t=Ne(parseFloat(e.latitude)-parseFloat(N[0].longitude)),s=Ne(parseFloat(e.longitude)-parseFloat(N[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ne(parseFloat(N[0].longitude)))*Math.cos(Ne(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Se*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ee),{...e,distance:a}})).filter((e=>e.distance<=Pe)),i=[];for(let n=0;n<s.length;n++){const a=s[n];if(e.includes(a.supermarket_brand.toLowerCase())&&!t.has(a.supermarket_store_name)&&(i.push(a.supermarket_store_name),t.add(a.supermarket_store_name),3===i.length))break}oe(s),be(i),console.log("Nearby supermarkets ->",s)})()}),[Y]);(0,i.useEffect)((()=>{N&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/tubes/");ke(e)})()}catch(e){s(!0),console.log(e)}})()}),[N]);(0,i.useEffect)((()=>{ye&&(()=>{const e=ye.filter((e=>{const t=Ne(parseFloat(e.lat)-parseFloat(N[0].longitude)),s=Ne(parseFloat(e.long)-parseFloat(N[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ne(parseFloat(N[0].longitude)))*Math.cos(Ne(parseFloat(e.lat)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Se*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ee),a<=Fe})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));Me(e),console.log("Nearby tubes ->",e)})()}),[ye]);(0,i.useEffect)((()=>{N&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/evs/");console.log("ev data ->",e),J(e)})()}catch(e){s(!0),console.log(e)}})()}),[N]);(0,i.useEffect)((()=>{K&&(()=>{const e=K.filter((e=>{const t=Ne(parseFloat(e.latitude)-parseFloat(N[0].longitude)),s=Ne(parseFloat(e.longitude)-parseFloat(N[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ne(parseFloat(N[0].longitude)))*Math.cos(Ne(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Se*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ee),a<=.8333333333333333})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));le(e)})()}),[K]);(0,i.useEffect)((()=>{N&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/pubs/");console.log("pub data ->",e),X(e)})()}catch(e){s(!0),console.log(e)}})()}),[N]);(0,i.useEffect)((()=>{$&&(()=>{const e=$.filter((e=>{const t=Ne(parseFloat(e.latitude)-parseFloat(N[0].longitude)),s=Ne(parseFloat(e.longitude)-parseFloat(N[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ne(parseFloat(N[0].longitude)))*Math.cos(Ne(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Se*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ee),a<=Pe})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,3).map((e=>e.name));ne(e),me(t),console.log("Nearby pubs ->",e)})()}),[$]);(0,i.useEffect)((()=>{N&&(()=>{try{(async()=>{const{data:e}=await n.ZP.get("/api/trains/");console.log("trains data ->",e),je(e)})()}catch(e){s(!0),console.log(e)}})()}),[N]);(0,i.useEffect)((()=>{we&&(()=>{const e=we.filter((e=>{const t=Ne(parseFloat(e.latitude)-parseFloat(N[0].longitude)),s=Ne(parseFloat(e.longitude)-parseFloat(N[0].latitude)),i=Math.sin(t/2)*Math.sin(t/2)+Math.cos(Ne(parseFloat(N[0].longitude)))*Math.cos(Ne(parseFloat(e.latitude)))*Math.sin(s/2)*Math.sin(s/2),n=2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i)),a=Se*n;return e.distance_between=a,e.walkTimeMin=Math.round(a/Ee),a<=Fe})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));Ce(e),console.log("Nearby trains ->",e)})()}),[we]);const Te=e=>{S((t=>({...t,[e]:1===t[e]?0:1})))},Ae=async()=>{console.log("trying to increase");try{const{data:e}=await n.ZP.post("/api/usage/listing",{},{headers:{Authorization:`Bearer ${(0,o.hP)()}`}});console.log(e),"success"===e.status?console.log("Usage count increased successfully"):console.error("Failed to increase usage count:",e.message)}catch(e){console.error("Error:",e)}};return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("section",{className:"agent-profile-page",children:[(0,d.jsx)("div",{className:"desktop-nav",children:(0,d.jsx)(r.Z,{navbarColour:"#FDF7F0"})}),(0,d.jsx)("div",{className:"mobile-nav",children:(0,d.jsx)(c.Z,{setProfileContent:k,profileContent:y,profileDetail:w,setProfileDetail:j})}),(0,d.jsx)(l.Z,{setProfileDetail:j,setProfileContent:k,userData:u}),(0,d.jsxs)("section",{className:"listing-generator",children:[(0,d.jsxs)("div",{className:"listing-options",children:[(0,d.jsx)("h5",{className:"no-print",onClick:()=>M("Property insights"),style:{textDecoration:"Property insights"===v?"underline 3px #FFA7E5":"none",textUnderlineOffset:"Property insights"===v?"0.5em":"initial",fontWeight:"Property insights"===v?"700":"400"},children:"Property insights"}),(0,d.jsx)("h5",{className:"no-print",onClick:()=>M("Listing generator"),style:{textDecoration:"Listing generator"===v?"underline 3px #FFA7E5":"none",textUnderlineOffset:"Listing generator"===v?"0.5em":"initial",fontWeight:"Listing generator"===v?"700":"400"},children:"Listing generator"})]}),(0,d.jsxs)("div",{className:"listing-wrapper",children:[(0,d.jsx)("div",{className:"insight-inputs",children:"Property insights"===v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:"Insert full postcode to extract details about property"}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udccd Postcode"}),(0,d.jsx)("input",{type:"text",value:_,onChange:e=>C(e.target.value.toUpperCase().replace(/\s+/g,"")),placeholder:"Enter postcode..."})]}),(0,d.jsx)("button",{onClick:()=>{Ae(),e(`/agents/property/${_}`)},children:"See insights"})]}):"Listing generator"===v?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("h3",{children:"Input details and select features you want to include your listing"}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udccd Postcode"}),(0,d.jsx)("input",{type:"text",value:_,onChange:e=>C(e.target.value.toUpperCase().replace(/\s+/g,"")),placeholder:"Enter postcode..."})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\u270d\ud83c\udffc Description"}),(0,d.jsx)("textarea",{id:"description",value:F.description,rows:"5",placeholder:"Enter your description here...",onChange:e=>S((t=>({...t,description:e.target.value})))})]}),(0,d.jsx)("h3",{className:"lifestyle-indicator",children:"Lifestyle elements to include"}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\udc76 Primary schools"}),(0,d.jsx)(h.Z,{checked:1===F.primary_schools,onChange:()=>Te("primary_schools"),onColor:"#FFA7E5",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf93 Secondary schools"}),(0,d.jsx)(h.Z,{checked:1===F.secondary_schools,onChange:()=>Te("secondary_schools"),onColor:"#FFA7E5",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\ude87 Tubes"}),(0,d.jsx)(h.Z,{checked:1===F.tubes,onChange:()=>Te("tubes"),onColor:"#FFA7E5",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\ude88 Trains"}),(0,d.jsx)(h.Z,{checked:1===F.trains,onChange:()=>Te("trains"),onColor:"#FFA7E5",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\u26fd\ufe0f Electric vehicles"}),(0,d.jsx)(h.Z,{checked:1===F.evs,onChange:()=>Te("evs"),onColor:"#FFA7E5",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf7d Restaurants"}),(0,d.jsx)(h.Z,{checked:1===F.restaurants,onChange:()=>Te("restaurants"),onColor:"#FFA7E5",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf7a Pubs"}),(0,d.jsx)(h.Z,{checked:1===F.pubs,onChange:()=>Te("pubs"),onColor:"#FFA7E5",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udf33 Parks"}),(0,d.jsx)(h.Z,{checked:1===F.parks,onChange:()=>Te("parks"),onColor:"#FFA7E5",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f Gyms"}),(0,d.jsx)(h.Z,{checked:1===F.gyms,onChange:()=>Te("gyms"),onColor:"#FFA7E5",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\uded2 Supermarkets"}),(0,d.jsx)(h.Z,{checked:1===F.supermarkets,onChange:()=>Te("supermarkets"),onColor:"#FFA7E5",offColor:"#051885"})]}),(0,d.jsxs)("div",{className:"input-block",children:[(0,d.jsx)("h3",{children:"\ud83d\ude94 Crime"}),(0,d.jsx)(h.Z,{checked:1===F.crime,onChange:()=>Te("crime"),onColor:"#FFA7E5",offColor:"#051885"})]}),(0,d.jsx)("button",{onClick:()=>{try{(async()=>{const{data:e}=await n.ZP.get(`/api/postcodes/${_}`);console.log("postcode data ->",e),E(e)})(),Ae()}catch(e){s(!0),console.log(e)}},children:"Load description"})]}):""}),(0,d.jsxs)("div",{className:"insight-inputs",children:[N?(0,d.jsxs)("div",{className:"results-header",children:[(0,d.jsx)("h3",{className:"results-title",children:"Your listing"}),(0,d.jsx)("h3",{onClick:()=>{const e=f.current.innerText,t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},className:"copy-button",children:"\ud83d\udcd1"})]}):"",(0,d.jsx)("div",{className:"input-block",ref:f,children:(0,d.jsxs)("div",{className:"results-box",name:"description",children:[N&&""!==F.description?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h1",{children:"About this property"}),(0,d.jsx)("p",{children:F.description})]})}):"",N?(0,d.jsx)("h1",{children:"What you should know about this area"}):"",Q&&1===F.restaurants?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Restaurants"}),(0,d.jsxs)("h5",{children:["\ud83c\udf7d ",Q.length," restaurants within 15 mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf7d more than ",ce," cuisines available"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf7d ",de[0],", ",de[1]," & ",de[2]," are well rated"]})]})}):"",ie&&1===F.pubs?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Pubs"}),(0,d.jsxs)("h5",{children:["\ud83c\udf7a ",ie.length," pubs within 15 mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf7a ",pe[0],", ",pe[1]," & ",pe[2]," are well rated"]})]})}):"",te&&1===F.gyms?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Gyms"}),(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f ",te.length," gyms within 15 mins walk"]}),3===ge.length?(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f includes ",ge[0],", ",ge[1]," & ",ge[2]]}):2===ge.length?(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f includes ",ge[0]," & ",ge[1]," "]}):1===ge.length?(0,d.jsxs)("h5",{children:["\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f includes ",ge[0]]}):""]})}):"",ae&&1===F.supermarkets?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Supermarkets"}),(0,d.jsxs)("h5",{children:["\ud83d\uded2 ",ae.length," supermarkets within 15 mins walk"]}),3===xe.length?(0,d.jsxs)("h5",{children:["\ud83d\uded2 includes ",xe[0],", ",xe[1]," & ",xe[2]]}):2===xe.length?(0,d.jsxs)("h5",{children:["\ud83d\uded2 includes ",xe[0]," & ",xe[1]," "]}):1===xe.length?(0,d.jsxs)("h5",{children:["\ud83d\uded2 includes ",xe[0]]}):""]})}):"",ve&&1===F.tubes?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Tube stations"}),(0,d.jsxs)("h5",{children:["\ud83d\ude87 ",ve.length," stations within 20 mins walk"]}),ve.slice(0,5).map(((e,t)=>(0,d.jsxs)("h5",{children:["\ud83d\ude87 ",e.station_name," - ",e.line," - ",e.walkTimeMin," mins walk"]},t)))]})}):"",_e&&1===F.trains?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Train stations"}),(0,d.jsxs)("h5",{children:["\ud83d\ude88 ",_e.length," stations within 20 mins walk"]}),_e.slice(0,5).map(((e,t)=>(0,d.jsxs)("h5",{children:["\ud83d\ude88 ",e.station," - ",e.walkTimeMin," mins walk"]},t)))]})}):"",N&&1===F.parks?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Green space"}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 within top ",100-N[0].parks_lsoa[0].london_percentile,"% of areas in london for access to greenspace"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 ",N[0].parks_postcode.park_name0," - ",Math.ceil(N[0].parks_postcode.distance0/1e3/5*60)," mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 ",N[0].parks_postcode.park_name1," - ",Math.ceil(N[0].parks_postcode.distance1/1e3/5*60)," mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83c\udf33 ",N[0].parks_postcode.park_name2," - ",Math.ceil(N[0].parks_postcode.distance2/1e3/5*60)," mins walk"]})]})}):"",N&&1===F.evs?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Electric vehicles"}),(0,d.jsxs)("h5",{children:["\ud83d\ude87 ",N[0].ev.ev_10_mins," charging points within 10 mins walk"]}),(0,d.jsxs)("h5",{children:["\ud83d\ude87 in the top ",Math.round(100*(1-N[0].ev.percentile)),"% of areas in London for ev charging access"]})]})}):"",A&&1===F.primary_schools?(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"lifestyle-block",children:[(0,d.jsx)("h4",{children:"Primary schools"}),A.slice(0,5).map(((e,t)=>(0,d.jsxs)("h5",{children:["\ud83d\udc76 ",e.school_name," - ",e.ofsted_results," ofsted - ",e.walkTimeMin," mins walk"]},t)))]})}):""]})})]})]})]})]})})}},50964:function(e,t,s){s.d(t,{Z:function(){return c}});var i=s(28381);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e},n.apply(this,arguments)}var a=i.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},i.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),o=i.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},i.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function r(e){if(7===e.length)return e;for(var t="#",s=1;s<4;s+=1)t+=e[s]+e[s];return t}function l(e,t,s,i,n){return function(e,t,s,i,n){var a=(e-s)/(t-s);if(0===a)return i;if(1===a)return n;for(var o="#",r=1;r<6;r+=2){var l=parseInt(i.substr(r,2),16),c=parseInt(n.substr(r,2),16),h=Math.round((1-a)*l+a*c).toString(16);1===h.length&&(h="0"+h),o+=h}return o}(e,t,s,r(i),r(n))}var c=function(e){function t(t){e.call(this,t);var s=t.height,i=t.width,n=t.checked;this.t=t.handleDiameter||s-2,this.i=Math.max(i-s,i-(s+this.t)/2),this.o=Math.max(0,(s-this.t)/2),this.state={h:n?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.m=this.m.bind(this),this.M=this.M.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this)}return e&&(t.__proto__=e),(t.prototype=Object.create(e&&e.prototype)).constructor=t,t.prototype.componentDidMount=function(){this.W=!0},t.prototype.componentDidUpdate=function(e){e.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},t.prototype.componentWillUnmount=function(){this.W=!1},t.prototype.I=function(e){this.H.focus(),this.setState({R:e,j:!0,B:Date.now()})},t.prototype.L=function(e){var t=this.state,s=t.R,i=t.h,n=(this.props.checked?this.i:this.o)+e-s;t.N||e===s||this.setState({N:!0});var a=Math.min(this.i,Math.max(this.o,n));a!==i&&this.setState({h:a})},t.prototype.U=function(e){var t=this.state,s=t.h,i=t.N,n=t.B,a=this.props.checked,o=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var r=Date.now()-n;(!i||r<250||a&&s<=o||!a&&s>=o)&&this.A(e),this.W&&this.setState({N:!1,j:!1}),this.l=Date.now()},t.prototype.p=function(e){e.preventDefault(),"number"==typeof e.button&&0!==e.button||(this.I(e.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.g))},t.prototype.v=function(e){e.preventDefault(),this.L(e.clientX)},t.prototype.g=function(e){this.U(e),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.g)},t.prototype.k=function(e){this.X=null,this.I(e.touches[0].clientX)},t.prototype.m=function(e){this.L(e.touches[0].clientX)},t.prototype.M=function(e){e.preventDefault(),this.U(e)},t.prototype.$=function(e){Date.now()-this.l>50&&(this.A(e),Date.now()-this.u>50&&this.W&&this.setState({j:!1}))},t.prototype.C=function(){this.u=Date.now()},t.prototype.D=function(){this.setState({j:!0})},t.prototype.O=function(){this.setState({j:!1})},t.prototype.S=function(e){this.H=e},t.prototype.T=function(e){e.preventDefault(),this.H.focus(),this.A(e),this.W&&this.setState({j:!1})},t.prototype.A=function(e){var t=this.props;(0,t.onChange)(!t.checked,e,t.id)},t.prototype.render=function(){var e=this.props,t=e.checked,s=e.disabled,a=e.className,o=e.offColor,r=e.onColor,c=e.offHandleColor,h=e.onHandleColor,d=e.checkedIcon,u=e.uncheckedIcon,p=e.checkedHandleIcon,m=e.uncheckedHandleIcon,g=e.boxShadow,f=e.activeBoxShadow,x=e.height,b=e.width,y=e.borderRadius,k=function(e,t){var s={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&-1===t.indexOf(i)&&(s[i]=e[i]);return s}(e,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),w=this.state,j=w.h,v=w.N,M=w.j,_={position:"relative",display:"inline-block",textAlign:"left",opacity:s?.5:1,direction:"ltr",borderRadius:x/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},C={height:x,width:b,margin:Math.max(0,(this.t-x)/2),position:"relative",background:l(j,this.i,this.o,o,r),borderRadius:"number"==typeof y?y:x/2,cursor:s?"default":"pointer",WebkitTransition:v?null:"background 0.25s",MozTransition:v?null:"background 0.25s",transition:v?null:"background 0.25s"},F={height:x,width:Math.min(1.5*x,b-(this.t+x)/2+1),position:"relative",opacity:(j-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"},S={height:x,width:Math.min(1.5*x,b-(this.t+x)/2+1),position:"absolute",opacity:1-(j-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"},N={height:this.t,width:this.t,background:l(j,this.i,this.o,c,h),display:"inline-block",cursor:s?"default":"pointer",borderRadius:"number"==typeof y?y-1:"50%",position:"absolute",transform:"translateX("+j+"px)",top:Math.max(0,(x-this.t)/2),outline:0,boxShadow:M?f:g,border:0,WebkitTransition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:v?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},E={height:this.t,width:this.t,opacity:Math.max(2*(1-(j-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"},P={height:this.t,width:this.t,opacity:Math.max(2*((j-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:v?null:"opacity 0.25s",MozTransition:v?null:"opacity 0.25s",transition:v?null:"opacity 0.25s"};return i.createElement("div",{className:a,style:_},i.createElement("div",{className:"react-switch-bg",style:C,onClick:s?null:this.T,onMouseDown:function(e){return e.preventDefault()}},d&&i.createElement("div",{style:F},d),u&&i.createElement("div",{style:S},u)),i.createElement("div",{className:"react-switch-handle",style:N,onClick:function(e){return e.preventDefault()},onMouseDown:s?null:this.p,onTouchStart:s?null:this.k,onTouchMove:s?null:this.m,onTouchEnd:s?null:this.M,onTouchCancel:s?null:this.O},m&&i.createElement("div",{style:E},m),p&&i.createElement("div",{style:P},p)),i.createElement("input",n({},{type:"checkbox",role:"switch","aria-checked":t,checked:t,disabled:s,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},k,{ref:this.S,onFocus:this.D,onBlur:this.O,onKeyUp:this.C,onChange:this.$})))},t}(i.Component);c.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:a,checkedIcon:o,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56}}}]);
//# sourceMappingURL=844.06ef1021.chunk.js.0bad5fce2a49.map