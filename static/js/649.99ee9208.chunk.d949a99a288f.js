"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[649],{91649:function(s,e,a){a.r(e);var t=a(28381),n=a(65293),r=a(42524),o=a(47174),i=a(11535),l=a(95325),c=a(29343);e.default=()=>{const s=(0,r.s0)(),[e,a]=(0,t.useState)({email:"",password:"",account:""}),d=s=>{const{name:t,value:n}=s.target;let r="";"email"!==t||(0,i.isEmail)(n)?"password"===t&&(r=v(n)):r="Invalid email address",g({...j,[t]:n}),a({...e,[t]:r})},[m,u]=(0,t.useState)("password"),[p,w]=(0,t.useState)(!1),[h,x]=(0,t.useState)(!1),[j,g]=(0,t.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[f,N]=(0,t.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),v=s=>{const e=(0,i.matches)(s,/[A-Z]/),a=(0,i.matches)(s,/[a-z]/),t=(0,i.matches)(s,/\d/),n=(0,i.matches)(s,/[^A-Za-z0-9]/);return(0,i.isLength)(s,{min:8})?e?a?t?n?"":"Password must contain at least one special character":"Password must contain at least one digit":"Password must contain at least one lowercase letter":"Password must contain at least one uppercase letter":"Password must be at least 8 characters long"};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(l.Z,{navbarColour:"#051885"}),(0,c.jsx)("section",{className:"login-page",children:(0,c.jsxs)("section",{className:"login-content",children:[(0,c.jsx)("section",{className:"form-section",children:(0,c.jsxs)("form",{className:"form-detail",onSubmit:async t=>{var r;if(t.preventDefault(),!e.email&&!e.password)try{const{data:e}=await n.ZP.post("/api/auth/login/",j);r=e.token,window.localStorage.setItem("wittle-user-token",r),window.localStorage.setItem("wittle-username",e.username),s("/agents/profile")}catch(o){const s=o.response.data.detail;s&&"Invalid credentials"===s&&a({...e,account:"Account not found"})}},children:[(0,c.jsx)("h1",{children:"Sign in to Wittle"}),(0,c.jsx)("p",{children:"Email address"}),(0,c.jsx)("input",{type:"email",name:"email",className:"input",value:j.email,onChange:d}),e.email&&(0,c.jsxs)("p",{className:"error",children:["* ",e.email]}),(0,c.jsx)("p",{children:"Password"}),(0,c.jsxs)("div",{className:"login-input",children:[(0,c.jsx)("input",{type:m,name:"password",className:"password-input",value:j.password,onChange:d}),(0,c.jsx)("div",{className:"password-icon-container",onClick:()=>{u("password"===m?"text":"password")},children:(0,c.jsx)("div",{className:"password-icon"})})]}),e.password&&(0,c.jsxs)("p",{className:"error",children:["* ",e.password]}),(0,c.jsx)("button",{className:"sign-up",type:"submit",children:"Sign in"}),e.account&&(0,c.jsxs)("p",{className:"error",id:"account",children:["* ",e.account]})]})}),(0,c.jsxs)("h5",{children:["Forgotten your login details? ",(0,c.jsx)(o.rU,{to:"/password-reset-request/",children:(0,c.jsx)("span",{children:"Request reset"})})," "]})]})})]})}}}]);
//# sourceMappingURL=649.99ee9208.chunk.js.52e069910553.map