/*! For license information please see 177.010cc84f.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[177,968],{56887:function(e,t,a){a.r(t);var s=a(72791),i=a(55294),n=a(57689),r=(a(99696),a(97165)),o=a(30948),c=(a(88465),a(25423)),l=a(59394),h=a(84487),d=a(53300),u=a(16409),p=a(7122),m=a(71213),y=a(39577),f=a(52094),g=a(60764),x=a(20264),b=a(32767),j=a(92514),w=a(66968),_=a(73964),M=a(78084),S=a(19832),v=a(82213),k=a(38040),F=a(80184);t.default=()=>{const{postcode:e}=(0,n.UO)(),t=(0,n.s0)(),a=(0,n.TH)(),[N,P]=(0,s.useState)([]),[T,D]=(0,s.useState)("My properties"),[Z,E]=(0,s.useState)("My properties"),[C,$]=(0,s.useState)(!1),[q,R]=(0,s.useState)(),[V,L]=(0,s.useState)(),[z,A]=(0,s.useState)(),[H,O]=(0,s.useState)(),[U,B]=(0,s.useState)(),[G,Y]=(0,s.useState)("Property overview"),[I,W]=(0,s.useState)(!0),[J,K]=(0,s.useState)(!1),[Q,X]=(0,s.useState)(!1),[ee,te]=(0,s.useState)(!1),[ae,se]=(0,s.useState)(!1),[ie,ne]=(0,s.useState)(),[re,oe]=(0,s.useState)(),[ce,le]=(0,s.useState)(),[he,de]=(0,s.useState)(),[ue,pe]=(0,s.useState)(),[me,ye]=(0,s.useState)(),[fe,ge]=(0,s.useState)(),[xe,be]=(0,s.useState)(),[je,we]=(0,s.useState)(),[_e,Me]=(0,s.useState)(),[Se,ve]=(0,s.useState)(),[ke,Fe]=(0,s.useState)(),[Ne,Pe]=(0,s.useState)(),[Te,De]=(0,s.useState)(),[Ze,Ee]=(0,s.useState)(),[Ce,$e]=(0,s.useState)(),[qe,Re]=(0,s.useState)(),[Ve,Le]=(0,s.useState)([]),[ze,Ae]=(0,s.useState)([]),[He,Oe]=(0,s.useState)([]),[Ue,Be]=(0,s.useState)([]),[Ge,Ye]=(0,s.useState)(),[Ie,We]=(0,s.useState)(),[Je,Ke]=(0,s.useState)(),[Qe,Xe]=(0,s.useState)(),[et,tt]=(0,s.useState)(),[at,st]=(0,s.useState)(),[it,nt]=(0,s.useState)(),[rt,ot]=(0,s.useState)("Primary schools"),[ct,lt]=(0,s.useState)();(0,s.useEffect)((()=>{(()=>{try{const e=JSON.parse(localStorage.getItem("listing-postcode"));(async()=>{const{data:t}=await i.Z.post("/api/postcodes/",{postcode:e});console.log("postcode data ->",t),R(t)})()}catch(e){B(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{q&&(()=>{if((0,r.Hb)())try{(async()=>{const{data:e}=await i.Z.get(`/api/auth/profile/${(0,r.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,r.hP)()}`}});console.log("user data ->",e),L(e),O(e.company)})()}catch(e){B(!0),console.log(e)}else t("/access-denied"),console.log("no account")})()}),[q]);(0,s.useEffect)((()=>{V&&(()=>{try{(async()=>{const{data:t}=await i.Z.get(`/api/white_properties/${H}`,{headers:{Authorization:`Bearer ${(0,r.hP)()}`}}),a=t.find((t=>t.postcode===e));A(a),console.log("current-property ->",a)})()}catch(t){B(!0),console.log(t)}})()}),[V]);(0,s.useEffect)((()=>{q&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/primaries/");ne(e)})()}catch(e){B(!0),console.log(e)}})()}),[q]);const ht=20/60*5,dt=6371,ut=e=>e*Math.PI/180,pt=5/60;(0,s.useEffect)((()=>{ie&&(()=>{const e=ie.filter((e=>{const t=ut(parseFloat(e.latitude)-parseFloat(q[0].longitude)),a=ut(parseFloat(e.longitude)-parseFloat(q[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(ut(parseFloat(q[0].longitude)))*Math.cos(ut(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;e.distance_between=n,e.walkTimeMin=Math.round(n/pt);const r=n/e.max_distance;return"Independent school"===e.school_type||"Special school"===e.school_type||"On request"===e.max_distance?e.within_catchment="N/a":"Based on map"===e.additional_status?e.within_catchment="Check catchment map":"Religion"===e.max_distance&e.distance_between<.6?e.within_catchment="Very likely if religious critera met":"Religion"===e.max_distance&e.distance_between<.8?e.within_catchment="Likely if religious critera met":"Religion"===e.max_distance&e.distance_between<1?e.within_catchment="Probably if religious critera met":"Religion"===e.max_distance&e.distance_between<1.5?e.within_catchment="Unlikely, even if religious critera met":"Religion"===e.max_distance&e.distance_between>1.5?e.within_catchment="Very unlikely, even if religious critera met":"Not specified"===e.max_distance&e.distance_between<.4?e.within_catchment="Very likely but no distance specified":"Not specified"===e.max_distance&e.distance_between<.7?e.within_catchment="Likely but no distance specified":"Not specified"===e.max_distance&e.distance_between<1?e.within_catchment="Probably but no distance specified":"Not specified"===e.max_distance&e.distance_between>1?e.within_catchment="Unlikely, but no distance specified":null===e.max_distance&e.distance_between<.6?e.within_catchment="Very likely, but no distance data available":null===e.max_distance&e.distance_between<.8?e.within_catchment="Likely, but no distance data available":null===e.max_distance&e.distance_between<1?e.within_catchment="Probably, but no distance data available":null===e.max_distance&e.distance_between<1.5?e.within_catchment="Unlikely, but no distance data available":null===e.max_distance&e.distance_between>1.5?e.within_catchment="Very unlikely, but no distance data available":r<=.6?e.within_catchment="Yes":r<=.8?e.within_catchment="Very likely":r<=1?e.within_catchment="Probably":r<=1.2?e.within_catchment="Probably not":"Does not apply"===e.max_distance?e.within_catchment="Yes":e.within_catchment="No",n<=ht})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,8);pe(t),oe(e),console.log("nearby primaries ->",e)})()}),[ie]);(0,s.useEffect)((()=>{q&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/secondaries/");le(e)})()}catch(e){B(!0),console.log(e)}})()}),[q]);(0,s.useEffect)((()=>{ce&&(()=>{const e=ce.filter((e=>{const t=ut(parseFloat(e.latitude)-parseFloat(q[0].longitude)),a=ut(parseFloat(e.longitude)-parseFloat(q[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(ut(parseFloat(q[0].longitude)))*Math.cos(ut(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;e.distance_between=n,e.walkTimeMin=Math.round(n/pt);const r=n/e.max_distance,o=n/e.min_distance;return e.school_type.includes("independent")||e.school_type.includes("special")?e.within_catchment="N/a":"Exam"===e.max_distance||"Test score"===e.max_distance?e.within_catchment="Dependent on test results":"Random"===e.max_distance?e.within_catchment="Random selection based on performance":"Catchment score"===e.max_distance?e.within_catchment="School uses catchment score - check":"Based on map"===e.max_distance?e.within_catchment="Check catchment map":"Religion"===e.max_distance&e.distance_between<.7?e.within_catchment="Very likely if religious critera met":"Religion"===e.max_distance&e.distance_between<.9?e.within_catchment="Likely if religious critera met":"Religion"===e.max_distance&e.distance_between<1.5?e.within_catchment="Probably if religious critera met":"Religion"===e.max_distance&e.distance_between>1.5?e.within_catchment="Unlikely, even if religious critera met":"Does not apply"===e.max_distance||null!==e.min_distance&o<=1?e.within_catchment="Yes":null!==e.min_distance&r<=.5?e.within_catchment="Very likely":null!==e.min_distance&r<=.7?e.within_catchment="Probably":e.within_catchment=r<=.6?"Yes":r<=.8?"Very likely":r<=1?"Probably":r<=1.2?"Probably not":"No",n<=2.5})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,8);ye(t),de(e),console.log("nearby secondaries ->",e)})()}),[ce]);(0,s.useEffect)((()=>{q&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/restaurants/");ge(e)})()}catch(e){B(!0),console.log(e)}})()}),[q]);const mt=1.25;(0,s.useEffect)((()=>{fe&&(()=>{const e=fe.filter((e=>{const t=ut(parseFloat(e.latitude)-parseFloat(q[0].longitude)),a=ut(parseFloat(e.longitude)-parseFloat(q[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(ut(parseFloat(q[0].longitude)))*Math.cos(ut(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/pt),n<=mt})).sort(((e,t)=>t.rating-e.rating)),t=e.filter((e=>"No Cuisine Data"!==e.cuisine)).slice(0,3).map((e=>e.restaurant_name));Re((e=>new Set(e.map((e=>e.cuisine))).size)(e)),Fe(e),Le(t),console.log("Nearby restaurants ->",e)})()}),[fe]);(0,s.useEffect)((()=>{q&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/gyms/");console.log("gyms data ->",e),be(e)})()}catch(e){B(!0),console.log(e)}})()}),[q]);(0,s.useEffect)((()=>{xe&&(()=>{const e=["third space","pure gym","1 rebel","virgin","barry's","the gym group"],t=new Set,a=xe.filter((e=>{const t=ut(parseFloat(e.Lat)-parseFloat(q[0].longitude)),a=ut(parseFloat(e.long)-parseFloat(q[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(ut(parseFloat(q[0].longitude)))*Math.cos(ut(parseFloat(e.Lat)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/pt),n<=mt})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),s=[];for(let i=0;i<a.length;i++){const n=a[i];if(n.gym_group&&e.includes(n.gym_group.toLowerCase())&&!t.has(n.gym_group)&&(s.push(n.gym_group),t.add(n.gym_group),3===s.length))break}Pe(a),Oe(s)})()}),[xe]);(0,s.useEffect)((()=>{q&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/supermarkets/");Me(e)})()}catch(e){B(!0),console.log(e)}})()}),[q]);(0,s.useEffect)((()=>{_e&&(()=>{const e=["m&s","waitrose","aldi","lidl","sainsburys","tesco","asda"],t=new Set,a=_e.map((e=>{const t=ut(parseFloat(e.latitude)-parseFloat(q[0].longitude)),a=ut(parseFloat(e.longitude)-parseFloat(q[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(ut(parseFloat(q[0].longitude)))*Math.cos(ut(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/pt),{...e,distance:n}})).filter((e=>e.distance<=mt)),s=[];for(let i=0;i<a.length;i++){const n=a[i];if(e.includes(n.supermarket_brand.toLowerCase())&&!t.has(n.supermarket_brand)&&(s.push(n.supermarket_brand),t.add(n.supermarket_brand),3===s.length))break}Ee(a),Be(s),console.log("Nearby supermarkets ->",a)})()}),[_e]);(0,s.useEffect)((()=>{q&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/tubes/");Ye(e)})()}catch(e){B(!0),console.log(e)}})()}),[q]);(0,s.useEffect)((()=>{Ge&&(()=>{const e=Ge.filter((e=>{const t=ut(parseFloat(e.lat)-parseFloat(q[0].longitude)),a=ut(parseFloat(e.long)-parseFloat(q[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(ut(parseFloat(q[0].longitude)))*Math.cos(ut(parseFloat(e.lat)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/pt),n<=ht})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));Ke(e);const t=e.reduce(((e,t)=>(e[t.line]=(e[t.line]||0)+1,e)),{}),a=Object.keys(t).length;tt(a)})()}),[Ge]);(0,s.useEffect)((()=>{q&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/evs/");console.log("ev data ->",e),ve(e)})()}catch(e){B(!0),console.log(e)}})()}),[q]);(0,s.useEffect)((()=>{Se&&(()=>{const e=Se.filter((e=>{const t=ut(parseFloat(e.latitude)-parseFloat(q[0].longitude)),a=ut(parseFloat(e.longitude)-parseFloat(q[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(ut(parseFloat(q[0].longitude)))*Math.cos(ut(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/pt),n<=.8333333333333333})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));$e(e)})()}),[Se]);(0,s.useEffect)((()=>{q&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/pubs/");console.log("pub data ->",e),we(e)})()}catch(e){B(!0),console.log(e)}})()}),[q]);(0,s.useEffect)((()=>{je&&(()=>{const e=je.filter((e=>{const t=ut(parseFloat(e.latitude)-parseFloat(q[0].longitude)),a=ut(parseFloat(e.longitude)-parseFloat(q[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(ut(parseFloat(q[0].longitude)))*Math.cos(ut(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/pt),n<=mt})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin)),t=e.slice(0,3).map((e=>e.name));De(e),Ae(t),console.log("Nearby pubs ->",e)})()}),[je]);(0,s.useEffect)((()=>{q&&(()=>{const e=Math.ceil((1-q[0].crime[0].percentile+q[0].ev.percentile+q[0].fitness.percentile+(1-q[0].parks_lsoa[0].london_percentile/100)+q[0].restaurants.normal_percentile+q[0].supermarkets.percentile+q[0].tubes.percentile)/7*100);nt(e)})()}));(0,s.useEffect)((()=>{q&&(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/trains/");console.log("trains data ->",e),We(e)})()}catch(e){B(!0),console.log(e)}})()}),[q]);(0,s.useEffect)((()=>{Ie&&(()=>{const e=Ie.filter((e=>{const t=ut(parseFloat(e.latitude)-parseFloat(q[0].longitude)),a=ut(parseFloat(e.longitude)-parseFloat(q[0].latitude)),s=Math.sin(t/2)*Math.sin(t/2)+Math.cos(ut(parseFloat(q[0].longitude)))*Math.cos(ut(parseFloat(e.latitude)))*Math.sin(a/2)*Math.sin(a/2),i=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)),n=dt*i;return e.distance_between=n,e.walkTimeMin=Math.round(n/pt),n<=ht})).sort(((e,t)=>e.walkTimeMin-t.walkTimeMin));Xe(e),console.log("Nearby trains ->",e)})()}),[Ie]),(0,s.useEffect)((()=>{P((e=>[...e,a.pathname]))}),[a]);return(0,s.useEffect)((()=>{console.log(`profileContent updated to: ${T}`)}),[T]),(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("section",{className:"agent-specific-property print-container",children:[(0,F.jsx)("div",{className:"desktop-nav",children:(0,F.jsx)(g.Z,{navbarColour:"#FDF7F0"})}),(0,F.jsx)("div",{className:"mobile-nav",children:(0,F.jsx)(M.Z,{setProfileContent:D,profileContent:T,profileDetail:Z,setProfileDetail:E})}),(0,F.jsx)(f.Z,{setProfileDetail:E,variableSide:C,setProfileContent:D,setVariableSide:$,userData:V}),(0,F.jsx)("div",{className:"go-back-button no-print remove-margin",children:(0,F.jsx)("h5",{onClick:()=>t("/agents/profile"),children:"<- back to profile"})}),(0,F.jsxs)("div",{className:"property-options no-print",children:[(0,F.jsxs)("div",{className:"left-section",children:[(0,F.jsx)("h5",{className:"no-print",onClick:()=>Y("Property overview"),style:{textDecoration:"Property overview"===G?"underline 2px #FFA7E5":"none",textUnderlineOffset:"Property overview"===G?"0.5em":"initial",fontWeight:"Property overview"===G?"700":"400"},children:"Property overview"}),(0,F.jsx)("h5",{className:"no-print",onClick:()=>Y("Property details"),style:{textDecoration:"Property details"===G?"underline 2px #FFA7E5":"none",textUnderlineOffset:"Property details"===G?"0.5em":"initial",fontWeight:"Property details"===G?"700":"400"},children:"Property details"})]}),(0,F.jsx)("h1",{className:"print-button no-print",onClick:()=>window.print(),children:"\ud83d\udda8"})]}),"Property overview"===G?(0,F.jsxs)("section",{className:"property-wrapper",children:[z?(0,F.jsxs)("section",{className:"property-details remove-margin",children:[(0,F.jsx)("img",{className:"property-image",src:z.image,alt:"property-image"}),(0,F.jsx)("div",{className:"property-content",children:(0,F.jsxs)("div",{className:"content-blocks",children:[(0,F.jsxs)("div",{className:"content-summary",children:[(0,F.jsxs)("div",{className:"content-top-line",children:[(0,F.jsx)("h1",{children:z.name}),(0,F.jsx)("h1",{children:(0,F.jsx)(o.h3,{value:z.price,displayType:"text",thousandSeparator:!0,prefix:"\xa3"})})]}),(0,F.jsx)("h3",{children:z.address})]}),(0,F.jsxs)("div",{className:"content-details",children:[(0,F.jsxs)("div",{className:"content-details-top",children:[(0,F.jsxs)("h4",{children:["\ud83c\udfe0 ",z.type]}),(0,F.jsxs)("h4",{children:["\ud83d\udce6 ",z.size]})]}),(0,F.jsxs)("div",{className:"content-details-bottom",children:[(0,F.jsxs)("h4",{children:["\ud83d\udecc x ",z.bedrooms]}),(0,F.jsxs)("h4",{children:["\ud83d\udec1 x ",z.bathrooms]}),(0,F.jsxs)("h4",{children:["\ud83d\udecb x ",z.living_rooms]})]})]})]})})]}):"",(0,F.jsxs)("section",{className:"property-summary-sections remove-margin",children:[(0,F.jsxs)("div",{className:"property-highlight",onClick:()=>W(!I),children:[(0,F.jsx)("h3",{children:"Property Summary"}),(0,F.jsx)("div",{className:"click-downs",children:I?(0,F.jsx)("h4",{children:"^"}):(0,F.jsx)("h4",{children:"v"})})]}),q&&I?(0,F.jsx)(u.Z,{neighbourhoodScore:it,postcodeData:q}):"",(0,F.jsx)("hr",{className:"highlight-separator"}),(0,F.jsxs)("div",{className:"property-highlight",onClick:()=>K(!J),children:[(0,F.jsx)("h3",{children:"School Highlights"}),(0,F.jsx)("div",{className:"click-downs",children:J?(0,F.jsx)("h4",{children:"^"}):(0,F.jsx)("h4",{children:"v"})})]}),J?(0,F.jsx)(l.Z,{topPrimaries:ue,topSecondaries:me}):"",(0,F.jsx)("hr",{className:"highlight-separator"}),(0,F.jsxs)("div",{className:"property-highlight",onClick:()=>X(!Q),children:[(0,F.jsx)("h3",{children:"Lifestyle Highlights"}),(0,F.jsx)("div",{className:"click-downs",children:Q?(0,F.jsx)("h4",{children:"^"}):(0,F.jsx)("h4",{children:"v"})})]}),Q?(0,F.jsx)(c.Z,{restaurants1:ke,cuisines:qe,topRestaurants:Ve,gyms1:Ne,mainGyms:He,supermarkets1:Ze,mainSupermarkets:Ue,pubs1:Te,topPubs:ze}):"",(0,F.jsx)("hr",{className:"highlight-separator"}),(0,F.jsxs)("div",{className:"property-highlight",onClick:()=>te(!ee),children:[(0,F.jsx)("h3",{children:"Transport Highlights"}),(0,F.jsx)("div",{className:"click-downs",children:ee?(0,F.jsx)("h4",{children:"^"}):(0,F.jsx)("h4",{children:"v"})})]}),ee?(0,F.jsx)(h.Z,{postcodeData:q,tubes1:Je,trains1:Qe,uniqueTubeLines:et,uniqueTubeStations:at}):"",(0,F.jsx)("hr",{className:"highlight-separator"}),(0,F.jsxs)("div",{className:"property-highlight",onClick:()=>se(!ae),children:[(0,F.jsx)("h3",{children:"Neighbourhood Highlights"}),(0,F.jsx)("div",{className:"click-downs",children:ae?(0,F.jsx)("h4",{children:"^"}):(0,F.jsx)("h4",{children:"v"})})]}),ae?(0,F.jsx)(d.Z,{postcodeData:q}):""]})]}):"Property details"===G?(0,F.jsxs)("section",{className:"property-wrapper",children:[(0,F.jsx)(p.Z,{sliderSelection:rt,setSliderSelection:ot}),"Primary schools"===rt?(0,F.jsx)(m.Z,{primaryData1:re,setPrimaryData1:oe,propertyData:z,listType:"short list",postcodeData:q}):"Secondary schools"===rt?(0,F.jsx)(y.Z,{secondaryData1:he,setSecondaryData1:de,propertyData:z,listType:"short list",postcodeData:q}):"Restaurants"===rt?(0,F.jsx)(x.Z,{restaurants1:ke,setRestaurants1:Fe,propertyData:z,listType:"short list",postcodeData:q}):"Fitness"===rt?(0,F.jsx)(b.Z,{gyms1:Ne,setGyms1:Pe,propertyData:z,listType:"short list",postcodeData:q}):"Supermarkets"===rt?(0,F.jsx)(j.Z,{supermarkets1:Ze,setSupermarkets1:Ee,propertyData:z,listType:"short list",postcodeData:q}):"EVs"===rt?(0,F.jsx)(S.Z,{ev1:Ce,setEv1:$e,propertyData:z,listType:"short list",postcodeData:q}):"Pubs"===rt?(0,F.jsx)(v.Z,{pubs1:Te,setPubs1:De,propertyData:z,listType:"short list",postcodeData:q}):"Tubes"===rt?(0,F.jsx)(k.Z,{tubes1:Je,setTubes1:Ke,propertyData:z,listType:"short list",postcodeData:q}):""]}):"Variables"===G?(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(w.default,{profileDetail:Z,setProfileDetail:E,profileContent:T})}):"Comparison"===T?(0,F.jsx)(F.Fragment,{children:(0,F.jsx)(_.default,{userData:V,propertyList:ct})}):""]})})}},66968:function(e,t,a){a.r(t);var s=a(72791),i=a(55294),n=a(57689),r=a(97165),o=a(71213),c=a(39577),l=a(20264),h=a(32767),d=a(92514),u=a(60764),p=a(52094),m=a(78084),y=a(19832),f=a(82213),g=a(80184);t.default=()=>{const e=(0,n.s0)(),[t,a]=(0,s.useState)(),[x,b]=(0,s.useState)(),[j,w]=(0,s.useState)(),[_,M]=(0,s.useState)(),[S,v]=(0,s.useState)(),[k,F]=(0,s.useState)(),[N,P]=(0,s.useState)(),[T,D]=(0,s.useState)(),[Z,E]=(0,s.useState)(),[C,$]=(0,s.useState)(),[q,R]=(0,s.useState)(),[V,L]=(0,s.useState)(),[z,A]=(0,s.useState)(),[H,O]=(0,s.useState)(),[U,B]=(0,s.useState)("Variables"),[G,Y]=(0,s.useState)("Variables"),[I,W]=(0,s.useState)(!0);(0,s.useEffect)((()=>{(()=>{if((0,r.Hb)())try{(async()=>{const{data:e}=await i.Z.get(`/api/auth/profile/${(0,r.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,r.hP)()}`}});console.log("user data ->",e),b(e),M(e.company)})()}catch(t){a(!0),console.log(t)}else e("/access-denied"),console.log("no account")})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/primaries/"),t=e.sort(((e,t)=>t.pupils_at_standard-e.pupils_at_standard));v(t),console.log("all primaries ->",t)})()}catch(e){a(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/secondaries/"),t=e.sort(((e,t)=>t.total_pass_rate-e.total_pass_rate));P(t),console.log("all secondaries ->",t)})()}catch(e){a(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/restaurants/"),t=e.sort(((e,t)=>t.rating-e.rating));E(t),console.log("all restaurants ->",t)})()}catch(e){a(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/gyms/");$(e)})()}catch(e){a(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/supermarkets/");console.log("supermarkets data ->",e),L(e)})()}catch(e){a(!0),console.log(e)}})()}),[]);(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/evs/");console.log("ev data ->",e),O(e)})()}catch(e){a(!0),console.log(e)}})()}),[]);return(0,s.useEffect)((()=>{(()=>{try{(async()=>{const{data:e}=await i.Z.get("/api/pubs/");console.log("pubs data ->",e),R(e)})()}catch(e){a(!0),console.log(e)}})()}),[]),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)("section",{className:"agent-profile-page",children:[(0,g.jsx)("div",{className:"desktop-nav",children:(0,g.jsx)(u.Z,{navbarColour:"#FDF7F0"})}),(0,g.jsx)("div",{className:"mobile-nav",children:(0,g.jsx)(m.Z,{setProfileContent:B,profileContent:U,profileDetail:G,setProfileDetail:Y})}),(0,g.jsx)(p.Z,{setProfileDetail:Y,variableSide:I,setProfileContent:B,setVariableSide:W,userData:x}),"Variables"===G?(0,g.jsxs)("section",{className:"variables-section",children:[(0,g.jsx)("h1",{children:"Explore the different variables"}),(0,g.jsxs)("div",{className:"variables-list",children:[(0,g.jsxs)("div",{className:"variable",onClick:()=>Y("Primary schools"),children:[(0,g.jsx)("h1",{children:"\ud83c\udfeb"}),(0,g.jsx)("h3",{children:"Primary schools"})]}),(0,g.jsxs)("div",{className:"variable",onClick:()=>Y("Secondary schools"),children:[(0,g.jsx)("h1",{children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,g.jsx)("h3",{children:"Secondary schools"})]}),(0,g.jsxs)("div",{className:"variable",children:[(0,g.jsx)("h1",{children:"\ud83c\udf93"}),(0,g.jsx)("h3",{children:"6th form colleges"})]}),(0,g.jsxs)("div",{className:"variable",children:[(0,g.jsx)("h1",{children:"\ud83c\udf33"}),(0,g.jsx)("h3",{children:"Green space"})]}),(0,g.jsxs)("div",{className:"variable",onClick:()=>Y("Restaurants"),children:[(0,g.jsx)("h1",{children:"\ud83c\udf7d"}),(0,g.jsx)("h3",{children:"Restaurants"})]}),(0,g.jsxs)("div",{className:"variable",children:[(0,g.jsx)("h1",{children:"\ud83d\ude87"}),(0,g.jsx)("h3",{children:"Tube stations"})]}),(0,g.jsxs)("div",{className:"variable",onClick:()=>Y("EVs"),children:[(0,g.jsx)("h1",{children:"\u26fd\ufe0f"}),(0,g.jsx)("h3",{children:"Electric vehicles"})]}),(0,g.jsxs)("div",{className:"variable",onClick:()=>Y("Pubs"),children:[(0,g.jsx)("h1",{children:"\ud83c\udf7b"}),(0,g.jsx)("h3",{children:"Pubs"})]}),(0,g.jsxs)("div",{className:"variable",onClick:()=>Y("Fitness"),children:[(0,g.jsx)("h1",{children:"\ud83c\udfcb\ufe0f\u200d\u2642\ufe0f"}),(0,g.jsx)("h3",{children:"Fitness"})]}),(0,g.jsxs)("div",{className:"variable",onClick:()=>Y("Supermarkets"),children:[(0,g.jsx)("h1",{children:"\ud83d\uded2"}),(0,g.jsx)("h3",{children:"Supermarkets"})]})]})]}):"Primary schools"===G?(0,g.jsx)("section",{className:"variables-single-section",children:(0,g.jsx)(o.Z,{primaryData1:S,setPrimaryData1:v,listType:"long list",setProfileDetail:Y})}):"Secondary schools"===G?(0,g.jsx)("section",{className:"variables-single-section",children:(0,g.jsx)(c.Z,{secondaryData1:N,setSecondaryData1:P,listType:"long list"})}):"Restaurants"===G?(0,g.jsx)("section",{className:"variables-single-section",children:(0,g.jsx)(l.Z,{restaurants1:Z,setRestaurants1:E,listType:"long list"})}):"Fitness"===G?(0,g.jsx)("section",{className:"variables-single-section",children:(0,g.jsx)(h.Z,{gyms1:C,setGyms1:$,listType:"long list"})}):"Supermarkets"===G?(0,g.jsx)("section",{className:"variables-single-section",children:(0,g.jsx)(d.Z,{supermarkets1:V,setSupermarkets1:L,listType:"long list"})}):"EVs"===G?(0,g.jsx)("section",{className:"variables-single-section",children:(0,g.jsx)(y.Z,{ev1:H,setEv1:O,listType:"long list"})}):"Pubs"===G?(0,g.jsx)("section",{className:"variables-single-section",children:(0,g.jsx)(f.Z,{pubs1:q,setPubs1:R,listType:"long list"})}):""]})})}},11372:function(e,t){var a="function"===typeof Symbol&&Symbol.for,s=a?Symbol.for("react.element"):60103,i=a?Symbol.for("react.portal"):60106,n=a?Symbol.for("react.fragment"):60107,r=a?Symbol.for("react.strict_mode"):60108,o=a?Symbol.for("react.profiler"):60114,c=a?Symbol.for("react.provider"):60109,l=a?Symbol.for("react.context"):60110,h=a?Symbol.for("react.async_mode"):60111,d=a?Symbol.for("react.concurrent_mode"):60111,u=a?Symbol.for("react.forward_ref"):60112,p=a?Symbol.for("react.suspense"):60113,m=a?Symbol.for("react.suspense_list"):60120,y=a?Symbol.for("react.memo"):60115,f=a?Symbol.for("react.lazy"):60116,g=a?Symbol.for("react.block"):60121,x=a?Symbol.for("react.fundamental"):60117,b=a?Symbol.for("react.responder"):60118,j=a?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case h:case d:case n:case o:case r:case p:return e;default:switch(e=e&&e.$$typeof){case l:case u:case f:case y:case c:return e;default:return t}}case i:return t}}}function _(e){return w(e)===d}t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=l,t.ContextProvider=c,t.Element=s,t.ForwardRef=u,t.Fragment=n,t.Lazy=f,t.Memo=y,t.Portal=i,t.Profiler=o,t.StrictMode=r,t.Suspense=p,t.isAsyncMode=function(e){return _(e)||w(e)===h},t.isConcurrentMode=_,t.isContextConsumer=function(e){return w(e)===l},t.isContextProvider=function(e){return w(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return w(e)===u},t.isFragment=function(e){return w(e)===n},t.isLazy=function(e){return w(e)===f},t.isMemo=function(e){return w(e)===y},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===o},t.isStrictMode=function(e){return w(e)===r},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===n||e===d||e===o||e===r||e===p||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===y||e.$$typeof===c||e.$$typeof===l||e.$$typeof===u||e.$$typeof===x||e.$$typeof===b||e.$$typeof===j||e.$$typeof===g)},t.typeOf=w},57441:function(e,t,a){e.exports=a(11372)}}]);
//# sourceMappingURL=177.010cc84f.chunk.js.ca5fbe9ea99c.map