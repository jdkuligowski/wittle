(self.webpackChunkclient=self.webpackChunkclient||[]).push([[354,667],{37336:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(42524),i=n(28381);n(65293);n(63762),n(11535),n(31824);var o=n(29343);var s=e=>{let{setProfileContent:t,profileContent:n,profileDetail:s,setProfileDetail:a}=e;const c=(0,r.s0)(),[l,u]=((0,i.useRef)(null),(0,i.useState)(!1)),[d,f]=(0,i.useState)({email:"",password:"",passwordConfirmation:""}),[p,h]=(0,i.useState)("password"),[y,m]=(0,i.useState)("password"),[v,g]=(0,i.useState)(!1),[j,x]=(0,i.useState)(!1),[b,C]=(0,i.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[k,S]=(0,i.useState)({email:"",username:"",password:"",password_confirmation:"",first_name:"",last_name:"",post:""}),[w,N]=(0,i.useState)("#051885"),[O,P]=(0,i.useState)("#FFA7E5"),[_,F]=(0,i.useState)("#FFA7E5");return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("section",{className:"centered-nav-bar",style:{backgroundColor:w},children:[(0,o.jsx)("section",{className:"top-section",children:(0,o.jsx)("div",{className:"logo",children:(0,o.jsx)("h2",{style:{color:O},onClick:()=>c("/"),children:"Wittle"})})}),(0,o.jsxs)("section",{className:"nav-slider",children:[(0,o.jsx)("h4",{style:{color:_,textDecoration:"My properties"===n?`underline 3px ${_}`:"",textUnderlineOffset:"My properties"===n?"5px":""},onClick:()=>{t("My properties"),a("My properties"),c("/agents/profile")},children:"MY PROPERTIES"}),(0,o.jsx)("h4",{style:{color:_,textDecoration:"Variables"===n?`underline 3px ${_}`:"",textUnderlineOffset:"Variables"===n?"5px":""},onClick:()=>{t("Variables"),a("Variables"),c("/agents/explore")},children:"EXPLORE"}),(0,o.jsx)("h4",{style:{color:_,textDecoration:"Comparison"===n?`underline 3px ${_}`:"",textUnderlineOffset:"Comparison"===n?"5px":""},onClick:()=>{t("Comparison"),a("Comparison"),c("/agents/compare")},children:"COMPARISON"}),(0,o.jsx)("h4",{style:{color:_,textDecoration:"Account"===n?`underline 3px ${_}`:"",textUnderlineOffset:"Account"===n?"5px":""},onClick:()=>{t("Account"),a("Account")},children:"ACCOUNT"})]})]})})}},8772:function(e,t,n){"use strict";var r=n(42524),i=(n(28381),n(65293),n(15211)),o=(n(63762),n(31824),n(29343));t.Z=e=>{let{navbarColour:t}=e;const n=(0,r.s0)();return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("section",{className:"nav-section no-print",style:{backgroundColor:t},children:[(0,o.jsx)("div",{className:"left-section",children:(0,o.jsx)("div",{className:"logo",children:(0,o.jsx)("h2",{onClick:()=>n("/"),children:"Wittle"})})}),(0,i.Hb)()?(0,o.jsx)("div",{className:"menu-container",children:(0,o.jsx)("h3",{className:"cta",onClick:e=>{localStorage.removeItem("wittle-user-token"),localStorage.removeItem("wittle-username"),window.location.reload()},children:(0,o.jsx)("a",{children:"Sign out"})})}):(0,o.jsx)("div",{className:"menu-container",children:(0,o.jsx)("h3",{className:"cta",onClick:()=>n("/login"),children:(0,o.jsx)("a",{children:"Sign in"})})})]})})}},59693:function(e,t,n){"use strict";var r=n(42524),i=n(28381),o=n(15211),s=n(65293),a=n(29343);t.Z=e=>{let{setProfileDetail:t,variableSide:n,setProfileContent:c,setVariableSide:l}=e;const u=(0,r.s0)(),[d,f]=(0,i.useState)(),[p,h]=(0,i.useState)();return(0,i.useEffect)((()=>{(0,o.Hb)()?(async()=>{try{const{data:e}=await s.ZP.get(`/api/auth/profile/${(0,o.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,o.hP)()}`}});console.log("user data ->",e),f(e)}catch(e){h(!0),console.log(e)}})():(u("/access-denied"),console.log("no account"))}),[]),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("section",{className:"profile-sidebar-open no-print remove-margin",children:[(0,a.jsx)("div",{className:"logo",children:(0,a.jsx)("h2",{onClick:()=>u("/"),children:"Wittle"})}),(0,a.jsxs)("div",{className:"profile-buttons",children:[(0,a.jsx)("div",{className:"profile-button-title",children:(0,a.jsx)("h2",{onClick:()=>{t("Home"),c("Home"),u("/agents/profile")},children:"\ud83e\uddd8\u200d\u2642\ufe0f Wittle home"})}),(0,a.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,a.jsx)("h2",{onClick:()=>{t("My things"),c("My things"),u("/agents/favourites")},children:"\ud83c\udfe1 My things"})}),(0,a.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,a.jsx)("h2",{onClick:()=>{t("Listing generator"),c("Listing generator"),u("/agents/listing-generator")},children:"\ud83e\udde0 Listing generator"})}),!d||1!==d.id&&55!==d.id?"":(0,a.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,a.jsx)("h2",{onClick:()=>{t("AI listing generator"),c("AI listing generator"),u("/agents/ai-listing-generator")},children:"\ud83e\udde0 AI Listing generator"})}),(0,a.jsx)("div",{className:"profile-button-title",id:"second-title",children:(0,a.jsx)("h2",{onClick:()=>{c("Property finder"),t("Property finder"),u("/agents/finder")},children:"\ud83d\udd0e Property finder"})})]})]})})}},90354:function(e,t,n){"use strict";n.r(t);var r=n(28381),i=n(65293),o=n(42524),s=n(15211),a=(n(47142),n(59693)),c=n(8772),l=n(37336),u=n(74651),d=n(29343);t.default=()=>{const e=(0,o.s0)(),[t,n]=((0,o.TH)(),(0,r.useState)([])),[f,p]=(0,r.useState)(),[h,y]=(0,r.useState)(),[m,v]=(0,r.useState)(),[g,j]=(0,r.useState)("My saved items"),[x,b]=(0,r.useState)("My saved items"),[C,k]=(0,r.useState)(!1),[S,w]=(0,r.useState)(""),[N,O]=(0,r.useState)(""),[P,_]=(0,r.useState)(null),[F,A]=(0,r.useState)(),[E,D]=(0,r.useState)(0),[L,R]=(0,r.useState)(),[M,U]=(0,r.useState)("Property prospects"),[I,T]=(0,r.useState)();return(0,r.useEffect)((()=>{(0,s.Hb)()?(async()=>{try{const{data:e}=await i.ZP.get(`/api/auth/profile/${(0,s.Nh)()}/`,{headers:{Authorization:`Bearer ${(0,s.hP)()}`}});console.log("user data ->",e),p(e);const t=e.epc_favourites.map(((e,t)=>({number:t+1,postcode:e.postcode||"",address:e.address||"",dateSaved:e.date_added?new Date(e.date_added).toLocaleDateString():""})));T(t)}catch(e){v(!0),console.log(e)}})():(e("/access-denied"),console.log("no account"))}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("section",{className:"agent-profile-page",children:[(0,d.jsx)("div",{className:"desktop-nav",children:(0,d.jsx)(c.Z,{navbarColour:"#FDF7F0"})}),(0,d.jsx)("div",{className:"mobile-nav",children:(0,d.jsx)(l.Z,{setProfileContent:j,profileContent:g,profileDetail:x,setProfileDetail:b})}),(0,d.jsx)(a.Z,{setProfileDetail:b,variableSide:C,setProfileContent:j,setVariableSide:k,userData:f}),(0,d.jsxs)("section",{className:"favourites-section",children:[(0,d.jsxs)("div",{className:"favourite-options",children:[(0,d.jsx)("h5",{onClick:()=>U("Listings"),style:{textDecoration:"Listings"===M?"underline 3px #ED6B86":"none",textUnderlineOffset:"Listings"===M?"0.5em":"initial",fontWeight:"Listings"===M?"700":"400"},children:"Listings"}),(0,d.jsx)("h5",{onClick:()=>U("Property prospects"),style:{textDecoration:"Property prospects"===M?"underline 3px #ED6B86":"none",textUnderlineOffset:"Property prospects"===M?"0.5em":"initial",fontWeight:"Property prospects"===M?"700":"400"},children:"Property prospects"})]}),"Property prospects"===M&&f&&f.epc_favourites.length>0?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"favourite-count",children:[(0,d.jsxs)("h3",{children:["You have ",f?f.epc_favourites.length:""," prospective properties saved"]}),f&&f.epc_favourites&&(0,d.jsx)(u.CSVLink,{data:I,className:"export",filename:"Wittle property list.csv",children:"Export to CSV"})]}),(0,d.jsxs)("div",{className:"table-section",children:[(0,d.jsxs)("div",{className:"table-headers",children:[(0,d.jsx)("h5",{id:"column1",className:"column",children:"#"}),(0,d.jsx)("div",{id:"column2",className:"column",children:(0,d.jsx)("h5",{children:"Postcode"})}),(0,d.jsx)("div",{id:"column3",className:"column",children:(0,d.jsx)("h5",{children:"Address"})}),(0,d.jsx)("div",{id:"column4",className:"column",children:(0,d.jsx)("h5",{children:"Date saved"})}),(0,d.jsx)("div",{id:"column5",className:"column",children:(0,d.jsx)("h5",{children:"Search category"})}),(0,d.jsx)("div",{id:"column6",className:"column",children:(0,d.jsx)("h5",{})})]}),(0,d.jsx)("hr",{className:"property-divider"}),(0,d.jsx)("div",{className:"table-details",children:f?f.epc_favourites.map(((e,t)=>(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"results-content",children:[(0,d.jsx)("div",{className:"column",id:"column1",children:(0,d.jsx)("h5",{children:t+1})}),(0,d.jsx)("div",{className:"column",id:"column2",children:(0,d.jsx)("h5",{children:e.address})}),(0,d.jsx)("div",{className:"column",id:"column3",children:(0,d.jsx)("h5",{children:e.postcode})}),(0,d.jsx)("div",{className:"column",id:"column4",children:(0,d.jsx)("h5",{children:e.date_added})}),(0,d.jsx)("div",{className:"column",id:"column5",children:(0,d.jsx)("h5",{children:e.category})}),(0,d.jsx)("div",{className:"column",id:"column6"})]},t),(0,d.jsx)("hr",{className:"property-divider"})]}))):""})]})]}):"Property prospects"===M&&f&&0===f.epc_favourites.length?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)("div",{className:"favourite-count",children:(0,d.jsx)("h3",{children:"\ud83d\ude15 You don't have any properties saved here. Head to the property services tab to get started!"})})}):""]})]})})}},74651:function(e,t,n){e.exports=n(87277)},9750:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(28381),s=(r=o)&&r.__esModule?r:{default:r},a=n(638),c=n(93362);var l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"buildURI",value:function(){return a.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.headers,r=e.separator,i=e.enclosingCharacter,o=e.uFEFF,s=e.target,a=e.specs,c=e.replace;this.state.page=window.open(this.buildURI(t,o,n,r,i),s,a,c)}},{key:"getWindow",value:function(){return this.state.page}},{key:"render",value:function(){return null}}]),t}(s.default.Component);l.defaultProps=Object.assign(c.defaultProps,{target:"_blank"}),l.propTypes=c.propTypes,t.default=l},58137:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(28381),a=(r=s)&&r.__esModule?r:{default:r},c=n(638),l=n(93362);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.buildURI=n.buildURI.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildURI",value:function(){return c.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){e.preventDefault();var n=this.props,r=n.data,i=n.headers,o=n.separator,s=n.filename,a=n.enclosingCharacter,l=n.uFEFF,u=t&&"function"===typeof r?r():r,d=new Blob([l?"\ufeff":"",(0,c.toCSV)(u,i,o,a)]);return window.navigator.msSaveBlob(d,s),!1}}},{key:"handleAsyncClick",value:function(e){var t=this;this.props.onClick(e,(function(n){!1!==n?t.handleLegacy(e,!0):e.preventDefault()}))}},{key:"handleSyncClick",value:function(e){!1===this.props.onClick(e)?e.preventDefault():this.handleLegacy(e)}},{key:"handleClick",value:function(){var e=this;return function(t){if("function"===typeof e.props.onClick)return e.props.asyncOnClick?e.handleAsyncClick(t):e.handleSyncClick(t);e.handleLegacy(t)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.headers,o=t.separator,s=t.filename,c=t.uFEFF,l=t.children,u=(t.onClick,t.asyncOnClick,t.enclosingCharacter),d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),f="undefined"===typeof window?"":this.buildURI(n,c,r,o,u);return a.default.createElement("a",i({download:s},d,{ref:function(t){return e.link=t},target:"_self",href:f,onClick:this.handleClick()}),l)}}]),t}(a.default.Component);u.defaultProps=l.defaultProps,u.propTypes=l.propTypes,t.default=u},638:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i=t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},o=t.isJsons=function(e){return Array.isArray(e)&&e.every((function(e){return"object"===("undefined"===typeof e?"undefined":n(e))&&!(e instanceof Array)}))},s=t.isArrays=function(e){return Array.isArray(e)&&e.every((function(e){return Array.isArray(e)}))},a=t.jsonsHeaders=function(e){return Array.from(e.map((function(e){return Object.keys(e)})).reduce((function(e,t){return new Set([].concat(r(e),r(t)))}),[]))},c=t.jsons2arrays=function(e,t){var n=t=t||a(e),i=t;o(t)&&(n=t.map((function(e){return e.label})),i=t.map((function(e){return e.key})));var s=e.map((function(e){return i.map((function(t){return l(t,e)}))}));return[n].concat(r(s))},l=t.getHeaderValue=function(e,t){var n=e.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(e,t,n,r){var i=e[t];if(void 0!==i&&null!==i)return i;r.splice(1)}),t);return void 0===n?e in t?t[e]:"":n},u=t.elementOrEmpty=function(e){return"undefined"===typeof e||null===e?"":e},d=t.joiner=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return e.filter((function(e){return e})).map((function(e){return e.map((function(e){return u(e)})).map((function(e){return""+n+e+n})).join(t)})).join("\n")},f=t.arrays2csv=function(e,t,n,i){return d(t?[t].concat(r(e)):e,n,i)},p=t.jsons2csv=function(e,t,n,r){return d(c(e,t),n,r)},h=t.string2csv=function(e,t,n,r){return t?t.join(n)+"\n"+e:e.replace(/"/g,'""')},y=t.toCSV=function(e,t,n,r){if(o(e))return p(e,t,n,r);if(s(e))return f(e,t,n,r);if("string"===typeof e)return h(e,t,n);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};t.buildURI=function(e,t,n,r,o){var s=y(e,n,r,o),a=i()?"application/csv":"text/csv",c=new Blob([t?"\ufeff":"",s],{type:a}),l="data:"+a+";charset=utf-8,"+(t?"\ufeff":"")+s,u=window.URL||window.webkitURL;return"undefined"===typeof u.createObjectURL?l:u.createObjectURL(c)}},87277:function(e,t,n){"use strict";t.CSVLink=void 0;var r=o(n(9750)),i=o(n(58137));function o(e){return e&&e.__esModule?e:{default:e}}r.default,t.CSVLink=i.default},93362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropsNotForwarded=t.defaultProps=t.propTypes=void 0;var r,i=n(28381),o=((r=i)&&r.__esModule,n(34860));t.propTypes={data:(0,o.oneOfType)([o.string,o.array,o.func]).isRequired,headers:o.array,target:o.string,separator:o.string,filename:o.string,uFEFF:o.bool,onClick:o.func,asyncOnClick:o.bool,enclosingCharacter:o.string},t.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},t.PropsNotForwarded=["data","headers"]}}]);
//# sourceMappingURL=354.49b73b54.chunk.js.map